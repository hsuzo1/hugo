[{"categories":["life"],"contents":"\r2024å¹´ï¼Œéšç€æ°”å€™å‰§çƒˆå˜åŒ–çš„æ˜¯å·¥ä½œå²—ä½çš„å˜åŒ–ï¼Œæ¯”ç¥–å›½å¤§åœ°è¿˜è¦å¹¿é˜”çš„æ˜¯æ”¿åºœè´£ä»»çš„è¾¹ç•Œã€‚\n24Ké»„é‡‘ä»å¹´åˆçš„Â¥470.08/gä¸€è·¯æ¶¨åˆ°Â¥541.05/gï¼Œä½†æ˜¯æ–¹æ–¹é¢é¢ä»ç„¶æ„Ÿè§‰æ²¡é’±ï¼Œç¤¾ä¼šæ¶ˆè´¹ä»ç„¶ååˆ†ä½è¿·ã€‚\n2024å¹´5æœˆéº¦è‚¯é”¡å¯¹ä¸­å›½æ¶ˆè´¹æ‰€è°ƒç ”åæ‰€åš\ræŠ¥å‘Š\ræŒ‡å‡ºï¼Œæ¶ˆè´¹è€…ä»¬çš„æ¶ˆè´¹é¢„æœŸä»è¾ƒä¸ºè°¨æ…ï¼Œå‚¨è“„æ„æ„¿å¼ºåŠ²ï¼ŒçŸ­æœŸå†…æ¶ˆè´¹æ½œåŠ›æœªå®Œå…¨é‡Šæ”¾ï¼Œè¿˜æœ‰å¢é•¿ç©ºé—´ã€‚2/3ä»¥ä¸Šäººå£ä»ç„¶ä¹è§‚ï¼Œç‰¹åˆ«æ˜¯Zä¸–ä»£ã€ä¸€çº¿å¯Œè£•é“¶å‘æ—ã€ä¸‰çº¿å¯Œè£•ä¸­è€å¹´å€¼å¾—é‡ç‚¹å…³æ³¨ã€‚ä¸€äºŒçº¿æ–°ä¸­äº§ã€å†œæ‘ä¸­è€å¹´æœ€ä¸ºæ‚²è§‚ï¼Œå¯¹æ¶ˆè´¹æœ‰ä¸€å®šæŠ‘åˆ¶ä½œç”¨ã€‚åœ¨å“ç±»ä¸Šï¼Œæ¶ˆè´¹è€…æ„å‘å‡ºç°åˆ†åŒ–ï¼Œæ¶ˆè´¹å‡é™çº§æ™®éå­˜åœ¨ï¼Œè€Œæˆé•¿å“ç±»ä¸­è§‚å¿µé©±åŠ¨å› ç´ è¾ƒé«˜ã€‚ä¼ä¸šä»éœ€åœ¨ç»†åˆ†èµ›é“å’Œäººç¾¤ä¸­å¯»æ‰¾å¢é•¿æœºä¼šã€‚\nä¸æ¶ˆè´¹å¯†åˆ‡ç›¸å…³çš„è¿˜æœ‰äººå£çš„æ˜¾è‘—å˜åŒ–ï¼Œä»»æ³½å¹³å›¢é˜ŸæŒç»­å…³æ³¨äººå£å˜åŒ–æƒ…å†µã€‚åœ¨å‡ºç”Ÿäººå£è‡ª2017å¹´ä»¥æ¥è¿ç»­ä¸ƒå¹´ä¸‹é™ä¹‹åï¼Œ2023å¹´å‡ºç”Ÿäººå£902ä¸‡äººï¼Œæ¯”2022å¹´å‡å°‘54ä¸‡äººï¼Œç»§ç»­åˆ›æ–°ä½ã€‚2023å¹´æ€»äººå£æ¯”ä¸Šå¹´å‡å°‘208ä¸‡ï¼Œè¿ç»­ä¸¤å¹´è´Ÿå¢é•¿ä¸”å‡é‡æ‰©å¤§ã€‚è€é¾„åŒ–ã€å°‘å­åŒ–ã€ä¸å©šåŒ–ä¸‰å¤§è¶‹åŠ¿åŠ é€Ÿåˆ°æ¥ã€‚äººå£å› ç´ å½±å“é‡å¤§æ·±è¿œï¼Œç”Ÿè‚²æ”¿ç­–è°ƒæ•´æ˜¯æœ€æ ¹æœ¬ã€æœ€é‡è¦çš„ä¾›ç»™ä¾§ç»“æ„æ€§æ”¹é©ä¹‹ä¸€ã€‚\n2016å¹´å‡ºç”Ÿé«˜å³°ä¹‹åï¼Œè¿™äº›äººç¾¤è´­æˆ¿éœ€æ±‚å¤§çº¦åœ¨2035å¹´å·¦å³è¾¾åˆ°é¡¶å³°ï¼Œå±Šæ—¶å…¨ç¤¾ä¼šçš„æˆ¿äº§èµ„æºå°†å…¨é¢è¿›å…¥å¦ä¸€çŠ¶å†µï¼Œç±»ä¼¼æ—¥æœ¬çš„è€äººå±‹å°†é€æ¸æˆä¸ºäººä»¬è¯é¢˜çš„çƒ­è¯ã€‚\nå¦‚æ­¤ç§ç§ï¼ŒçŠ¹å¦‚æ— è¾¹é˜´äº‘é•¿æœŸç¬¼ç½©åœ¨å¤´ä¸Šï¼Œå¯¹æœªæ¥çš„è¿·èŒ«ï¼Œå¯¹æ—§æ—¶å…‰çš„æ€€å¿µï¼Œäº¤ç»‡åœ¨ä¸€èµ·ï¼Œè®©è¿™ä¸ªé¾™å¹´å˜å¾—éåŒå¯»å¸¸ï¼\nå¹¿å®‰æ—¥æŠ¥æœ‰ä¸€ç¯‡æ–‡ç« å¾ˆæœ‰å¯å‘ï¼š\n1980å¹´2æœˆ29æ—¥ï¼Œåœ¨ä¸­å…±åä¸€å±Šäº”ä¸­å…¨ä¼šç¬¬ä¸‰æ¬¡å…¨ä½“ä¼šè®®ä¸Šï¼Œé‚“å°å¹³æŒ‡å‡ºï¼šâ€œå¼€ä¼šè¦å¼€å°ä¼šï¼Œå¼€çŸ­ä¼šï¼Œä¸å¼€æ— å‡†å¤‡çš„ä¼šã€‚ä¼šä¸Šè®²çŸ­è¯ï¼Œè¯ä¸ç¦»é¢˜ã€‚è®®è¿™ä¸ªé—®é¢˜ï¼Œä½ å°±å¯¹è¿™ä¸ªé—®é¢˜å‘è¡¨æ„è§ï¼Œèµæˆæˆ–åå¯¹ï¼Œè®²ç†ç”±ï¼Œæ‰¼è¦ä¸€ç‚¹ï¼›æ²¡æœ‰è¯å°±æŠŠå˜´å·´ä¸€é—­ã€‚ä¸å¼€ç©ºè¯è¿ç¯‡çš„ä¼šï¼Œä¸å‘ç¦»é¢˜ä¸‡é‡Œçš„è®®è®ºã€‚â€\né‚“å°å¹³è®¤ä¸ºï¼Œå½¢å¼ä¸»ä¹‰ä¹Ÿæ˜¯å®˜åƒšä¸»ä¹‰ã€‚ä»–å¯¹ç©ºè¯å¥—è¯æ·±æ¶ç—›ç»ï¼Œè¦æ±‚å¼€ä¼šã€è®²è¯ã€å†™æ–‡ç« éƒ½è¦ç€çœ¼äºè§£å†³é—®é¢˜ï¼Œç©ºè¯å¥—è¯ä¸è¦è¯´ã€‚ä»–æå‡ºâ€œè¦å¼€å°ä¼šï¼Œå¼€çŸ­ä¼šâ€â€œæœ‰è¯åˆ™é•¿ã€æ— è¯åˆ™çŸ­â€â€œæ²¡æœ‰è¯å°±æŠŠå˜´å·´ä¸€é—­â€ã€‚ä»–è®²è¯ï¼Œä¸€èˆ¬ä¸ç”¨äº‹å…ˆå‡†å¤‡ç¨¿å­ï¼Œåªæœ‰åœ¨ä¸€äº›é‡è¦åœºåˆï¼Œä¸€äº›é‡å¤§é—®é¢˜éœ€è¦è¿›è¡Œæ·±å…¥é˜è¿°æ—¶æ‰ç”±åˆ«äººå¸®åŠ©èµ·è‰ç¨¿å­ã€‚å³ä½¿è¿™æ ·ï¼Œä»–ä¹Ÿæ€»æ˜¯è¦æ±‚èµ·è‰äººä»æ”¿æ²»è§’åº¦çœ‹é—®é¢˜ï¼ŒæŠ“ä½è¦å®³ï¼Œæ–‡å­—ä¸èƒ½å¤ªå¤šï¼Œè€Œä¸”éƒ½æ˜¯è‡ªå·±å…ˆå†™å‡ºç®€æ˜çš„æçº²ã€‚1979å¹´3æœˆï¼Œä¸ºäº†å‡†å¤‡åœ¨å…šçš„ç†è®ºå·¥ä½œåŠ¡è™šä¼šä¸Šçš„è®²è¯ï¼Œä»–ä¸“é—¨æŠŠèƒ¡ä¹”æœ¨ç­‰åŒå¿—è¯·åˆ°å®¶é‡Œï¼Œè°ˆç¨¿å­çš„èµ·è‰é—®é¢˜ã€‚çœ‹äº†å·²ç»èµ·è‰çš„ç¨¿å­ï¼Œä»–è¯´ï¼šç°åœ¨æ–‡å­—å¤ªå¤šï¼Œæå¶å¤ªå¤šï¼Œæ¯”è¾ƒå¹³æ·¡ï¼Œå¸å¼•åŠ›ä¸å¤Ÿã€‚ç°åœ¨è¦å¼ºè°ƒçš„åªæ˜¯å‡ ä¸ªé—®é¢˜ï¼Œè¯­è¨€å¤ªå¤šï¼ŒæŠŠè¦çªå‡ºçš„é—®é¢˜å†²æ·¡äº†ã€‚è¿™ç¯‡è®²è¯æ˜¯æ”¿æ²»æ€§çš„è®²è¯ï¼Œä¸éœ€è¦è®²å¾ˆå¤šç†è®ºçš„è¯ã€‚\næœ‰ä»€ä¹ˆæ ·çš„è¯é£ï¼Œå°±æœ‰ä»€ä¹ˆæ ·çš„æ–‡é£ã€‚é‚“å°å¹³çš„æ–‡é£ä¹Ÿå’Œä»–çš„è¯é£ä¸€æ ·ï¼Œè¨€ç®€æ„èµ…ã€‚ä»–æ›¾ç»è¯´è¿‡ï¼šâ€œå­¦é©¬åˆ—è¦ç²¾ï¼Œè¦ç®¡ç”¨çš„ã€‚é•¿ç¯‡çš„ä¸œè¥¿æ˜¯å°‘æ•°æä¸“ä¸šçš„äººè¯»çš„ï¼Œç¾¤ä¼—æ€ä¹ˆè¯»ï¼Ÿâ€1950å¹´7æœˆï¼Œä»–ç»™ä¸­å¤®å†™çš„æŠ¥å‘Šï¼Œæ¶‰åŠæ–¹æ–¹é¢é¢é—®é¢˜ï¼Œä¹Ÿä¸è¿‡ä¸€ä¸¤åƒå­—ï¼Œæ¯›æ³½ä¸œå¤§åŠ èµèµï¼šâ€œçœ‹é‚“å°å¹³çš„æŠ¥å‘Šï¼Œå¥½åƒåƒå†°ç³–è‘«èŠ¦ï¼â€20ä¸–çºª80å¹´ä»£æ•´ç†å‡ºç‰ˆã€Šé‚“å°å¹³æ–‡é€‰ã€‹æ—¶ï¼Œæœ‰å¥½å‡ ç¯‡æ–‡ç« ï¼Œé‚“å°å¹³äº²è‡ªæ“åˆ€æ”¹ï¼Œå› ä¸ºä»–è§‰å¾—â€œå¤ªå•°å—¦äº†ï¼Œåˆ èŠ‚ä¸€åŠâ€ã€‚ç¡®å®ï¼Œâ€œé™ˆè¨€åŠ¡å»ã€æ–‡é£å½“ç®€â€ï¼Œå°‘ä¸€äº›ç©¿é´æˆ´å¸½ã€ç©ºè¯å¥—è¯ï¼Œå¤šåŠä¸€äº›å®äº‹ã€è¦äº‹ï¼Œç¾¤ä¼—æ˜¯çœ‹å¾—åˆ°çš„ã€æ¬¢è¿çš„ã€‚\n","date":"2024-06-08T23:02:31+08:00","permalink":"//localhost:1313/post/life/2024longzhou/","section":"post","tags":["life"],"title":"ä¸ä¸€æ ·çš„é¾™å¹´"},{"categories":["tech"],"contents":"\rSelenium\ræ˜¯æ”¯æŒ web æµè§ˆå™¨è‡ªåŠ¨åŒ–çš„ä¸€ç³»åˆ—å·¥å…·å’Œåº“çš„ç»¼åˆé¡¹ç›®ï¼Œç›®å‰ç‰ˆæœ¬ä¸ºselenium4.9.1ã€‚é€šè¿‡è¯¥å·¥å…·æ‚¨å¯ä»¥è‡ªåŠ¨åŒ–æ“æ§chromeã€firefoxã€edgeç­‰ä¸»æµæµè§ˆå™¨ï¼Œæ•ˆæœç›¸å½“äºæ‚¨äº²æ‰‹æ“ä½œã€‚æœ¬æ–‡ä¸»è¦åŸºäºpythonç¯å¢ƒè¿›è¡Œæ€»ç»“ã€‚\nå‡†å¤‡ä¸€ï¼šå®‰è£…seleniumåº“\npip install selenium å‡†å¤‡äºŒï¼šä¸‹è½½å¯¹åº”æµè§ˆå™¨çš„driverç¨‹åº\nä¸‹è½½å‰éœ€è¦ç¡®è®¤ç”µè„‘æµè§ˆå™¨çš„ç‰ˆæœ¬å·ï¼Œå†ä¸‹è½½ç›¸å¯¹åº”çš„ç¨‹åºã€‚\nå¾®è½¯Edgeæµè§ˆå™¨ï¼š\rMicrosoft Edge WebDriver\rè°·æ­Œæµè§ˆå™¨ï¼š\rchromedriver\rç«ç‹æµè§ˆå™¨ï¼š\rgeckodriver\rå¦‚æœéœ€è¦å…¶ä»–æµè§ˆå™¨é©±åŠ¨ç¨‹åºï¼Œä¹Ÿå¯ä»¥åœ¨\ræ·˜å®é•œåƒç«™\rä¸ŠæŸ¥æ‰¾ã€‚é©±åŠ¨ç¨‹åºä¸‹è½½åï¼Œå¯ä»¥ä¿å­˜åœ¨å¯¹åº”æµè§ˆå™¨çš„ç¨‹åºæ–‡ä»¶å¤¹ä¸­ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨pythonè„šæœ¬ç›®å½•ä¸­ï¼Œåªè¦è¿è¡Œæ—¶æŒ‡å®šå¥½ç¨‹åºè·¯å¾„å³å¯ã€‚\nfrom selenium import webdriver from selenium.webdriver.chrome.service import Service from selenium.webdriver.common.by import By exePath = r\u0026#39;C:\\Program Files (x86)\\Google\\Chrome\\Application\\chromedriver.exe\u0026#39; s = Service(exePath) op = webdriver.ChromeOptions() browser = webdriver.Chrome(service=s, options=op) browser.get(\u0026#39;http://www.gxela.gov.cn\u0026#39;) browser.maximize_window() browser.implicitly_wait(9) write = browser.find_element(By.ID,\u0026#34;j_username\u0026#34;) write.send_keys(\u0026#34;user123132\u0026#34;) write = browser.find_element(By.ID,\u0026#34;j_password1\u0026#34;) write.send_keys(\u0026#34;pwd123456786\u0026#34;) browser.find_element(By.XPATH, \u0026#39;//*[@id=\u0026#34;res-index\u0026#34;]/form[1]/div[4]\u0026#39;).click() å®˜æ–¹ç»™å‡ºçš„å…¥é—¨ä¾‹å­ from selenium import webdriver from selenium.webdriver.common.by import By def test_eight_components(): driver = webdriver.Chrome() driver.get(\u0026#34;https://www.selenium.dev/selenium/web/web-form.html\u0026#34;) title = driver.title assert title == \u0026#34;Web form\u0026#34; driver.implicitly_wait(0.5) text_box = driver.find_element(by=By.NAME, value=\u0026#34;my-text\u0026#34;) submit_button = driver.find_element(by=By.CSS_SELECTOR, value=\u0026#34;button\u0026#34;) text_box.send_keys(\u0026#34;Selenium\u0026#34;) submit_button.click() message = driver.find_element(by=By.ID, value=\u0026#34;message\u0026#34;) value = message.text assert value == \u0026#34;Received!\u0026#34; driver.quit() å…ƒç´ å®šä½ ä¸»è¦æœ‰8ç§ä¸åŒçš„å†…ç½®å…ƒç´ å®šä½ç­–ç•¥ï¼š\nå®šä½å™¨Locator æè¿° class nameå®šä½ classå±æ€§ä¸æœç´¢å€¼åŒ¹é…çš„å…ƒç´ ï¼ˆä¸å…è®¸ä½¿ç”¨å¤åˆç±»åï¼‰ css selector å®šä½CSSé€‰æ‹©å™¨åŒ¹é…çš„å…ƒç´  id å®šä½idå±æ€§ä¸æœç´¢å€¼åŒ¹é…çš„å…ƒç´  name å®šä½nameå±æ€§ä¸æœç´¢å€¼åŒ¹é…çš„å…ƒç´  link text å®šä½link textå¯è§†æ–‡æœ¬ä¸æœç´¢å€¼å®Œå…¨åŒ¹é…çš„é”šå…ƒç´  partial link text å®šä½link textå¯è§†æ–‡æœ¬éƒ¨åˆ†ä¸æœç´¢å€¼éƒ¨åˆ†åŒ¹é…çš„é”šç‚¹å…ƒç´ ã€‚å¦‚æœåŒ¹é…å¤šä¸ªå…ƒç´ ï¼Œåˆ™åªé€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ tag name å®šä½æ ‡ç­¾åç§°ä¸æœç´¢å€¼åŒ¹é…çš„å…ƒç´  xpath å®šä½ä¸XPathè¡¨è¾¾å¼åŒ¹é…çš„å…ƒç´  # find_elementåªè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œfind_elementsåˆ™è¿”å›å…ƒç´ é›† # class nameå®šä½ï¼Œinformationä¸ºç±»å driver.find_element(By.CLASS_NAME, \u0026#34;information\u0026#34;) # css selectorå®šä½ï¼Œfnameä¸ºid driver.find_element(By.CSS_SELECTOR, \u0026#34;#fname\u0026#34;) # é€šè¿‡idå®šä½ï¼Œlnameä¸ºid driver.find_element(By.ID, \u0026#34;lname\u0026#34;) # nameå±æ€§å®šä½ driver.find_element(By.NAME, \u0026#34;newsletter\u0026#34;) # link textå®šä½ï¼Œä¸ºè¶…é“¾æ¥æ ‡ç­¾å driver.find_element(By.LINK_TEXT, \u0026#34;Selenium Official Page\u0026#34;) # partial link textï¼Œå¯ä»¥ç†è§£ä¸ºéƒ¨åˆ†åŒ¹é… driver.find_element(By.PARTIAL_LINK_TEXT, \u0026#34;Official Page\u0026#34;) # tag nameå®šä½ driver.find_element(By.TAG_NAME, \u0026#34;a\u0026#34;) # xpathå®šä½ driver.find_element(By.XPATH, \u0026#34;//input[@value=\u0026#39;f\u0026#39;]\u0026#34;) # åµŒå¥—æŸ¥è¯¢ fruits = driver.find_element(By.ID, \u0026#34;fruits\u0026#34;) fruit = fruits.find_element(By.CLASS_NAME,\u0026#34;tomatoes\u0026#34;) # æˆ–ä¼˜åŒ–ä¸º fruit = driver.find_element(By.CSS_SELECTOR,\u0026#34;#fruits .tomatoes\u0026#34;) # æŸ¥è¯¢divä¸­å…¨éƒ¨på…ƒç´ çš„æ–‡æœ¬å†…å®¹å¹¶è¾“å‡º element = driver.find_element(By.TAG_NAME, \u0026#39;div\u0026#39;) elements = element.find_elements(By.TAG_NAME, \u0026#39;p\u0026#39;) for e in elements: print(e.text) # è·å–å…ƒç´ æ–‡æœ¬å†…å®¹ text = driver.find_element(By.ID, \u0026#34;justanotherlink\u0026#34;).text # é¡µé¢å…ƒç´ æ˜¯å¦æ˜¾ç¤º is_email_visible = driver.find_element(By.NAME, \u0026#34;email_input\u0026#34;).is_displayed() # é¡µé¢å…ƒç´ æ˜¯å¦å¯ç”¨ is_email_visible = driver.find_element(By.NAME, \u0026#34;email_input\u0026#34;).is_displayed() # å…ƒç´ æ˜¯å¦è¢«é€‰ä¸­ value = driver.find_element(By.NAME, \u0026#34;checkbox_input\u0026#34;).is_selected() # è·å–å…ƒç´ æ ‡ç­¾å attr = driver.find_element(By.NAME, \u0026#34;email_input\u0026#34;).tag_name # è·å–å…ƒç´ ä½ç½®å’Œå¤§å°ï¼Œxã€yã€é«˜åº¦ã€å®½åº¦ res = driver.find_element(By.NAME, \u0026#34;range_input\u0026#34;).rect # è·å–å…ƒç´ CSSå€¼ cssValue = driver.find_element(By.ID, \u0026#34;namedColor\u0026#34;).value_of_css_property(\u0026#39;background-color\u0026#39;) # è·å–ç‰¹æ€§æˆ–å±æ€§ email_txt = driver.find_element(By.NAME, \u0026#34;email_input\u0026#34;) value_info = email_txt.get_attribute(\u0026#34;value\u0026#34;) æ–‡æœ¬è¾“å…¥å’Œç‚¹å‡»æ“ä½œ from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.common.keys import Keys driver = webdriver.Firefox() driver.get(\u0026#34;http://www.google.com\u0026#34;) # å®šä½æŒ‰é’®å¹¶ç‚¹å‡» submit_button = driver.find_element(by=By.CSS_SELECTOR, value=\u0026#34;button\u0026#34;).click() # è¾“å…¥\u0026#34;webdriver\u0026#34;åæŒ‰å›è½¦é”® driver.find_element(By.NAME, \u0026#34;q\u0026#34;).send_keys(\u0026#34;webdriver\u0026#34; + Keys.ENTER) # å®šä½æœç´¢æ¡† SearchInput = driver.find_element(By.NAME, \u0026#34;q\u0026#34;) # æœç´¢æ¡†ä¸­è¾“å…¥selenium SearchInput.send_keys(\u0026#34;selenium\u0026#34;) # æ¸…é™¤è¾“å…¥çš„å†…å®¹ SearchInput.clear() è­¦å‘Šæ¡†çš„å¤„ç† # ç‚¹å‡»æŒ‰é’®å¼¹å‡ºè­¦å‘Šæ¡† driver.find_element(By.LINK_TEXT, \u0026#34;See a sample confirm\u0026#34;).click() # ç­‰å¾…å¼¹å‡º wait.until(expected_conditions.alert_is_present()) # å­˜å‚¨åˆ°å˜é‡ä¸­ alert = driver.switch_to.alert # ä¿å­˜è­¦å‘Šæ¡†çš„å†…å®¹ text = alert.text # æŒ‰ä¸‹å–æ¶ˆæŒ‰é’® alert.dismiss() # æŒ‰ä¸‹æŒ‰é’®å¼¹å‡ºæç¤ºæ¡† driver.find_element(By.LINK_TEXT, \u0026#34;See a sample prompt\u0026#34;).click() # ç­‰å¾…æ˜¾ç¤º wait.until(expected_conditions.alert_is_present()) # ä¿å­˜å¯¹è±¡ alert = Alert(driver) # å‘é€æ–‡å­—å†…å®¹ç»™æç¤ºæ¡† alert.send_keys(\u0026#34;Selenium\u0026#34;) # æŒ‰ä¸‹ç¡®å®šæŒ‰é’® alert.accept() frameé¡µé¢çš„å¤„ç† # æ–¹æ³•ä¸€ï¼šå®šä½frameå¯¹è±¡ iframe = driver.find_element(By.CSS_SELECTOR, \u0026#34;#modal \u0026gt; iframe\u0026#34;) # åˆ‡æ¢åˆ°é€‰æ‹©çš„ iframe driver.switch_to.frame(iframe) # å•å‡»frameä¸­çš„æŒ‰é’® driver.find_element(By.TAG_NAME, \u0026#39;button\u0026#39;).click() # æ–¹æ³•äºŒï¼šä¹Ÿå¯ä»¥é€šè¿‡ frameçš„id åˆ‡æ¢åˆ°buttonframeæ¡†æ¶ driver.switch_to.frame(\u0026#39;buttonframe\u0026#39;) # æ–¹æ³•ä¸‰ï¼šåŸºäºç´¢å¼•åˆ‡æ¢åˆ°ç¬¬ 2 ä¸ª iframe iframe = driver.find_elements(By.TAG_NAME,\u0026#39;iframe\u0026#39;)[1] # åˆ‡æ¢åˆ°é€‰æ‹©çš„ iframe driver.switch_to.frame(iframe) # ç¦»å¼€frameåˆ‡å›åˆ°é»˜è®¤å†…å®¹ driver.switch_to.default_content() å…³äºæµè§ˆå™¨çª—å£çš„æ“ä½œæ¯”è¾ƒå¤šï¼Œå¯ä»¥è‡ªè¡Œåˆ°å®˜æ–¹ç½‘å€è¿›è¡Œå­¦ä¹ \rhttps://www.selenium.dev/zh-cn/documentation/webdriver/interactions/windows/\rã€‚å¸¸ç”¨çš„æ“ä½œæœ‰ï¼š\n# çª—å£æœ€å¤§åŒ– driver.maximize_window() # çª—å£æœ€å°åŒ– driver.minimize_window() # å…¨å±å¹•æˆªå›¾ driver.save_screenshot(\u0026#39;./image.png\u0026#39;) # å¯¹æŸä¸ªå…ƒç´ æˆªå›¾ ele = driver.find_element(By.CSS_SELECTOR, \u0026#39;h1\u0026#39;) ele.screenshot(\u0026#39;./image.png\u0026#39;) # æ‰§è¡Œjsè„šæœ¬ header = driver.find_element(By.CSS_SELECTOR, \u0026#34;h1\u0026#34;) # æ‰§è¡Œè„šæœ¬ä»¥è·å¾—headerå…ƒç´ çš„æ–‡æœ¬å†…å®¹ driver.execute_script(\u0026#39;return arguments[0].innerText\u0026#39;, header) # å…¶ä»–jsè„šæœ¬ä¾‹å­ï¼š lessonName = browser.execute_script(\u0026#34;return document.getElementsByClassName(\u0026#39;function-desc-text-desc\u0026#39;\u0026#39;)[0].textContent\u0026#34;) # åˆå¦‚æŸ¥è¯¢è§†é¢‘æ—¶é•¿ï¼š js = \u0026#39;\u0026#39;\u0026#39; var vd = document.querySelector(\u0026#34;video\u0026#34;); return vd.duration; \u0026#39;\u0026#39;\u0026#39; duration = browser.execute_script(js) ","date":"2023-05-28T21:21:47+08:00","permalink":"//localhost:1313/post/tech/python/selenium4/","section":"post","tags":["python"],"title":"Selenium4ä½¿ç”¨æ–¹æ³•å°ç»“"},{"categories":["tech"],"contents":"CloudFlare Pages å‘å…è´¹ç”¨æˆ·æä¾›äº†æ— é™çš„ç«™ç‚¹æ•°ã€è¯·æ±‚æ•°å’Œå¸¦å®½ï¼Œé™¤æ­¤ä¹‹å¤–ä»˜è´¹ç”¨æˆ·å¯ä»¥è·å¾—æ›´å¤šçš„æ„å»ºæ¬¡æ•°å’ŒåŒæ—¶æ„å»ºç«™ç‚¹æ•°ã€‚å£°ç§°Pages are super fast, always up to date, and deployed directly from your Git provider. 1.åˆ›å»ºé¡¹ç›® ä¸¤ç§æ–¹å¼ï¼šè¿æ¥Gitè´¦æˆ·æˆ–è€…ç›´æ¥ä¸Šä¼ æ–‡ä»¶ï¼Œå¹¶è®¾ç½®ä»“åº“ã€‚ 2.è®¾ç½®å˜é‡å¹¶éƒ¨ç½² åœ¨ç¯å¢ƒå˜é‡è®¾ç½®ä¸­æ·»åŠ ä¸€ä¸ªå˜é‡ï¼š\nHUGO_VERSIONï¼Œå€¼ä¸ºï¼š0.92.0ã€‚ å½“ç„¶ï¼Œç‰ˆæœ¬å·å¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µè®¾ç½®ã€‚\n","date":"2023-03-31T21:59:44+08:00","permalink":"//localhost:1313/post/tech/cloudflarepages/","section":"post","tags":["Hugo"],"title":"ä½¿ç”¨Cloudflareçš„Pagesæ‰˜ç®¡Githubçš„Hugoé™æ€é¡µé¢"},{"categories":["life"],"contents":" ç‰›å¹´é™¤å¤•ï¼Œæ°”æ¸©7â„ƒï¼Œé›¨ä¸€æ—©å¼€å§‹å°±æ·…æ·…æ²¥æ²¥æ²¡åœè¿‡ã€‚ç¬¬ä¸€æ¬¡ç‹¬è‡ªè¿‡é™¤å¤•ï¼Œå‡†å¤‡äº†æ°´æœã€æ£‰è¢«å’Œç”µè„‘ï¼Œæ„å¤–çš„æ˜¯ï¼ŒåŠ ç­é¤é‡Œæ”¾çš„ç›ä¼¼ä¹ä¹Ÿå¤ªè¿‡äº†ï¼Œå°è±¡æ·±åˆ»ã€‚\nä¸€æ¬¡é—®å„¿å­ï¼Œâ€œä½ æ€ä¹ˆå®šä¹‰æ˜¥èŠ‚ï¼Ÿæ˜¥èŠ‚è®©ä½ æƒ³èµ·ä»€ä¹ˆï¼Ÿâ€ä»–å›ç­”çš„æ˜¯â€œæœ‰å¥½åƒçš„ã€çº¢å½¤å½¤ã€çœ‹ç”µè§†â€ï¼Œæˆ‘è¯´å¥½åƒè¿˜ä¸å‡†ç¡®ã€‚æˆ‘è§‰å¾—ä»–çš„ç­”æ¡ˆåº”è¯¥ä¼šéšç€ç”Ÿæ´»è€Œé€æ¸ä¸°å¯Œå§ã€‚\nå½“ç‹¬å¤„çš„æ—¶å€™ï¼Œå›å¿†å°±ä¼šæ…¢æ…¢æµ®ä¸Šå¿ƒå¤´ã€‚ æ˜¥æ™š+é­ç‚®ä¼¼ä¹æ˜¯ä¸­å›½æ˜¥èŠ‚çš„æ ‡å¿—ï¼Œç°åœ¨é­ç‚®ğŸ§¨å°‘äº†äº›ï¼Œæ˜¥æ™šä¾æ—§åœ¨è§å¹•ä¸Šï¼Œæƒ³èµ·å°æ—¶å€™ä¸ºäº†çœ‹åˆ°é›¶ç‚¹é’Ÿå£°é‚£ä¸€åˆ»ï¼Œè‡ªå·±æ—©æ—©å°±ä¸ŠåºŠç¡é¥±è§‰ï¼Œé†’æ¥åå¡«é¥±è‚šå­ï¼Œæ‘†ä¸Šæ¤…å­ï¼ŒæŠ«ä¸Šçˆ¶äº²çš„å¤§è¡£ï¼Œå‚¬ä¿ƒç€å¿™ç¢Œçš„è€å¦ˆæ”¶æ‹¾å®Œæ‰‹é‡Œçš„å®¶åŠ¡ï¼Œä¸€å®¶äººèšç²¾ä¼šç¥åœ°ç›¯ç€ç”µè§†æœºï¼Œå…å ‚é‡Œé£˜åŠ¨çš„èŒ‰è‰èŠ±èŒ¶é¦™å‘³å’Œé…’å‘³ï¼Œæ¬¢å£°ç¬‘è¯­ï¼Œå®¶é•¿é‡ŒçŸ­ï¼Œé›¶ç‚¹æ—¶é™¢å­é‡Œéœ‡è€³çš„é­ç‚®å£°ï¼Œéƒ½éšç€ä¸€å¸§ä¸€å¸§èŠ‚ç›®ä¸€èµ·åˆ»å…¥è®°å¿†ä¸­ï¼ŒçœŸæ˜¯éå¸¸æ»¡æ„å¹¸ç¦çš„æ—¶åˆ»ã€‚\nç°åœ¨æœ‰äº†è‡ªå·±çš„å®¶åº­ï¼Œæ¯å¹´éƒ½å¼ ç½—è¿‡èŠ‚çš„äº‹æƒ…ï¼Œæ¯æ¬¡éƒ½æƒ³è·Ÿå­©å­ä»¬å®‰é™åœ°å¤šå¾…ä¸€ä¼šå„¿ï¼Œä½†æ˜¯æ€»ä¸èƒ½å¦‚æ„ğŸ˜”ã€‚æ¯æ¯è¢«ä»–ä»¬çš„é¡½çš®å¼„å¾—å¤´ç–¼çš„æ—¶å€™å°±æƒ³ç€ä»–ä»¬å¿«å¿«é•¿å¤§å¿«å¿«æˆç†Ÿèµ·æ¥ï¼Œä½†æ˜¯å†…å¿ƒåˆå¸Œæœ›æ—¶å…‰æ…¢æ…¢èµ°ï¼Œå¸Œæœ›å­©å­ä»¬æ°¸è¿œåœç•™åœ¨é¡½çš®å¤©çœŸçš„å¹´çºªï¼Œæ°¸è¿œæ˜¯é‚£æ ·ç¨šå«©çš„å£°éŸ³å«çˆ¸çˆ¸å¦ˆå¦ˆã€‚å¦‚æ­¤ï¼Œçˆ¶æ¯ä¹Ÿä¸ä¼šé‚£ä¹ˆå¿«åœ°è€å»ï¼Œä»–ä»¬å¯ä»¥å°½æƒ…çš„å® æººè‡ªå·±çš„å­™å­ï¼Œå¯ä»¥ç»§ç»­è½»æ¾åœ°æŠŠå­™å­é¡¶åœ¨è‡ªå·±è‚©å¤´ã€‚\næ—¶å…‰å•Šï¼Œè®©äººåˆçˆ±åˆæ¨ã€‚\næ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ video æ ‡ç­¾ã€‚\ré™¤å¤•å¤œçš„æ™šé¤\n","date":"2022-01-31T18:43:17+08:00","permalink":"//localhost:1313/post/life/2022springnight/","section":"post","tags":["æ˜¥èŠ‚"],"title":"2022å¹´ç‰¹åˆ«çš„é™¤å¤•å¤œ"},{"categories":["life"],"contents":"\ræ¯æ¬¡æ‹ç…§éƒ½è¦ææ€ªçš„å“¥å“¥\nå¥³å„¿ä¸ƒå²ç”Ÿæ—¥ï¼Œè®¸äº†ä¸€ä¸ªclearçš„æ„¿æœ›ï¼šå¸Œæœ›å“¥å“¥åœ¨å®¶ä¸è¦æ£ä¹±ã€‚ çœŸæ˜¯å¯¹å“¥å“¥è¦æ±‚å¾ˆé«˜å•Šï¼Œæ˜çŸ¥å¥¹å“¥åšä¸åˆ°ã€‚\nç”Ÿæ—¥å½“å¤©è™½ç„¶æ˜¯ç¤¼æ‹œå…­ï¼Œä½†æ˜¯æˆ‘å·¥ä½œåˆ°ä¸‹åˆ3ç‚¹æ‰æ”¶å·¥ï¼Œå›åˆ°å®¶çƒ¹é¥ªäº†é•¿å¯¿é¢ï¼Œç”œç‚¹åšäº†è›‹æŒå’ŒåŒçš®å¥¶ã€‚\nå­©å­ä»¬ä¸€é¡¿é¥±é¤ä¹‹åï¼Œå¾…çœ‹åˆ°æ¡Œä¸Šæ¼‚äº®çš„å·§å…‹åŠ›è›‹ç³•ï¼Œä¾¿çº·çº·æŠŠå˜´è¾¹å‰©ä¸‹çš„è›‹æŒæ¨ç»™æˆ‘ğŸ˜‚ï¼Œå¥½åƒå¾ˆæœ‰å­å¿ƒã€‚\næœ‰æ„æ€çš„æ˜¯ï¼Œå¥³å„¿æœ€æƒ³è¦çš„ç”Ÿæ—¥ç¤¼ç‰©ç«Ÿç„¶æ˜¯â€”â€”â€”â€”ä¸€ä¸ªæ›´å¤§çš„é¥­ç¢—ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ å¥½å§ï¼Œæ— æ³•é˜»æŒ¡çš„åƒè´§ã€‚ç¬¬äºŒå¤©è€å©†å°±å¸¦å¥¹å»é€‰è´­äº†ä¸€ä¸ªã€‚\nç‰¹åˆ«çš„åƒè›‹æŒæ–¹æ³•\nç¾å‘³è›‹æŒ\nçœ‹ç€æ–°ç¢—ä¹å‘µå‘µ\nç¢—çœŸçš„å¾ˆå¤§æ¬¸ï¼ŒD=17cm\n","date":"2022-01-23T22:27:34+08:00","permalink":"//localhost:1313/post/life/daughterbirthday/","section":"post","tags":["gift","birthday","photo"],"title":"å°å¥³å„¿ä¸ƒå²ç”Ÿæ—¥å’¯"},{"categories":["life"],"contents":"ä¸€ã€æŠ«è–©é¥¼åº•é…æ–¹ 1.æ—¥å¸¸ä½¿ç”¨çš„é…æ–¹ä¹‹ä¸€ï¼Œå¯æ ¹æ“šéœ€è¦åˆ†çˆ²å…©ä»½é‡ã€‚ é«˜ç­‹éºµç²‰ 200g å³ç™¼ä¹¾é…µæ¯ 2g ç´°ç ‚ç³– 5g é¹½ 3g ç‰›å¥¶ 124g æ©„æ¬–æ²¹ 5g 2.ç¶²çµ¡åˆ—å‡ºçš„é…æ–¹ä¹‹äºŒï¼Œå¯ä»¥åƒè€ƒã€‚ äºŒã€è–‘æ’å¥¶é…æ–¹ Ginger Milk Curd åšäº†å…©æ¬¡ï¼Œè²Œä¼¼å€†å¨ƒä¸å¤ªæ„›è–‘æ±çš„å‘³é“ï¼Œè¨€å¤ªè¾£ã€‚\nç†±ç‰›å¥¶ 125ml åŠ ç†±è‡³75â„ƒâ€”80â„ƒ é®®è–‘æ± 5ml è–‘æ±åšæ³•ï¼š é®®è–‘ 120g ç³– ä¸€å¤§å‹º è…Œè£½20åˆ†é˜ æº–å‚™ç‰›å¥¶500mlï¼Œå¥¶ç²‰åŠå‹ºã€‚ç‰›å¥¶åˆ°é”æº«åº¦åï¼Œè¿…é€Ÿå†²å…¥ç››æœ‰è–‘æ±çš„ç¢—ä¸­ï¼Œä¸è¦æ”ªæ‹Œï¼Œéœç½®30åˆ†é˜å³å¯æˆå‹ã€‚\nä¸‰ã€è¨˜éŒ„ä¸€ä¸‹ç¶²ç¶«æ¥é§æ–¹æ³• 568Bæ°´æ™¶é ­æ¥ç¶«\n","date":"2022-01-02T17:52:55+08:00","permalink":"//localhost:1313/post/life/2022newyear/","section":"post","tags":["life","food"],"title":"2022ä¾†åˆ°äº†ï¼Œæ…¢æ…¢å“å‘³ç”Ÿæ´»ğŸ•"},{"categories":["tech"],"contents":"Delphiä¸­çš„BPLæ–‡ä»¶ç±»ä¼¼äºwindowsä¸­DLLæ–‡ä»¶ï¼Œå¯ä»¥å°è£…å®Œæ•´çš„VCLå’Œå…¶ä»–å‡½æ•°ã€‚å¦‚åœ¨å¼€å‘ä½¿ç”¨ä¸­é‡‡ç”¨â€œä¸»ç¨‹åºâ€+â€œbplâ€æ¨¡å¼ï¼Œä¸ä»…å¯ä»¥å¤§å¤§å‡å°‘ä¸»ç¨‹åºçš„ä½“ç§¯ï¼Œè¿˜èƒ½å°†å„åŠŸèƒ½æ¨¡å— åˆ†å¸ƒå¼€å‘ï¼Œæé«˜åŒæ­¥å¼€å‘çš„é€Ÿåº¦ã€‚å¦å¤–ï¼Œå¦‚åæœŸéœ€è¦æ›´æ”¹ä¸ªåˆ«åŠŸèƒ½æ—¶ä»…è¦ä¿®æ”¹å¯¹åº”çš„bplæ–‡ä»¶å³å¯ï¼Œè€Œä¸å¿…é‡æ–°ç¼–è¯‘å‘å¸ƒæ•´ä¸ªç¨‹åºæ–‡ä»¶ã€‚\næµ‹è¯•ç”¨çš„VCLç¨‹åºä¸»è¦å±æ€§ æµ‹è¯•ä½¿ç”¨çš„æ˜¯Delphi 10.2å’Œwindows10ç³»ç»Ÿ æ·»åŠ ä¸€ä¸ªMainmenuå’ŒPanelï¼ŒPanelè®¾ç½®ä¸ºalign=alClientï¼ŒMainmenuæ·»åŠ ä¸€ä¸ªèœå•â€œOpen BPL Formâ€ç”¨äºæ¿€æ´»å­çª—å£ã€‚ æ–°å»ºä¸€ä¸ªPackageåŒ…ï¼Œå‘½åä¸ºâ€œbplForm.bplâ€ï¼› bplForm.bplåŒ…ä¸­æ·»åŠ ä¸€ä¸ªFormï¼Œä¸»è¦å±æ€§å¦‚ä¸‹ï¼šalign=alClientï¼ŒBorderSytle=bsNoneï¼ŒWIndowState=wsMaximizedã€‚ç•Œé¢ä¸Šæ”¾ç½®ä¸€ä¸ªButtonï¼Œç”¨äºå®ç°å…³é—­åŠŸèƒ½ï¼Œå…¶ä»–ç»„ä»¶éšä¾¿æ·»åŠ ã€‚ å„ä¸»è¦åŠŸèƒ½ä»£ç  bplForm.bplä¸­çš„Form2å¦‚ä¸‹ï¼š\nprocedure TForm2.Button1Click(Sender: TObject);\rbegin\rclose;\rend;\rprocedure TForm2.FormClose(Sender: TObject; var Action: TCloseAction);\rbegin\rAction := caFree;\rend;\rinitialization\rRegisterClass(TForm2);\rfinalization\rUnRegisterClass(TForm2);\rFreeAndNil(Form2); ä¸»ç¨‹åºä¸­ä»£ç å¦‚ä¸‹ï¼š 1.privateä¸­å®šä¹‰åŠ¨æ€è£…è½½åŒ…çš„è¿‡ç¨‹ï¼š\nprocedure LoadMDIForm(BplFile, TFrmName : String); 2.å…¶ä»–å¦‚ä¸‹\nvar\rForm1: TForm1;\rimplementation\r{$R *.dfm}\r//å£°æ˜ä¸€äº›å…¨å±€å˜é‡\rvar\rBPLHandle : Cardinal;//HModule;\rAForm : TForm;\rLoadedBplFileName : String;\r{ TForm1 }\rprocedure TForm1.BplForm1Click(Sender: TObject);\rbegin\r// åŠ¨æ€è£…è½½åŒ…\rLoadMDIForm(\u0026#39;bplForm.bpl\u0026#39; , \u0026#39;TForm2\u0026#39;);\rend;\rprocedure TForm1.FormClose(Sender: TObject; var Action: TCloseAction);\rbegin\r// å…³é—­ä¸»ç¨‹åºæ—¶ï¼Œæ¸…ç†åŒ…\rif BPLHandle \u0026lt;\u0026gt; 0 then\rbegin\rUnRegisterModuleClasses(BPLHandle);\rUnloadPackage(BPLHandle); //å¸è½½åŒ…\rend;\rend;\rprocedure TForm1.FormCreate(Sender: TObject);\rbegin\rLoadedBplFileName := \u0026#39;\u0026#39;;\rend;\rprocedure TForm1.LoadMDIForm(BplFile, TFrmName: String);\rvar\rAClass : TClass;\rbegin\rif Not FileExists(ExtractFilePath(paramstr(0)) + BplFile) then\rbegin\rApplication.MessageBox(PChar(\u0026#39;æ‰¾ä¸åˆ°æ–‡ä»¶ \u0026#39; + BplFile) , \u0026#39;MSG\u0026#39;, MB_OK);\rExit;\rend;\rTry\rif (AForm \u0026lt;\u0026gt; Nil) And (AForm.Showing) then FreeAndNil(AForm);\rif LoadedBplFileName \u0026lt;\u0026gt; BplFile then\rbegin\rif BPLHandle \u0026lt;\u0026gt; 0 then\rbegin\rUnloadPackage(BPLHandle);\rBPLHandle := 0;\rend;\rBPLHandle := LoadPackage(BplFile);\rend;\rAClass := GetClass(TFrmName);\rif AClass \u0026lt;\u0026gt; nil then\rbegin\rApplication.CreateForm(TComponentClass(AClass) , AForm);\r// å°†bplä¸­çš„FormåµŒå…¥åˆ°ä¸»ç¨‹åºä¸­çš„Panelä¸­ï¼Œå®ç°ä¸ä¸»ç¨‹åºåŒæ­¥ç¼©æ”¾\rAForm.parent := Form1.Panel1;\rAForm.bringToFront;\rAForm.Show;\rend;\rExcept\ron E: Exception do\rbegin\rApplication.MessageBox(PChar(\u0026#39;çª—å£åµŒå…¥å¤±è´¥ï¼é”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š\u0026#39;+#13+ E.Message ) , \u0026#39;å…¬æ–‡ç®¡ç†\u0026#39;, MB_OK);\rExit;\rend;\rEnd;\rLoadedBplFileName := BplFile;\rend; æœ€å…³é”®çš„ä¸€å¤„è®¾ç½® è¦å®ç°åŠ¨æ€åŠ è½½packageåŒ…è¿˜éœ€è¦åœ¨IDEè¿›è¡Œä¸€ç‚¹è®¾ç½®ï¼Œå¦åˆ™GetClass(TFrmName)å°†å§‹ç»ˆè¿”å›nilï¼Œä»è€Œæ— æ³•è¾¾åˆ°é¢„æœŸã€‚\nå‹¾é€‰â€œlink with runtime packageâ€ä¸º True åœ¨ä¸‹æ–¹çš„â€œRuntime packagesâ€ä¸­æ‰‹åŠ¨æ·»åŠ è¦åŠ è½½çš„åŒ…åç§°ï¼ŒåŒæ—¶åˆ é™¤ä¸‹æ–¹é»˜è®¤çš„ç³»ç»ŸåŒ…ã€‚æœ€ç»ˆå¦‚ä¸‹å›¾ï¼š å…¶ä»–å‚è€ƒæ–‡ç« \rhttps://www.cnblogs.com/dingjie/articles/195195.html\rç‚¹å‡»æŒ‰é’®ä¸‹è½½æœ¬æ–‡æºä»£ç ï¼š download\r","date":"2021-03-17T19:59:31+08:00","permalink":"//localhost:1313/post/tech/delphi/embedbplform/","section":"post","tags":["delphi","bpl","download"],"title":"Delphiå®ç°BPLçª—ä½“åµŒå…¥ä¸»ç¨‹åºå†…"},{"categories":["life"],"contents":" 2021å¯’å‡ç»“æŸäº†ï¼Œå­©å­ä»¬å¼€å§‹æ–°çš„å­¦ä¹ ã€‚\næ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ video æ ‡ç­¾ã€‚\rPlutoå¼€å­¦å‰ä¸€å¤©çš„è‡ªä¹ ï¼Œè‡ªå­¦ä¸ƒå¹´çº§çš„æœ‰ç†æ•°éƒ¨åˆ†ï¼Œå¯¹äºåŸºæœ¬æ¦‚å¿µçš„æŒæ¡å·²ç»å¾ˆä¸é”™äº†ã€‚ æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ video æ ‡ç­¾ã€‚\r2021.3.1 Plutoæ—¥å¸¸è®­ç»ƒã€‚å¥½æœ‹å‹æ‰‹è‡‚éª¨æŠ˜äº†ï¼Œä¹Ÿä»ç„¶åšæŒå•è‡‚è®­ç»ƒï¼Œä»–è¿˜æœ‰ä»€ä¹ˆç†ç”±å·æ‡’å‘¢ã€‚ æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ video æ ‡ç­¾ã€‚\r2021.2.28 Roseçš„èˆè¹ˆå…¬å¼€è¯¾ã€‚å¥½åƒå¥¹æœ€å–œæ¬¢çš„å°±æ˜¯ç»˜ç”»å’Œèˆè¹ˆäº†ï¼Œè¶³çƒæ˜¯è¢«è¿«æ·»åŠ çš„æˆ·å¤–è¿åŠ¨é¡¹ç›®å’¯ã€‚ 2020ç§‹ å¤§ç­ä¸Šå­¦æœŸ\n2020ç§‹ å¤§ç­ä¸Šå­¦æœŸçš„ç•™å½± ","date":"2021-03-01T21:06:34+08:00","permalink":"//localhost:1313/post/life/2021spring/","section":"post","tags":["family"],"title":"2021å¯’å‡ç»“æŸæ–°æˆ˜å½¹æ‰“å“"},{"categories":["tech"],"contents":"Githubä¸Šçš„æ–‡ç« \rthe-way-to-go_ZH_CN\rå¯¹é—­åŒ…çš„è§£é‡Šä¸ºï¼š\nåŒ¿åå‡½æ•°åŒæ ·è¢«ç§°ä¹‹ä¸ºé—­åŒ…ï¼ˆå‡½æ•°å¼è¯­è¨€çš„æœ¯è¯­ï¼‰ï¼šå®ƒä»¬è¢«å…è®¸è°ƒç”¨å®šä¹‰åœ¨å…¶å®ƒç¯å¢ƒä¸‹çš„å˜é‡ã€‚é—­åŒ…å¯ä½¿å¾—æŸä¸ªå‡½æ•°æ•æ‰åˆ°ä¸€äº›å¤–éƒ¨çŠ¶æ€ï¼Œä¾‹å¦‚ï¼šå‡½æ•°è¢«åˆ›å»ºæ—¶çš„çŠ¶æ€ã€‚å¦ä¸€ç§è¡¨ç¤ºæ–¹å¼ä¸ºï¼šä¸€ä¸ªé—­åŒ…ç»§æ‰¿äº†å‡½æ•°æ‰€å£°æ˜æ—¶çš„ä½œç”¨åŸŸã€‚è¿™ç§çŠ¶æ€ï¼ˆä½œç”¨åŸŸå†…çš„å˜é‡ï¼‰éƒ½è¢«å…±äº«åˆ°é—­åŒ…çš„ç¯å¢ƒä¸­ï¼Œå› æ­¤è¿™äº›å˜é‡å¯ä»¥åœ¨é—­åŒ…ä¸­è¢«æ“ä½œï¼Œç›´åˆ°è¢«é”€æ¯ã€‚\nCSDNä¸Šçš„è¯´æ³•ï¼šé—­åŒ…æ˜¯åŒ¿åå‡½æ•°ä¸åŒ¿åå‡½æ•°æ‰€å¼•ç”¨ç¯å¢ƒçš„ç»„åˆã€‚åŒ¿åå‡½æ•°æœ‰åŠ¨æ€åˆ›å»ºçš„ç‰¹æ€§ï¼Œè¯¥ç‰¹æ€§ä½¿å¾—åŒ¿åå‡½æ•°ä¸ç”¨é€šè¿‡å‚æ•°ä¼ é€’çš„æ–¹å¼ï¼Œå°±å¯ä»¥ç›´æ¥å¼•ç”¨å¤–éƒ¨çš„å˜é‡ã€‚è¿™å°±ç±»ä¼¼äºå¸¸è§„å‡½æ•°ç›´æ¥ä½¿ç”¨å…¨å±€å˜é‡ä¸€æ ·ï¼Œä¸ªäººç†è§£ä¸ºï¼šåŒ¿åå‡½æ•°å’Œå®ƒå¼•ç”¨çš„å˜é‡ä»¥åŠç¯å¢ƒï¼Œç±»ä¼¼å¸¸è§„å‡½æ•°å¼•ç”¨å…¨å±€å˜é‡å¤„äºä¸€ä¸ªåŒ…çš„ç¯å¢ƒã€‚\nä¸”çœ‹ä»£ç ï¼š package main import \u0026#34;fmt\u0026#34; func main() { var f = adder() fmt.Print(f(1), \u0026#34; - \u0026#34;) fmt.Print(f(20), \u0026#34; - \u0026#34;) fmt.Print(f(300)) fb := fib() for i := 0; i \u0026lt; 10; i++ { fmt.Println(fb()) } } func adder() func(int) int { var x int return func(delta int) int { x += delta return x } } func fib() func() int { var a int = 0 var b int = 1 return func() int { c := a a = b b = a + c return c } } è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n1 - 21 - 3210 1 1 2 3 5 8 13 21 34 ä¸Šé¢å‡½æ•°ä¸­ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡ fï¼Œç³»ç»Ÿå°±æ‰§è¡Œä¸€æ¬¡func(delta int) intï¼Œè€Œfunc adder()å‡½æ•°ä¸­çš„xçš„å€¼ä¹Ÿè¢«æ›´æ–°ä¸€æ¬¡ã€‚ç¬¬äºŒä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—å‡½æ•°ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ¯å¾ªç¯ä¸€æ¬¡ï¼Œå‡½æ•°fb()å°±æ‰§è¡Œä¸€æ¬¡ï¼Œæ‰§è¡Œæ—¶å°†å†…éƒ¨æ•°å€¼å’Œå¤–éƒ¨å‡½æ•°çš„aã€bæ›´æ–°ï¼ˆç›¸å½“äºæš‚å­˜èµ·æ¥ï¼‰ï¼Œæ¯æ¬¡æ‰§è¡Œåå°±è¿”å›å‰é¢ç´¯åŠ åçš„ç»“æœcã€‚\n","date":"2021-03-01T20:18:56+08:00","permalink":"//localhost:1313/post/tech/go/go-closure/","section":"post","tags":["go"],"title":"Goä¸­é—­åŒ…çš„ç®€å•ä½¿ç”¨"},{"categories":["tech"],"contents":"è¿‘æœŸå¶ç„¶å°\rGo\rèªè¨€ç”¢ç”Ÿäº†èˆˆè¶£ï¼Œæ–¼æ˜¯åˆç•¥å­¸ç¿’äº†ä¸€ä¸‹ï¼Œæ„Ÿè¦ºç¢ºå¯¦éå¸¸çŠ€åˆ©ã€‚\nGo äº 2009 å¹´ç”±è°·æ­Œå¼€å‘å®Œæˆã€‚å®ƒè§£å†³äº†ä¸€ä¸ªé—®é¢˜ï¼Œåˆ›å»ºå‡ºä¸€ç§æ²¡æœ‰ C++ç­‰è¯­è¨€çš„è¿‡é‡åŒ…è¢±å’Œè¿‡åˆ†è®¾è®¡çš„è¯­è¨€ã€‚ è¿™ä½¿å¾— Go åœ¨æ€§èƒ½å’Œé€Ÿåº¦ä¸Šéƒ½æœ‰æå¤§æå‡ï¼Œä½¿ç”¨ Go å·¥ä½œæˆä¸ºä¸€ä»¶ä¹äº‹ã€‚\næ­¤å¤–ï¼Œå¤§éƒ¨åˆ†ç¬¬ä¸€æ¬¡ä½¿ç”¨ Go è¯­è¨€çš„å¼€å‘è€…ä¸ä¼šæ„Ÿè§‰åˆ°ä¸ä¾¿ï¼Œå› ä¸º Go ä¸­çš„ç†Ÿæ‚‰å…ƒç´ åŠå…¶æ˜“ç”¨æ€§æ„æˆäº†ä¸€é¡¹æƒŠå–œã€‚è¿™å¹¶ä¸æ˜¯è¯´ Go è¯­è¨€åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½æ˜¯å®Œç¾çš„ã€‚ è™½ç„¶å®ƒå°†é€Ÿåº¦å’Œä¼˜é›…åº¦æå‡åˆ°æ–°çš„å±‚æ¬¡ï¼Œä½†ä¹Ÿèˆå¼ƒäº†ä¸€äº›ç”¨æˆ·æœŸæœ›çš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œå®ƒä¸å…·å¤‡å¤§é‡åº“ï¼Œä¹Ÿä¸æ”¯æŒç»§æ‰¿ã€‚æ­¤å¤–ï¼Œå®ƒæ²¡æœ‰ GUI åº“ï¼Œä¹Ÿä¸æ”¯æŒå¯¹è±¡å¯¼å‘çš„ç¼–ç¨‹ã€‚Go è¯­è¨€çš„ç‰¹ç‚¹è¡¨æ˜å®ƒå…·å¤‡è½»é‡çº§çº¿ç¨‹å®ç°ï¼ˆGoroutineï¼‰ã€æ™ºèƒ½æ ‡å‡†åº“ã€å¼ºå¤§çš„å†…ç½®å®‰å…¨æ€§ï¼Œä¸”å¯ä½¿ç”¨æœ€ç®€è¯­æ³•è¿›è¡Œç¼–ç¨‹ã€‚\nå®˜ç¶²ä¸Šçš„ä»‹ç´¹ï¼š\nGo is an open source programming language that makes it easy to build simple, reliable, and efficient software.\nçŸ¥ä¹ä¸Šæœ‰æ–‡ç« é€²è¡Œäº†Pythonå’ŒGoè©³ç´°å°æ¯”åˆ†æï¼Œæ„Ÿèˆˆè¶£çš„å¯ä»¥\ræŸ¥çœ‹åŸæ–‡\rã€‚\nå°æ¸¬è©¦ ç·¨å¯«äº†ä¸€å€‹è¨ˆç®—1wä»¥å†…ç´ æ•¸çš„è„šæœ¬ï¼Œå°æ¯”Pythonå’ŒGoçš„è€—æ™‚æƒ…æ³ã€‚\nGoè„šæœ¬ï¼Œé‹è¡ŒåŸºæœ¬åœ¨ 50 æ¯«ç§’å·¦å³ã€‚ package prime import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) // GetPrime ç”¨äºè®¡ç®—ç´ æ•° func GetPrime() int { fmt.Println(\u0026#34;start\u0026#34;) /* ç´ æ•°ï¼šæ‰“å°2-100å†…çš„ç´ æ•°ã€‚åªèƒ½è¢«2å’Œæœ¬èº«æ•´é™¤ã€‚ */ t := time.Now() countsum := 0 for i := 2; i \u0026lt;= 10000; i++ { count := 0 //ç”¨äºç»Ÿè®¡iè¢«æ•´é™¤çš„æ¬¡æ•° for j := 2; j \u0026lt; i; j++ { if i%j == 0 { count++ break } } // fmt.Println(count) if count == 0 { // fmt.Println(i, \u0026#34;æ˜¯ç´ æ•°\u0026#34;) countsum++ } } elapsed := time.Since(t) fmt.Println(\u0026#34;app elapsed:\u0026#34;, elapsed) return countsum } Pythonè„šæœ¬ï¼Œé‹è¡ŒåŸºæœ¬åœ¨ 660 æ¯«ç§’å·¦å³ã€‚ # -*- coding:utf-8 -*- \u0026#39;\u0026#39;\u0026#39; æ±‚ n ä»¥å†…çš„ç´ æ•°ä¸ªæ•°ï¼Œå¹¶è·å¾—è€—æ—¶ \u0026#39;\u0026#39;\u0026#39; import datetime import time t1 = datetime.datetime.now().microsecond t3 = time.mktime(datetime.datetime.now().timetuple()) prm_lst = [] def get_prime(num0): rst = False if num0\u0026lt;=1: # print(\u0026#39;è¿™ä¸æ˜¯è´¨æ•°\u0026#39;) rst = False elif num0==2: # print(\u0026#39;è¿™æ˜¯ä¸€ä¸ªè´¨æ•°!\u0026#39;) rst = True else: i=2 while i\u0026lt;num0: if num0%i==0: # print(\u0026#39;è¿™ä¸æ˜¯ä¸€ä¸ªè´¨æ•°\u0026#39;) break i=i+1 else: # print (\u0026#39;è¿™æ˜¯ä¸€ä¸ªè´¨æ•°!\u0026#39;) rst = True return rst for i in range(0, 10000): if get_prime(i): prm_lst.append(i) t2 = datetime.datetime.now().microsecond t4 = time.mktime(datetime.datetime.now().timetuple()) strTime = \u0026#39;funtion time use:%dms\u0026#39; % ((t4 - t3) * 1000 + (t2 - t1) / 1000) print(len(prm_lst), strTime) ç¸½çµ ä»¥ä¸Šå°æ¯”å¯è¦‹ï¼Œå€‹äººè¦ºå¾— Go æ€§èƒ½ç¢ºå¯¦å„ªè¶Šï¼ˆæœ¬äººæ¥­é¤˜æ°´å¹³ï¼Œæ¸¬è©¦ä¸ä¸€å®šå°ˆæ¥­åš´è¬¹ï¼‰ã€‚è€Œä¸”åœ¨è¨ˆç®—100wç´šåˆ¥çš„æ™‚å€™äºŒè€…å·®ç•°æ›´æ˜¯æ˜é¡¯ã€‚\næˆ‘æ­¤å‰å­¸ç¿’çš„æ˜¯Delphiï¼Œå¾Œä¾†è‡ªå­¸Pythonï¼Œç¾åœ¨ä¾†å­¸ç¿’Goèªè¨€ï¼Œè¦ºå¾—ä¸€äº›åŸºæœ¬æ„Ÿå¿µæ¯”è¼ƒå®¹æ˜“ç†è§£ã€‚ä»¥å¾Œæœ‰æ™‚é–“å†æ·±å…¥å­¸ç¿’å§ã€‚\n","date":"2021-02-24T20:20:27+08:00","permalink":"//localhost:1313/post/tech/gofirst/","section":"post","tags":["golang"],"title":"Goèªè¨€åˆè¦‹"},{"categories":["tech"],"contents":"è…¾è®¯äº‘çš„TC3 v3é‰´æƒæ¯”è¾ƒå¤æ‚ï¼Œå½“ç„¶è¿™æ˜¯ç›¸å¯¹äºDelphiä¸‹è€Œè¨€ï¼Œå…¶å®åœ¨Pythonä¸‹ç›´æ¥ä½¿ç”¨SDKè¦çœäº‹å„¿çš„å¤šã€‚æœ¬æ–‡çš„æºä»£ç å°±ä¸è´´äº†ï¼Œéœ€è¦çš„å¯ä»¥å»åŸæ–‡ä¸‹è½½ã€‚\nå‚è€ƒäº†\ré«˜æ–‡æ°\rå…ˆç”Ÿçš„ä»£ç ï¼Œè¯¥ä»£ç ä½¿ç”¨çš„æ¥å£æ˜¯æ—§ç‰ˆï¼Œç›®å‰ä»å¯æ­£å¸¸ä½¿ç”¨ï¼Œæˆ‘ç»“åˆè‡ªå·±çš„å­¦ä¹ å¢æ·»äº†æœ€æ–°TC3-HMAC-SHA256 V3ç‰ˆæœ¬çš„é‰´æƒæ¥å£ã€‚æœ¬æ–‡æœ€åæä¾›äº†æºç åŠç¼–è¯‘æˆå“ã€‚\nä¸€ã€TC3é‰´æƒå•å…ƒ ä¸ºäº†æ–¹ä¾¿å¤ç”¨ï¼Œå†™äº†ä¸€ä¸ªTC3é‰´æƒå•å…ƒæ–‡ä»¶ï¼šTC3_Authorization.pasï¼š\n{\r2021-02-15\rå¹¿è¥¿å—å®\rå¼ æ—­å·\rè…¾è®¯äº‘ TC3-HMAC-SHA256 ç”Ÿæˆé‰´æƒæ•°æ®\r}\runit TC3_Authorization;\rinterface\ruses\rSystem.SysUtils, System.hash, System.NetEncoding, System.DateUtils;\r{ -------------------------------------------------------------------------------\rè¿‡ç¨‹å: genTC3Auth\rä½œè€…: å¼ æ—­å·\ræ—¥æœŸ: 2021.02.15\rå‚æ•°: SecretKey, SecretId, sDomain, bodyJSON, Service: string\rå‚æ•°è¯´æ˜ï¼š AccessKeyIDï¼ŒAccessKeySecretï¼ŒåŸŸå, å¾…å‘é€çš„æ•°æ®ä¸»ä½“JSONï¼Œ æœåŠ¡ocr, cvm\rè¿”å›å€¼: string\rå‚æ•°å‚è€ƒå¦‚ä¸‹ï¼š\rSecretKey := \u0026#39;æ‚¨çš„è…¾è®¯äº‘SecretKey\u0026#39;;\rSecretId := \u0026#39;æ‚¨çš„è…¾è®¯äº‘SecretId\u0026#39;;\rService := \u0026#39;sms\u0026#39; //å‘é€çŸ­ä¿¡\rsDomain := \u0026#39;sms.tencentcloudapi.com\u0026#39; //çŸ­ä¿¡å‘é€çš„åŸŸå\r------------------------------------------------------------------------------- }\rfunction genTC3Auth(SecretKey, SecretId, sDomain, bodyJSON, Service: string): string;\rimplementation\rfunction DateTimeToUnix(const AValue: TDateTime): Int64;\r// æ—¥æœŸè½¬Unixæ—¶é—´æˆ³\rbegin\rResult := System.DateUtils.DateTimeToUnix(AValue) - 8 * 60 * 60;\rend;\r//è…¾è®¯äº‘TC3 V3ç­¾åé‰´æƒ\rfunction genTC3Auth(SecretKey, SecretId, sDomain, bodyJSON, Service: string): string;\rvar\rhttpRequestMethod: string; // = \u0026#34;POST\u0026#34;;\rcanonicalUri: string; //= \u0026#34;/\u0026#34;;\rcanonicalQueryString: string; //= \u0026#34;\u0026#34;;\rcanonicalHeaders: string; // = \u0026#34;content-type:application/json; charset=utf-8\\n\u0026#34; + \u0026#34;host:\u0026#34; + host + \u0026#34;\\n\u0026#34;;\rsignedHeaders: string; //= \u0026#34;content-type;host\u0026#34;;\rSecretDate, SecretService, SecretSigning, Signature: TBytes;\rStringToSign, payload, CanonicalRequest, HashedRequestPayload, HashedCanonicalRequest: string;\rsDate,timestamp : string;\rAuthorization, CredentialScope : string;\rbegin\rsDate := FormatDateTime(\u0026#39;YYYY-MM-DD\u0026#39;, now());\rtimestamp := DateTimeToUnix(now).ToString;\rhttpRequestMethod := \u0026#39;POST\u0026#39;;\rcanonicalUri := \u0026#39;/\u0026#39;;\rcanonicalQueryString := \u0026#39;\u0026#39;;\rcanonicalHeaders := \u0026#39;content-type:application/json\u0026#39; + #10\r+ \u0026#39;host:\u0026#39; + sDomain + #10;\rsignedHeaders := \u0026#39;content-type;host\u0026#39;;\rpayload := bodyJSON;\r//å¾…å‘é€çš„æ•°æ®çš„å“ˆå¸Œå€¼:\rHashedRequestPayload := THashSHA2.GetHashString(payload);\r//æ‹¼æ¥è§„èŒƒè¯·æ±‚ä¸²\rCanonicalRequest := httpRequestMethod + #10\r+ canonicalUri + #10\r+ canonicalQueryString + #10\r+ canonicalHeaders + #10\r+ signedHeaders + #10\r+ HashedRequestPayload;\r//è®¡ç®—æ´¾ç”Ÿç­¾åå¯†é’¥\rSecretDate := THashSHA2.GetHMACAsBytes(sDate, TEncoding.utf8.GetBytes(\u0026#39;TC3\u0026#39; + SecretKey));\rSecretService := THashSHA2.GetHMACAsBytes(Service, SecretDate);\rSecretSigning := THashSHA2.GetHMACAsBytes(\u0026#39;tc3_request\u0026#39;, SecretService);\r//è§„èŒƒè¯·æ±‚ä¸²çš„å“ˆå¸Œå€¼\rHashedCanonicalRequest := THashSHA2.GetHashString(CanonicalRequest);\r//ç»„è£…å¾…ç­¾åå­—ç¬¦ä¸²\rStringToSign := \u0026#39;TC3-HMAC-SHA256\u0026#39; + #10\r+ timestamp + #10\r+ sDate + \u0026#39;/\u0026#39; + Service + \u0026#39;/tc3_request\u0026#39; + #10\r+ HashedCanonicalRequest;\r//è®¡ç®—ç­¾å\rSignature := THashSHA2.GetHMACAsBytes(Bytesof(StringToSign), SecretSigning);\r// Application.MessageBox(PChar(THash.DigestAsString(Signature)),\r// \u0026#39;æç¤º\u0026#39;, MB_OK + MB_ICONINFORMATION + MB_TOPMOST);\rCredentialScope := sDate + \u0026#39;/\u0026#39; + Service + \u0026#39;/tc3_request\u0026#39;;\r//æ‹¼æ¥ Authorization\rAuthorization :=\r\u0026#39;TC3-HMAC-SHA256\u0026#39; + \u0026#39; \u0026#39; +\r\u0026#39;Credential=\u0026#39; + SecretId + \u0026#39;/\u0026#39; + CredentialScope + \u0026#39;, \u0026#39; +\r\u0026#39;SignedHeaders=\u0026#39; + SignedHeaders + \u0026#39;, \u0026#39; +\r\u0026#39;Signature=\u0026#39; + StringReplace(PChar(THash.DigestAsString(Signature)), Chr(13) + Chr(10), \u0026#39;\u0026#39;,\r[rfReplaceAll]);\rResult := Authorization;\rend;\rend. äºŒã€ã€çŸ­ä¿¡å‘é€æ¨¡å— åœ¨implementationä¸‹\nuses\rUnit2, TC3_Authorization; procedure TForm1.btn_tc3_sendClick(Sender: TObject);\rvar\rstrMobile, SecretKey, SecretId,sdkappid,sign, params, tpl_id, strjson:string;\rtc3 : string;\rurl : string;\rhttp : TIdHTTP;\rjsonToSend : TStringStream;\rAresult:string;\r//ç”³æ˜å˜é‡\rRoot:TJSONObject; //uses System.JSON;\rjsonArray: TJSONArray; // JSONæ•°ç»„å˜é‡\rlist : TStringList;\ri : Integer;\rphoneSet : string;\rbegin\rif (trim(edt_key.Text) = \u0026#39;\u0026#39;) or (Trim(edt_id.Text)=\u0026#39;\u0026#39;) then\rbegin\rShowMessage(\u0026#39;ä½¿ç”¨TC3é‰´æƒæ–¹å¼å‘é€éœ€è¦æä¾›è…¾è®¯äº‘è´¦æˆ·çš„Keyå’ŒId\u0026#39;);\rexit;\rend;\rSecretKey := trim(edt_key.Text);\rSecretId := Trim(edt_id.Text);\rlist := TStringList.Create;\rlist.CommaText := edt_strMobile.Text;\rfor i := 0 to list.Count -1 do\rbegin\rphoneSet := phoneSet + \u0026#39;\u0026#34;86\u0026#39; + list[i] + \u0026#39;\u0026#34;,\u0026#39;\rend;\rstrMobile := phoneSet.Remove(Length(phoneSet)-1);\rlist.Free;\rsdkappid := edt_sdkappid.Text;\rsign := edt_sign.Text;\rparams := edt_params.Text;\rtpl_id := edt_tpl_id.Text;\rstrjson := \u0026#39;{\u0026#39;\r+ \u0026#39;\u0026#34;PhoneNumberSet\u0026#34;:[\u0026#39;\r+ strMobile\r+ \u0026#39;],\u0026#39;\r+ \u0026#39;\u0026#34;TemplateParamSet\u0026#34;:\u0026#39; + params\r+ \u0026#39;,\u0026#39;\r+ \u0026#39;\u0026#34;TemplateID\u0026#34;:\u0026#34;\u0026#39;\r+ tpl_id\r+ \u0026#39;\u0026#34;,\u0026#39;\r+ \u0026#39;\u0026#34;SmsSdkAppid\u0026#34;:\u0026#34;\u0026#39;\r+ sdkappid\r+ \u0026#39;\u0026#34;,\u0026#39;\r+ \u0026#39;\u0026#34;Sign\u0026#34;:\u0026#34;\u0026#39;\r+ sign\r+\u0026#39;\u0026#34;}\u0026#39;;\rtc3 := TC3_Authorization.genTC3Auth(SecretKey, SecretId, \u0026#39;sms.tencentcloudapi.com\u0026#39;,\rstrjson, \u0026#39;sms\u0026#39;);\rurl := \u0026#39;https://sms.tencentcloudapi.com/\u0026#39;;\rhttp := TIdHttp.Create(nil);\rhttp.HandleRedirects := True;\rhttp.ReadTimeout := 3000;\rhttp.Request.ContentType := \u0026#39;application/json\u0026#39;;//è®¾ç½®å†…å®¹ç±»å‹ä¸ºjson\rjsonToSend := TStringStream.Create(strjson, TEncoding.UTF8);\rjsonToSend.Position := 0;//å°†æµä½ç½®ç½®ä¸º0\rhttp.Request.CustomHeaders.Clear;\rhttp.Request.CustomHeaders.AddValue(\u0026#39;Authorization\u0026#39;, \u0026#39; \u0026#39; + tc3);\rhttp.Request.CustomHeaders.AddValue(\u0026#39;Content-Type\u0026#39;, \u0026#39; application/json\u0026#39;);\rhttp.Request.CustomHeaders.AddValue(\u0026#39;Host\u0026#39;, \u0026#39; sms.tencentcloudapi.com\u0026#39;);\rhttp.Request.CustomHeaders.AddValue(\u0026#39;X-TC-Action\u0026#39;, \u0026#39; SendSms\u0026#39;);\rhttp.Request.CustomHeaders.AddValue(\u0026#39;X-TC-Timestamp\u0026#39;, \u0026#39; \u0026#39; + gwj_DateTimeToUnix(now).ToString);\rhttp.Request.CustomHeaders.AddValue(\u0026#39;X-TC-Version\u0026#39;, \u0026#39; 2019-07-11\u0026#39;);\rhttp.Request.AcceptCharSet := \u0026#39;UTF-8\u0026#39;;\rhttp.Request.AcceptEncoding := \u0026#39;UTF-8\u0026#39;;\rhttp.Request.AcceptLanguage := \u0026#39;UTF-8\u0026#39;;\rhttp.Request.CharSet := \u0026#39;UTF-8\u0026#39;;\r// http.HTTPOptions := IdHTTP.HTTPOptions + [hoKeepOrigProtocol];\rAresult := http.Post(url, jsonToSend);//ç”¨MEMOæ§ä»¶æ¥æ”¶POSTåçš„æ•°æ®è¿”å›\rAresult := UnicodeToChinese(Aresult);\rMemo1.Text := Aresult;\rjsonToSend.free;\rhttp.free;\r//å‘é€æˆåŠŸçš„ç¤ºä¾‹\r//{\u0026#34;Response\u0026#34;:{\u0026#34;SendStatusSet\u0026#34;:[{\u0026#34;SerialNo\u0026#34;:\u0026#34;2019:2892974270720676287\u0026#34;,\u0026#34;PhoneNumber\u0026#34;:\u0026#34;+8613377131696\u0026#34;,\u0026#34;Fee\u0026#34;:1,\u0026#34;SessionContext\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;Code\u0026#34;:\u0026#34;Ok\u0026#34;,\u0026#34;Message\u0026#34;:\u0026#34;send success\u0026#34;,\u0026#34;IsoCode\u0026#34;:\u0026#34;CN\u0026#34;}],\u0026#34;RequestId\u0026#34;:\u0026#34;b2e1fdcb-e877-4bbe-89cc-e7cae7cb567d\u0026#34;}}\rRoot:= TJSONObject.ParseJSONValue(Trim(Aresult)) as TJSONObject; //uses System.JSON;\rRoot := Root.GetValue(\u0026#39;Response\u0026#39;) as TJSONObject;\rjsonArray := Root.GetValue(\u0026#39;SendStatusSet\u0026#39;) as TJSONArray ;\rRoot := jsonArray.Get(0) as TJSONObject; //ç¬¬ä¸€ä¸ªå·ç ç»“æœ\redt_result.Text := Root.GetValue(\u0026#39;Code\u0026#39;).Value;\redt_errmsg.Text := Root.GetValue(\u0026#39;Message\u0026#39;).Value;\redt_ext.Text := Root.GetValue(\u0026#39;SessionContext\u0026#39;).Value;\rend; ç‚¹å‡»æŒ‰é’®ä¸‹è½½æœ¬æ–‡æºä»£ç ï¼š download\r","date":"2021-02-16T22:09:20+08:00","permalink":"//localhost:1313/post/tech/delphi/delphi-tc3-hmac/","section":"post","tags":["delphi","hmac","sms","tencent","download"],"title":"Delphiè°ƒç”¨è…¾è®¯äº‘TC3-HMAC-SHA256é‰´æƒæ¥å£v3å‘é€çŸ­ä¿¡"},{"categories":["tech"],"contents":"\rFlask-WTF\ræä¾›äº†WTFormsçš„åŠŸèƒ½é›†æˆï¼Œä½¿ç”¨è¯¥æ¨¡å—èƒ½å¿«æ·åˆ›å»ºè¡¨å•é¡µé¢ï¼ŒåŒ…å«æœ‰ Flask å’Œ WTFormsï¼Œ é›†æˆäº† CSRFï¼Œ file upload ä»¥åŠ reCAPTCHA.ã€‚ç›®å‰ç‰ˆæœ¬ä¸º0.14.3ï¼Œä½¿ç”¨è¯´æ˜æ–‡æ¡£åœ¨\rhttps://flask-wtf.readthedocs.io/en/stable/\rã€‚\nå…·ä½“åŠŸèƒ½å¦‚ä¸‹:\né›†æˆ wtformsã€‚ å¸¦æœ‰ csrf ä»¤ç‰Œçš„å®‰å…¨è¡¨å•ã€‚ å…¨å±€çš„ csrf ä¿æŠ¤ã€‚ æ”¯æŒéªŒè¯ç ï¼ˆRecaptchaï¼‰ã€‚ ä¸ Flask-Uploads ä¸€èµ·æ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€‚ å›½é™…åŒ–é›†æˆã€‚ å®‰è£…æ–¹æ³• pip install Flask-WTF åˆ›å»ºè¡¨å• from flask_wtf import Form from wtforms import StringField from wtforms.validators import DataRequired class MyForm(Form): name = StringField(\u0026#39;name\u0026#39;, validators=[DataRequired()]) å¦å¤–ï¼Œéšè—çš„ CSRF ä»¤ç‰Œä¼šè¢«è‡ªåŠ¨åœ°åˆ›å»ºã€‚ä½ å¯ä»¥åœ¨æ¨¡æ¿è¿™æ ·åœ°æ¸²æŸ“å®ƒ:\n\u0026lt;form method=\u0026#34;POST\u0026#34; action=\u0026#34;/\u0026#34;\u0026gt; {{ form.csrf_token }} {{ form.name.label }} {{ form.name(size=20) }} \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;Go\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; å°½ç®¡å¦‚æ­¤ï¼Œä¸ºäº†åˆ›å»ºæœ‰æ•ˆçš„ XHTML/HTMLï¼Œ Form ç±»æœ‰ä¸€ä¸ª hidden_tag æ–¹æ³•ï¼Œ å®ƒåœ¨ä¸€ä¸ªéšè—çš„ DIV æ ‡ç­¾ä¸­æ¸²æŸ“ä»»ä½•éšè—çš„å­—æ®µï¼ŒåŒ…æ‹¬ CSRF å­—æ®µ:\n\u0026lt;form method=\u0026#34;POST\u0026#34; action=\u0026#34;/\u0026#34;\u0026gt; {{ form.hidden_tag() }} {{ form.name.label }} {{ form.name(size=20) }} \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;Go\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; éªŒè¯è¡¨å• åœ¨ä½ çš„è§†å›¾å¤„ç†ç¨‹åºä¸­éªŒè¯è¯·æ±‚:\n@app.route(\u0026#39;/submit\u0026#39;, methods=(\u0026#39;GET\u0026#39;, \u0026#39;POST\u0026#39;)) def submit(): form = MyForm() if form.validate_on_submit(): return redirect(\u0026#39;/success\u0026#39;) return render_template(\u0026#39;submit.html\u0026#39;, form=form) æ³¨æ„ä½ ä¸éœ€è¦æŠŠ request.form ä¼ ç»™ Flask-WTFï¼›Flask-WTF ä¼šè‡ªåŠ¨åŠ è½½ã€‚ä¾¿æ·çš„æ–¹æ³• validate_on_submit å°†ä¼šæ£€æŸ¥æ˜¯å¦æ˜¯ä¸€ä¸ª POST è¯·æ±‚å¹¶ä¸”è¯·æ±‚æ˜¯å¦æœ‰æ•ˆã€‚\nä¸€ä¸ªä½¿ç”¨fetchæŸ¥è¯¢ç»“æœçš„WTFå®ä¾‹ å‰ç«¯é¡µé¢ index.htmlï¼š \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;form method=\u0026#34;POST\u0026#34;\u0026gt; {{ form.csrf_token }} {{ form.state }} {{ form.city }} \u0026lt;input type=\u0026#34;submit\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;script\u0026gt; var state_select = document.getElementById(\u0026#34;state\u0026#34;); var city_select = document.getElementById(\u0026#34;city\u0026#34;); state_select.onchange = function() { state = state_select.value; fetch(\u0026#39;/city/\u0026#39; + state).then(function(response) { response.json().then(function(data) { var optionHTML = \u0026#39;\u0026#39;; for (var city of data.cities) { optionHTML += \u0026#39;\u0026lt;option value=\u0026#34;\u0026#39; + city.id + \u0026#39;\u0026#34;\u0026gt;\u0026#39; + city.name + \u0026#39;\u0026lt;/option\u0026gt;\u0026#39;; } city_select.innerHTML = optionHTML; }) }); } \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æœåŠ¡å™¨åå°è§†å›¾ app.py: from flask import Flask, render_template, request, jsonify from flask_sqlalchemy import SQLAlchemy from flask_wtf import FlaskForm from wtforms import SelectField app = Flask(__name__) app.config[\u0026#39;SQLALCHEMY_DATABASE_URI\u0026#39;] = \u0026#39;sqlite:///test.db\u0026#39; app.config[\u0026#39;SECRET_KEY\u0026#39;] = \u0026#39;secret\u0026#39; db = SQLAlchemy(app) class City(db.Model): id = db.Column(db.Integer, primary_key=True) state = db.Column(db.String(2)) name = db.Column(db.String(50)) class Form(FlaskForm): state = SelectField(\u0026#39;state\u0026#39;, choices=[(\u0026#39;CA\u0026#39;, \u0026#39;California\u0026#39;), (\u0026#39;NV\u0026#39;, \u0026#39;Nevada\u0026#39;)]) city = SelectField(\u0026#39;city\u0026#39;, choices=[]) @app.route(\u0026#39;/\u0026#39;, methods=[\u0026#39;GET\u0026#39;, \u0026#39;POST\u0026#39;]) def index(): form = Form() form.city.choices = [(city.id, city.name) for city in City.query.filter_by(state=\u0026#39;CA\u0026#39;).all()] if request.method == \u0026#39;POST\u0026#39;: city = City.query.filter_by(id=form.city.data).first() return \u0026#39;\u0026lt;h1\u0026gt;State: {}, City: {}\u0026lt;/h1\u0026gt;\u0026#39;.format(form.state.data, city.name) return render_template(\u0026#39;index.html\u0026#39;, form=form) @app.route(\u0026#39;/city/\u0026lt;state\u0026gt;\u0026#39;) def city(state): cities = City.query.filter_by(state=state).all() cityArray = [] for city in cities: cityObj = {} cityObj[\u0026#39;id\u0026#39;] = city.id cityObj[\u0026#39;name\u0026#39;] = city.name cityArray.append(cityObj) return jsonify({\u0026#39;cities\u0026#39; : cityArray}) if __name__ == \u0026#39;__main__\u0026#39;: app.run(debug=True,host=\u0026#34;0.0.0.0\u0026#34;) ","date":"2021-01-30T08:21:07+08:00","permalink":"//localhost:1313/post/tech/python/flask-wtf-with-fetch/","section":"post","tags":["flask","python","jquery"],"title":"FlaskåŠ¨æ€åˆ‡æ¢é€‰é¡¹å¹¶é€šè¿‡FetchæŸ¥è¯¢æ˜¾ç¤º"},{"categories":["tech"],"contents":"SQLAlchemy æ˜¯flaskä¸­å¿…å¤‡çš„åº“ï¼Œèƒ½æ“ä½œå„ç§å…³ç³»æ•°æ®åº“ã€‚æ•°æ®åº“æ˜ å°„çš„æ–¹æ³•åœ¨\rå»–é›ªå³°\rçš„å®˜æ–¹ç½‘ç«™ä¸Šæœ‰å…·ä½“ä¾‹å­ã€‚æœ¬æ–‡ä¸»è¦æ˜¯è®°å½•ä¸€ä¸‹SQLAlchemyé€šè¿‡ session å¯¹è±¡æ‰§è¡ŒæŸ¥è¯¢çš„å„ç§ query æ–¹æ³•ã€‚\néå† for user in session.query(User).order_by(User.id): print(user.name, user.fullname) æ‰§è¡Œç»“æœï¼š ed Ed Jones wendy Wendy Williams mary Mary Contrary fred Fred Flinstone æˆ–è€…ï¼š\nfor name, fullname in session.query(User.name, User.fullname): print(name, fullname) # æ‰§è¡Œç»“æœï¼š ed Ed Jones wendy Wendy Williams mary Mary Contrary fred Fred Flinstone å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š\nfor name in session.query(User.name): print(name) # æ‰§è¡Œç»“æœï¼š (\u0026#39;ed\u0026#39;,) (\u0026#39;wendy\u0026#39;,) (\u0026#39;mary\u0026#39;,) (\u0026#39;fred\u0026#39;,) è¿™æ—¶ï¼Œè¿”å›ç»“æœä¸ºå…ƒç»„ã€‚\nè®¾ç½®åˆ«å ç»™è¿”å›çš„ç»“æœèµ·ä¸€ä¸ªåˆ«åï¼ˆlabelï¼‰ï¼š\nfor row in session.query(User.name.label(\u0026#39;name_label\u0026#39;)).all(): print(row.name_label) # æ‰§è¡Œç»“æœï¼š ed wendy mary fred ç»™æ•°æ®è¡¨å¯¹è±¡è®¾ç½®åˆ«åï¼ˆaliasedï¼‰ï¼š\nfrom sqlalchemy.orm import aliased # æŠŠ User åˆ«åè®¾ç½®ä¸ºï¼šuser_alias user_alias = aliased(User, name=\u0026#39;user_alias\u0026#39;) for row in session.query(user_alias): print(row) # æ‰§è¡Œç»“æœï¼š ed wendy mary fred åˆ‡ç‰‡ for u in session.query(User).order_by(User.id)[1:3]: print(u) # æ‰§è¡Œç»“æœï¼š wendy mary æŸ¥è¯¢ æŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯ SQL çš„ where å­å¥ã€‚åœ¨ SQLAlchemy ä¸­ï¼Œquery çš„æŸ¥è¯¢å¯ä»¥é€šè¿‡ filter_by æˆ– filter æ¥å®ç°ã€‚\n1.ä½¿ç”¨ filter_byï¼š\nfor name, in session.query(User.name).\\ filter_by(fullname=\u0026#39;Ed Jones\u0026#39;): print(name) # æ‰§è¡Œç»“æœï¼š ed 2.ä½¿ç”¨ filterï¼š\nfor name, in session.query(User.name).\\ filter(User.fullname==\u0026#39;Ed Jones\u0026#39;): print(name) # æ‰§è¡Œç»“æœï¼š ed è¿ç®—ç¬¦ ç­‰äºï¼š query.filter(User.name == \u0026#39;ed\u0026#39;) ä¸ç­‰äº query.filter(User.name != \u0026#39;ed\u0026#39;) LIKE è¿ç®—ç¬¦ï¼š # æŸ¥è¯¢æ‰€æœ‰ \u0026#34;e\u0026#34; å¼€å¤´çš„ name for user in session.query(User).\\ filter(User.name.like(\u0026#34;e%\u0026#34;)): print(user) # æ‰§è¡Œç»“æœï¼š ed IN è¿ç®—ç¬¦ï¼š for user in session.query(User).\\ filter(User.name.in_([\u0026#39;ed\u0026#39;, \u0026#39;wendy\u0026#39;, \u0026#39;jack\u0026#39;])): print(user) # æ‰§è¡Œç»“æœï¼š ed wendy NOT IN è¿ç®—ç¬¦ï¼š for user in session.query(User).\\ filter(~User.name.in_([\u0026#39;ed\u0026#39;, \u0026#39;wendy\u0026#39;, \u0026#39;jack\u0026#39;])): print(user) # æ‰§è¡Œç»“æœï¼š mary fred IS NULL è¿ç®—ç¬¦ï¼š query.filter(User.name == None) query.filter(User.name.is_(None)) IS NOT NULL è¿ç®—ç¬¦ï¼š query.filter(User.name != None) query.filter(User.name.isnot(None)) AND è¿ç®—ç¬¦ï¼š æ–¹æ³•1ï¼š\nfrom sqlalchemy import and_ for user in session.query(User).\\ filter(and_(User.name == \u0026#39;ed\u0026#39;, User.fullname == \u0026#39;Ed Jones\u0026#39;)): print(user) # æ‰§è¡Œç»“æœï¼š ed æ–¹æ³•2ï¼š\nfor user in session.query(User).\\ filter(User.name == \u0026#39;ed\u0026#39;, User.fullname == \u0026#39;Ed Jones\u0026#39;): print(user) æ–¹æ³•3ï¼š\nfor user in session.query(User).\\ filter(User.name == \u0026#39;ed\u0026#39;).\\ filter(User.fullname == \u0026#39;Ed Jones\u0026#39;): print(user) OR è¿ç®—ç¬¦ï¼š from sqlalchemy import or_ for user in session.query(User).\\ filter(or_(User.name == \u0026#39;ed\u0026#39;, User.name == \u0026#39;wendy\u0026#39;)): print(user) # æ‰§è¡Œç»“æœï¼š ed wendy query åŒ…å«çš„æ–¹æ³• all() ï¼š è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¯¹è±¡çš„ list\nu = session.query(User).all() print(u) # æ‰§è¡Œç»“æœï¼š [\u0026lt;__main__.User object at 0x033DA410\u0026gt;, \u0026lt;__main__.User object at 0x033DA470\u0026gt;, \u0026lt;__main__.User object at 0x033DA4B0\u0026gt;, \u0026lt;__main__.User object at 0x033DA510\u0026gt;] first() ï¼š è¿”å›ç»“æœçš„ç¬¬ä¸€ä¸ªå¯¹è±¡ u = session.query(User).first() print(u) # æ‰§è¡Œç»“æœï¼š ed one() ï¼š è¿”å›ç»“æœçš„å®ä¾‹å¯¹è±¡\nu = session.query(User).filter(User.id == 1).one() print(u) print(u.fullname) # æ‰§è¡Œç»“æœï¼š ed Ed Jones å¦‚æœæœ‰å¤šä¸ªç»“æœè¿”å›ï¼Œä½¿ç”¨ one() å°†ä¼šæŠ¥é”™ï¼š\nu = session.query(User).one() # é”™è¯¯ä¿¡æ¯ Traceback (most recent call last): ... MultipleResultsFound: Multiple rows were found for one() å¦‚æœæŸ¥æ‰¾çš„å¯¹è±¡ä¸å­˜åœ¨ï¼Œä¹Ÿä¼šæŠ¥é”™ï¼š\nu = session.query(User).filter(User.id == 99).one() # é”™è¯¯ä¿¡æ¯ Traceback (most recent call last): ... NoResultFound: No row was found for one() æˆ‘ä»¬å¯ä»¥ç”¨ one_or_none() æ¥å¤„ç†å¯¹è±¡æœªå¿…å­˜åœ¨çš„æƒ…å†µï¼š\nu = session.query(User).filter(User.id == 99).one_or_none() print(u) # æ‰§è¡Œç»“æœï¼š None ä½¿ç”¨ scalar() æ–¹æ³•ï¼Œè¿”å›ç»“æœçš„ç¬¬ä¸€åˆ—çš„æ•°å€¼ï¼š\nu = session.query(User.id).filter(User.name == \u0026#39;wendy\u0026#39;).scalar() print(u) # æ‰§è¡Œç»“æœï¼š 2 æ–‡æœ¬åŒ– SQL ä½¿ç”¨ text() æ–¹æ³•å¯ä»¥ç”¨æ–‡æœ¬åŒ–çš„æ–¹å¼æ‰§è¡ŒæŸ¥è¯¢ï¼Œä½¿å¾—è¯­æ³•æ›´çµæ´»ï¼Œå¤šæ•°æ–¹æ³•éƒ½æ”¯æŒè¿™ç§æ–‡æœ¬åŒ–çš„æ–¹å¼ï¼Œæ¯”å¦‚ï¼šfilter() å’Œ order_by()ã€‚\nfrom sqlalchemy import text # ç­›é€‰ id\u0026lt;3 å†æ ¹æ® id æ’åº for user in session.query(User).\\ filter(text(\u0026#34;id\u0026lt;3\u0026#34;)).\\ order_by(text(\u0026#34;id\u0026#34;)).all(): print(user.name) # æ‰§è¡Œç»“æœï¼š ed wendy éœ€è¦ç”¨å†’å·ä¼ é€’å‚æ•°æ—¶ï¼Œå¯ä»¥ç”¨ params() æ–¹æ³•ï¼š\nfrom sqlalchemy import text # ç­›é€‰å‡º id\u0026lt;5 å’Œ name=\u0026#39;fred\u0026#39; u = session.query(User).\\ filter(text(\u0026#34;id\u0026lt;:value and name=:name\u0026#34;)).\\ params(value=5, name=\u0026#39;fred\u0026#39;).order_by(User.id).one() print(u) # æ‰§è¡Œç»“æœï¼š fred ä½¿ç”¨ from_statement() æ–¹æ³•ï¼Œæ”¯æŒç›´æ¥å†™åŸç”Ÿ SQL è¯­å¥ï¼š\nfrom sqlalchemy import text u = session.query(User).\\ from_statement(text(\u0026#34; SELECT * FROM users where name=\u0026#39;ed\u0026#39; \u0026#34;)).one() print(u) # æ‰§è¡Œç»“æœï¼š ed è®¡æ•° è¿”å›æŸ¥è¯¢ç»“æœçš„å¯¹è±¡çš„æ•°ç›®ã€‚\nu = session.query(User).\\ filter(User.name.like(\u0026#39;%ed\u0026#39;)).count() print(u) # æ‰§è¡Œç»“æœï¼š 2 éœ€è¦å•ç‹¬è®¡ç®—æŸä¸€ç±»å¯¹è±¡çš„æ•°é‡ï¼Œå¯ä»¥ç”¨ func() å’Œ group_by() é…åˆæŸ¥è¯¢ï¼š\nfrom sqlalchemy import func u = session.query(User.name, func.count(User.name)).group_by(User.name).all() print(u) # æ‰§è¡Œç»“æœï¼š [(\u0026#39;ed\u0026#39;, 1), (\u0026#39;fred\u0026#39;, 1), (\u0026#39;mary\u0026#39;, 1), (\u0026#39;wendy\u0026#39;, 1)] è¿”å›æŸ¥è¯¢å¾—åˆ°çš„çš„æ•°å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ scalar() æ–¹æ³•ï¼š\nu = session.query(func.count(User.id)).scalar() print(u) # æ‰§è¡Œç»“æœï¼š 4 å…¶ä»–ä¾‹å­æ±‡æ€» 0.like:æ¨¡ç³ŠæŸ¥è¯¢ result0 = db.session.query(Protocols.protocolName).filter(Protocols.protocolName.like(\u0026#34;%\u0026#34; + \u0026#34;cp\u0026#34; + \u0026#34;%\u0026#34;)).all() 1.notlikeï¼šæ¨¡ç³ŠæŸ¥è¯¢ï¼Œä¸åœ¨æŸ¥è¯¢èŒƒå›´å†… result1 = db.session.query(Protocols.protocolName).filter(Protocols.protocolName.notlike(\u0026#34;%\u0026#34; + \u0026#34;cp\u0026#34; + \u0026#34;%\u0026#34;)).all() 2.in_:åœ¨æŸä¸ªèŒƒå›´å†…ï¼Œå‚æ•°ä¸ºå…ƒç»„æˆ–è€…åˆ—è¡¨ç±»å‹çš„æ•°æ® result2 = db.session.query(Protocols.protocolName).filter(Protocols.id.in_((1, 2))).all() 3.notin_ï¼šå’Œin_ç›¸å result3 = db.session.query(Protocols.protocolName).filter(Protocols.id.notin_((1, 2))).all() 4.is_:æ˜¯å¦ä¸ºnullçš„æ¯”è¾ƒ result4 = db.session.query(Protocols.protocolName).filter(Protocols.protocolName.is_(None)).all() 5.isnot:ä¸ä¸ºnull result5 = db.session.query(Protocols.protocolName).filter(Protocols.protocolName.isnot(None)).all() 6.startswithï¼šä»¥æŸä¸ªæ•°æ®å¼€å¤´ result6 = db.session.query(Protocols.protocolName).filter(Protocols.protocolName.startswith(\u0026#34;t\u0026#34;)).all() 7.endswithï¼šä»¥æŸæ•°æ®ç»“å°¾ result7 = db.session.query(Protocols.protocolName).filter(Protocols.protocolName.endswith(\u0026#34;t\u0026#34;)).all() 8.containsï¼šæ•°æ®ä¸­åŒ…å«ï¼Œå’ŒlikeåŠŸèƒ½å·®ä¸å¤š result8 = db.session.query(Protocols.protocolName).filter(Protocols.protocolName.contains(\u0026#34;cp\u0026#34;)).all() 9.descï¼šå¯¹æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®è¿›è¡Œé™åºæ’åº result9 = db.session.query(Protocols.protocolName).order_by(Protocols.id.desc()).all() 10.ascï¼šå¯¹æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®è¿›è¡Œå‡åºæ’åº result10 = db.session.query(Protocols.protocolName).order_by(Protocols.id.asc()).all() 11.betweenï¼šæŸä¸ªå­—æ®µçš„å‚æ•°åœ¨æŸä¸ªèŒƒå›´å†… result11 = db.session.query(Protocols.protocolName).filter(Protocols.id.between(1, 3)).all() 12.distinctï¼šå¯¹æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®è¿›è¡Œå»é‡ result12 = db.session.query(Protocols.parent_protocol).distinct().all() ","date":"2021-01-14T09:53:16+08:00","permalink":"//localhost:1313/post/tech/python/sqlalchemy-query-cheetsheet/","section":"post","tags":["flask","python","sqlalchemy"],"title":"Sqlalchemyä¸­Queryçš„æ–¹æ³•æ±‡æ€»"},{"categories":["tech"],"contents":"SQLAlchemy is the Python SQL toolkit and Object Relational Mapper that gives application developers the full power and flexibility of SQL.It provides a full suite of well known enterprise-level persistence patterns, designed for efficient and high-performing database access, adapted into a simple and Pythonic domain language. ç½‘ä¸Šçš„å¾ˆå¤šæ•™ç¨‹å’Œè§†é¢‘éƒ½æ˜¯åŸºäºæœ¬åœ°SQLiteæ•°æ®åº“è¿›è¡Œçš„æ“ä½œï¼Œå› ä¸ºæˆ‘ä¸ªäººçš„é¡¹ç›®æ˜¯åœ¨MSSQLä¸Šçš„ï¼Œæ‰€ä»¥è¿™é‡Œå¯¹Flaskä½¿ç”¨MS SQL Serverçš„æ–¹æ³•è¿›è¡Œè®°å½•ã€‚\nç›®æ ‡ï¼š\nMSSQLæ•°æ®åº“å­˜å‚¨æ•°æ® æœ‰å¢åˆ æ”¹åŠŸèƒ½ ä½¿ç”¨ç½‘é¡µæ¨¡æ¿ 1. app.py # -*- coding: utf-8 -*- from flask import Flask, render_template, url_for, request, redirect from sqlalchemy import create_engine from sqlalchemy.ext.declarative import declarative_base from sqlalchemy.dialects.mssql import \\ BIGINT, BINARY, BIT, CHAR, DATE, DATETIME, DATETIME2, \\ DATETIMEOFFSET, DECIMAL, FLOAT, IMAGE, INTEGER, MONEY, \\ NCHAR, NTEXT, NUMERIC, NVARCHAR, REAL, SMALLDATETIME, \\ SMALLINT, SMALLMONEY, SQL_VARIANT, TEXT, TIME, \\ TIMESTAMP, TINYINT, UNIQUEIDENTIFIER, VARBINARY, VARCHAR from sqlalchemy import Table, MetaData, Column, Integer, String, ForeignKey from sqlalchemy.orm import mapper, sessionmaker from datetime import datetime import pymssql app = Flask(__name__) DBUser = \u0026#39;flask\u0026#39; DBPassword = \u0026#39;123\u0026#39; DBHost = \u0026#39;192.168.100.5\u0026#39; DBName = \u0026#39;test\u0026#39; engine = create_engine(f\u0026#39;mssql+pymssql://{DBUser}:{DBPassword}@{DBHost}/{DBName}\u0026#39;, echo=True) # æ˜ å°„åŸºç±» Base = declarative_base() # å…·ä½“æ˜ å°„ç±» class Flaskdemo(Base): # æŒ‡å®šæ˜ å°„è¡¨å __tablename__ = \u0026#39;flaskdemo\u0026#39; # id è®¾ç½®ä¸ºä¸»é”® id = Column(\u0026#39;id\u0026#39;, Integer, primary_key=True, autoincrement=True) # æŒ‡å®š name æ˜ å°„åˆ° name å­—æ®µ content = Column(\u0026#39;content\u0026#39;, String(200)) date_created = Column(\u0026#39;date_created\u0026#39;, DATETIME, default=datetime.utcnow()) # datetime.today().strftime(\u0026#34;%Y-%m-%d\u0026#34;) # åˆ›å»ºè¡¨ # Base.metadata.create_all(engine) # å»ºç«‹ä¼šè¯ Session = sessionmaker(bind=engine) # åˆ›å»º Session ç±»å®ä¾‹ session = Session() @app.route(\u0026#39;/\u0026#39;, methods=[\u0026#39;POST\u0026#39;, \u0026#39;GET\u0026#39;]) def index(): if request.method == \u0026#39;POST\u0026#39;: task_content = request.form[\u0026#39;content\u0026#39;] new_task = Flaskdemo(content=task_content) try: session.add(new_task) session.commit() return redirect(\u0026#39;/\u0026#39;) except: return \u0026#39;There was an issue adding your task\u0026#39; else: tasks = session.query(Flaskdemo).all() return render_template(\u0026#39;index.html\u0026#39;, tasks=tasks) @app.route(\u0026#39;/delete/\u0026lt;int:id\u0026gt;\u0026#39;) def delete(id): task_to_delete = session.query(Flaskdemo).filter(Flaskdemo.id==id).one() try: session.delete(task_to_delete) session.commit() return redirect(\u0026#39;/\u0026#39;) except: return \u0026#39;There was a problem deleting that task\u0026#39; @app.route(\u0026#39;/update/\u0026lt;int:id\u0026gt;\u0026#39;, methods=[\u0026#39;GET\u0026#39;, \u0026#39;POST\u0026#39;]) def update(id): task = session.query(Flaskdemo).filter(Flaskdemo.id==id).one() if request.method == \u0026#39;POST\u0026#39;: task.content = request.form[\u0026#39;content\u0026#39;] try: session.commit() return redirect(\u0026#39;/\u0026#39;) except: return \u0026#39;There was an issue updating your task\u0026#39; else: return render_template(\u0026#39;update.html\u0026#39;, task=task) if __name__ == \u0026#34;__main__\u0026#34;: app.run(debug=True) # å…³é—­ session.close() 2. index.html {% extends \u0026#39;base.html\u0026#39; %} {% block head %} \u0026lt;title\u0026gt;Task Master\u0026lt;/title\u0026gt; {% endblock %} {% block body %} \u0026lt;div class=\u0026#34;content\u0026#34;\u0026gt; \u0026lt;h1 style=\u0026#34;text-align: center\u0026#34;\u0026gt;Task Master\u0026lt;/h1\u0026gt; {% if tasks|length \u0026lt; 1 %} \u0026lt;h4 style=\u0026#34;text-align: center\u0026#34;\u0026gt;There are no tasks. Create one below!\u0026lt;/h4\u0026gt; {% else %} \u0026lt;table\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;th\u0026gt;Task\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;Added\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;Actions\u0026lt;/th\u0026gt; \u0026lt;/tr\u0026gt; {% for task in tasks %} \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;{{ task.content }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ task.date_created }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;a href=\u0026#34;/delete/{{task.id}}\u0026#34;\u0026gt;Delete\u0026lt;/a\u0026gt; \u0026lt;br\u0026gt; \u0026lt;a href=\u0026#34;/update/{{task.id}}\u0026#34;\u0026gt;Update\u0026lt;/a\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; {% endfor %} \u0026lt;/table\u0026gt; {% endif %} \u0026lt;div class=\u0026#34;form\u0026#34;\u0026gt; \u0026lt;form action=\u0026#34;/\u0026#34; method=\u0026#34;POST\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;content\u0026#34; id=\u0026#34;content\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;Add Task\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; {% endblock %} 3. update.html {% extends \u0026#39;base.html\u0026#39; %} {% block head %} \u0026lt;title\u0026gt;Task Master\u0026lt;/title\u0026gt; {% endblock %} {% block body %} \u0026lt;div class=\u0026#34;content\u0026#34;\u0026gt; \u0026lt;h1 style=\u0026#34;text-align: center\u0026#34;\u0026gt;Update Task\u0026lt;/h1\u0026gt; \u0026lt;div class=\u0026#34;form\u0026#34;\u0026gt; \u0026lt;form action=\u0026#34;/update/{{task.id}}\u0026#34; method=\u0026#34;POST\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;content\u0026#34; id=\u0026#34;content\u0026#34; value=\u0026#34;{{task.content}}\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;Update\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; {% endblock %} 4. base.html \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;ie=edge\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;{{ url_for(\u0026#39;static\u0026#39;, filename=\u0026#39;css/main.css\u0026#39;) }}\u0026#34;\u0026gt; {% block head %}{% endblock %} \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; {% block body %}{% endblock %} \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 5. main.css body, html { margin: 0; font-family: sans-serif; } .content { margin: 0 auto; width: 400px; } table, td, th { border: 1px solid #aaa; } table { border-collapse: collapse; width: 100%; } th { height: 30px; } td { text-align: center; padding: 5px; } .form { margin-top: 20px; } #content { width: 70%; } ","date":"2020-12-29T13:07:19+08:00","permalink":"//localhost:1313/post/tech/python/flask-web-app/","section":"post","tags":["python","flask","mssql"],"title":"ç”¨Flaskå»ºç«‹ä¸€ä¸ªç®€å•çš„Web App"},{"categories":["tech"],"contents":"1 ç®€ä»‹ SQLAlchemy\ræ˜¯ä¸€ä¸ªä½¿ç”¨ Python å®ç°çš„ ORM æ¡†æ¶ï¼Œå®ƒçš„è®¾è®¡ç†å¿µæ˜¯ï¼šSQL æ•°æ®åº“çš„é‡çº§å’Œæ€§èƒ½æ¯”å¯¹è±¡é›†åˆé‡è¦ï¼Œå¯¹è±¡é›†åˆçš„æŠ½è±¡æ¯”è¡¨å’Œè¡Œé‡è¦ï¼›å®ƒé‡‡ç”¨äº†ç±»ä¼¼äº Java é‡Œ Hibernate çš„æ•°æ®æ˜ å°„æ¨¡å‹ï¼›å®ƒçš„ç›®æ ‡æ˜¯æä¾›èƒ½å…¼å®¹ä¼—å¤šæ•°æ®åº“ï¼ˆå¦‚ï¼šSQLiteã€MySQLã€Postgresã€Oracleã€MS-SQLã€SQLServer å’Œ Firebirdï¼‰çš„ä¼ä¸šçº§æŒä¹…æ€§æ¨¡å‹ã€‚\nä¸Šé¢æåˆ°äº† ORMï¼Œé‚£ ORM æ˜¯ä»€ä¹ˆï¼ŸORM å…¨ç§° Object Relational Mappingï¼Œä¸­æ–‡è¯‘ä¸ºå¯¹è±¡å…³ç³»æ˜ å°„ï¼Œç®€å•çš„è¯´å°±æ˜¯åœ¨æ•°æ®åº“ä¸ä¸šåŠ¡å®ä½“å¯¹è±¡ä¹‹é—´å»ºç«‹äº†ä¸€ç§å¯¹åº”å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ“ä½œå®ä½“å¯¹è±¡çš„æ–¹å¼æ¥å®Œæˆæ•°æ®åº“çš„æ“ä½œï¼ŒORM å°è£…äº†æ•°æ®åº“æ“ä½œï¼Œæˆ‘ä»¬æ— éœ€å…³å¿ƒåº•å±‚æ•°æ®åº“æ˜¯ä»€ä¹ˆï¼Œä¹Ÿä¸ç”¨å…³å¿ƒ SQL è¯­è¨€ï¼Œåªéœ€ä¸æ•°æ®å¯¹è±¡äº¤äº’å³å¯ã€‚\n2 ä½¿ç”¨ SQLAlchemy å¯ä»¥æ”¯æŒå¤šç§æ•°æ®åº“ï¼Œå¦‚ï¼šSQLite, Postgresql, MySQL, Oracle, MS-SQL, Firebird, Sybasç­‰ç­‰ã€‚\n2.1 å®‰è£… åœ¨ä½¿ç”¨ SQLAlchemy ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆè¦è¿›è¡Œå®‰è£…ï¼Œä½¿ç”¨ pip install sqlalchemy å³å¯ã€‚å®‰è£…å¥½åçœ‹ä¸€ä¸‹ç‰ˆæœ¬ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n\u0026gt;\u0026gt;\u0026gt; import sqlalchemy \u0026gt;\u0026gt;\u0026gt; sqlalchemy.__version__ \u0026#39;1.3.11\u0026#39; 2.2 åˆ›å»ºè¿æ¥ SQLAlchemy é€šè¿‡ Engine æ¥é©±åŠ¨ï¼Œä»å›¾ä¸­å¯ä»¥çœ‹å‡º Engine å†…ç»´æŠ¤äº†ä¸€ä¸ªè¿æ¥æ± ï¼ˆPoolï¼‰å’Œæ–¹è¨€ï¼ˆDialectï¼‰ï¼ŒPool å°±æ˜¯ç”¨æ¥å­˜æ”¾è¿æ¥çš„ï¼ŒDialect æ˜¯ç”¨æ¥åˆ¤æ–­è¦è¿æ¥çš„æ˜¯å“ªç§æ•°æ®åº“ï¼Œæˆ‘ä»¬åˆ›å»ºè¿æ¥è¦å…ˆåˆ›å»º Engineï¼Œç„¶åå†é€šè¿‡ Engine æ¥åˆ›å»ºè¿æ¥ã€‚\n2.2.1 SQLite æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹å¦‚ä½•åˆ›å»º Engineï¼Œå‡ ç§åˆ›å»ºæ–¹å¼å¦‚ä¸‹æ‰€ç¤ºï¼š\nç›¸å¯¹è·¯å¾„æ–¹å¼ engine = create_engine(\u0026#39;sqlite:///foo.db\u0026#39;) ç»å¯¹è·¯å¾„æ–¹å¼ # Unix/Mac engine = create_engine(\u0026#39;sqlite:////absolute/path/to/foo.db\u0026#39;) # Windows engine = create_engine(\u0026#39;sqlite:///C:\\\\path\\\\to\\\\foo.db\u0026#39;) # Windows å¦ä¸€ç§å†™æ³• engine = create_engine(r\u0026#39;sqlite:///C:\\path\\to\\foo.db\u0026#39;) åˆ›å»ºå†…å­˜æ•°æ®åº“ SQLite å¯ä»¥åˆ›å»ºå†…å­˜æ•°æ®åº“ï¼Œå…¶ä»–æ•°æ®åº“ä¸å¯ä»¥ã€‚\nengine = create_engine(\u0026#39;sqlite://\u0026#39;) ä»¥ç›¸å¯¹è·¯å¾„æ–¹å¼ä¸ºä¾‹ï¼Œçœ‹ä¸€ä¸‹å®ç°ç¤ºä¾‹ï¼š\nfrom sqlalchemy import create_engine # åˆ›å»º Engine engine = create_engine(\u0026#39;sqlite:///foo.db\u0026#39;, echo=True) # åˆ›å»ºè¿æ¥ conn = engine.connect() echo=True ä¼šå°†æ‰§è¡Œè¯­å¥æ‰“å°å‡ºæ¥ï¼Œé»˜è®¤ä¸º Falseï¼›æ•°æ®åº“ï¼ˆfoo.dbï¼‰ä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºã€‚ 2.2.2 å…¶ä»–æ•°æ®åº“ MySQLæ•°æ®åº“ åœ¨ä½¿ç”¨ä¹‹å‰è¦è¿›è¡Œç¬¬ä¸‰æ–¹åº“çš„å®‰è£…ï¼Œä½¿ç”¨ pip install mysqlclient å’Œ pip install pymysql å³å¯ã€‚\nåˆ›å»º Engine æ–¹å¼å¦‚ä¸‹æ‰€ç¤ºï¼š\n# default engine = create_engine(\u0026#39;mysql://scott:tiger@localhost/foo\u0026#39;) # mysqlclient engine = create_engine(\u0026#39;mysql+mysqldb://scott:tiger@localhost/foo\u0026#39;) # PyMySQL engine = create_engine(\u0026#39;mysql+pymysql://scott:tiger@localhost/foo\u0026#39;) ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š\nfrom sqlalchemy import create_engine engine = create_engine(\u0026#39;mysql://root:root@localhost:3306/mysql\u0026#39;, echo=True, pool_size=10, pool_recycle=3600) conn = engine.connect() å‚æ•°è¯´æ˜å¦‚ä¸‹æ‰€ç¤ºï¼š\nechoï¼šå€¼ä¸º True å°†æ‰§è¡Œè¯­å¥æ‰“å°å‡ºæ¥ï¼Œé»˜è®¤ä¸º Falseã€‚\rpool_sizeï¼šè¿æ¥æ± çš„å¤§å°ï¼Œé»˜è®¤ä¸º 5ï¼Œ0 è¡¨ç¤ºè¿æ¥æ•°æ— é™åˆ¶ã€‚\rpool_recycleï¼šè®¾ç½®äº† pool_recycle åï¼ŒSQLAlchemy ä¼šåœ¨æŒ‡å®šæ—¶é—´å†…å›æ”¶è¿æ¥ï¼Œå•ä½ä¸ºç§’ã€‚ Oracleæ•°æ®åº“\nåˆ›å»º Engine æ–¹å¼å¦‚ä¸‹æ‰€ç¤ºï¼š engine = create_engine(\u0026#39;oracle://scott:tiger@127.0.0.1:1521/sidname\u0026#39;) engine = create_engine(\u0026#39;oracle+cx_oracle://scott:tiger@tnsname\u0026#39;) PostgreSQLæ•°æ®åº“\nåˆ›å»º Engine æ–¹å¼å¦‚ä¸‹æ‰€ç¤ºï¼š # default engine = create_engine(\u0026#39;postgresql://scott:tiger@localhost/mydatabase\u0026#39;) # psycopg2 engine = create_engine(\u0026#39;postgresql+psycopg2://scott:tiger@localhost/mydatabase\u0026#39;) # pg8000 engine = create_engine(\u0026#39;postgresql+pg8000://scott:tiger@localhost/mydatabase\u0026#39;) MS SQL Serveræ•°æ®åº“\nåˆ›å»º Engine æ–¹å¼å¦‚ä¸‹æ‰€ç¤ºï¼š # pyodbc engine = create_engine(\u0026#39;mssql+pyodbc://scott:tiger@mydsn\u0026#39;) # pymssql engine = create_engine(\u0026#39;mssql+pymssql://scott:tiger@hostname:port/dbname\u0026#39;) 2.3 åˆ›å»ºè¡¨ è¡¨çš„åˆ›å»ºé€šè¿‡æ˜ å°„ç±»çš„æ–¹å¼å®ç°ï¼Œé¦–å…ˆåˆ›å»ºæ˜ å°„åŸºç±»ï¼Œåé¢çš„ç±»éœ€è¦ç»§æ‰¿å®ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nfrom sqlalchemy.ext.declarative import declarative_base Base = declarative_base() åˆ›å»ºå…·ä½“æ˜ å°„ç±»ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nfrom sqlalchemy import create_engine from sqlalchemy.ext.declarative import declarative_base from sqlalchemy import Column, Integer, String engine = create_engine(\u0026#39;sqlite:///foo.db\u0026#39;, echo=True) # æ˜ å°„åŸºç±» Base = declarative_base() # å…·ä½“æ˜ å°„ç±» class SysUser(Base): # æŒ‡å®šæ˜ å°„è¡¨å __tablename__ = \u0026#39;sys_user\u0026#39; # id è®¾ç½®ä¸ºä¸»é”® id = Column(Integer, primary_key=True) # æŒ‡å®š name æ˜ å°„åˆ° name å­—æ®µ name = Column(String(30)) password = Column(String(32)) # åˆ›å»ºè¡¨ Base.metadata.create_all(engine) 2.4 å»ºç«‹ä¼šè¯ å…·ä½“çš„æ“ä½œéœ€è¦ä½¿ç”¨ sessionï¼Œåˆ›å»ºæ–¹å¼å¦‚ä¸‹æ‰€ç¤ºï¼š\nfrom sqlalchemy import create_engine from sqlalchemy.orm import sessionmaker engine = create_engine(\u0026#39;sqlite:///foo.db\u0026#39;, echo=True) Session = sessionmaker(bind=engine) # åˆ›å»º Session ç±»å®ä¾‹ session = Session() 2.5 åŸºæœ¬æ“ä½œ 2.5.1 æ–°å¢ æˆ‘ä»¬å…ˆæ–°å¢ä¸€æ¡æ•°æ®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nfrom sqlalchemy import create_engine from sqlalchemy.ext.declarative import declarative_base from sqlalchemy import Column, Integer, String from sqlalchemy.orm import sessionmaker engine = create_engine(\u0026#39;sqlite:///foo.db\u0026#39;, echo=True) # æ˜ å°„åŸºç±» Base = declarative_base() # å…·ä½“æ˜ å°„ç±» class SysUser(Base): # æŒ‡å®šæ˜ å°„è¡¨å __tablename__ = \u0026#39;sys_user\u0026#39; # id è®¾ç½®ä¸ºä¸»é”® id = Column(Integer, primary_key=True) # æŒ‡å®š name æ˜ å°„åˆ° name å­—æ®µ name = Column(String(30)) password = Column(String(32)) Session = sessionmaker(bind=engine) # åˆ›å»º Session ç±»å®ä¾‹ session = Session() # æ–°å¢ su = SysUser(id=1, name=\u0026#39;Jhon\u0026#39;, password=\u0026#39;123456\u0026#39;) # ä¿å­˜ session.add(su) # æäº¤ session.commit() # å…³é—­ session.close() 2.5.2 æŸ¥è¯¢æ•°æ®çš„æ–¹æ³• æŸ¥è¯¢æ“ä½œå¦‚ä¸‹æ‰€ç¤ºï¼š\nfrom sqlalchemy import create_engine from sqlalchemy.ext.declarative import declarative_base from sqlalchemy import Column, Integer, String from sqlalchemy.orm import sessionmaker engine = create_engine(\u0026#39;sqlite:///foo.db\u0026#39;, echo=True) # æ˜ å°„åŸºç±» Base = declarative_base() # å…·ä½“æ˜ å°„ç±» class SysUser(Base): # æŒ‡å®šæ˜ å°„è¡¨å __tablename__ = \u0026#39;sys_user\u0026#39; # id è®¾ç½®ä¸ºä¸»é”® id = Column(Integer, primary_key=True) # æŒ‡å®š name æ˜ å°„åˆ° name å­—æ®µ name = Column(String(30)) password = Column(String(32)) Session = sessionmaker(bind=engine) # åˆ›å»º Session ç±»å®ä¾‹ session = Session() # æŸ¥è¯¢ä¸€æ¡æ•°æ®ï¼Œfilter ç›¸å½“äº where æ¡ä»¶ u = session.query(SysUser).filter(SysUser.id==1).one() # æŸ¥è¯¢æ‰€æœ‰æ•°æ® # session.query(SysUser).filter(SysUser.id==1).all() print(\u0026#39;name--\u0026gt;\u0026#39;, u.name) 2.5.3 ä¿®æ”¹æ•°æ®çš„æ–¹æ³• æˆ‘ä»¬å°† id=1 è¿™æ¡æ•°æ®çš„ name ä¿®æ”¹ä¸€ä¸‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nfrom sqlalchemy import create_engine from sqlalchemy.ext.declarative import declarative_base from sqlalchemy import Column, Integer, String from sqlalchemy.orm import sessionmaker engine = create_engine(\u0026#39;sqlite:///foo.db\u0026#39;, echo=True) # æ˜ å°„åŸºç±» Base = declarative_base() # å…·ä½“æ˜ å°„ç±» class SysUser(Base): # æŒ‡å®šæ˜ å°„è¡¨å __tablename__ = \u0026#39;sys_user\u0026#39; # id è®¾ç½®ä¸ºä¸»é”® id = Column(Integer, primary_key=True) # æŒ‡å®š name æ˜ å°„åˆ° name å­—æ®µ name = Column(String(30)) password = Column(String(32)) Session = sessionmaker(bind=engine) # åˆ›å»º Session ç±»å®ä¾‹ session = Session() u = session.query(SysUser).filter(SysUser.id==1).one() print(\u0026#39;ä¿®æ”¹å‰åå­—--\u0026gt;\u0026#39;, u.name) u.name = \u0026#39;James\u0026#39; session.commit() print(\u0026#39;ä¿®æ”¹ååå­—--\u0026gt;\u0026#39;, u.name) 2.5.4 åˆ é™¤æ•°æ®çš„æ–¹æ³• æˆ‘ä»¬å°† id=1 è¿™æ¡æ•°æ®åˆ é™¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nfrom sqlalchemy import create_engine from sqlalchemy.ext.declarative import declarative_base from sqlalchemy import Column, Integer, String from sqlalchemy.orm import sessionmaker engine = create_engine(\u0026#39;sqlite:///foo.db\u0026#39;, echo=True) # æ˜ å°„åŸºç±» Base = declarative_base() # å…·ä½“æ˜ å°„ç±» class SysUser(Base): # æŒ‡å®šæ˜ å°„è¡¨å __tablename__ = \u0026#39;sys_user\u0026#39; # id è®¾ç½®ä¸ºä¸»é”® id = Column(Integer, primary_key=True) # æŒ‡å®š name æ˜ å°„åˆ° name å­—æ®µ name = Column(String(30)) password = Column(String(32)) Session = sessionmaker(bind=engine) # åˆ›å»º Session ç±»å®ä¾‹ session = Session() u = session.query(SysUser).filter(SysUser.id==1).one() session.delete(u) session.commit() æ€»ç»“ æœ¬æ–‡ä»‹ç»äº† SQLAlchemy çš„åŸºæœ¬æ¦‚å¿µå’Œä½¿ç”¨ï¼Œå¯¹ Python å·¥ç¨‹å¸ˆä½¿ç”¨ SQLAlchemy æä¾›äº†æ”¯æ’‘ã€‚\næ–‡ç« æ¥è‡ª çº¯æ´çš„å¾®ç¬‘\råšå®¢\n","date":"2020-12-29T10:47:35+08:00","permalink":"//localhost:1313/post/tech/python/flask-with-mssql/","section":"post","tags":["python","flask","mssql"],"title":"åœ¨Flaskä¸­ä½¿ç”¨SQLAlchemyæ“ä½œæ•°æ®çš„æ–¹æ³•"},{"categories":["tech"],"contents":"æœ¬æ–‡ä¸»è¦è®°å½•äº†ä½¿ç”¨streamlitåœ¨webappä¸­æ˜¾ç¤ºPDFæ–‡ä»¶çš„æ–¹æ³•ã€‚\nStreamlitæ˜¯ä¸€ä¸ªå¦‚æ­¤å‡ºè‰²çš„æ¡†æ¶ï¼Œå¯è®©æ‚¨æ„å»ºå¤šä¸ªå‡ºè‰²çš„æ•°æ®ç§‘å­¦åº”ç”¨ç¨‹åºã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•å°†PDFæ–‡ä»¶åµŒå…¥æˆ‘ä»¬çš„æµå¼åº”ç”¨ç¨‹åºã€‚ ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬åªéœ€è¦æ­¥ï¼š\nst.markdownï¼ˆï¼‰ï¼šè¿™å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ç›¸åŒæ ¼å¼çš„HTMLåµŒå…¥æ–‡ä»¶ã€‚ base64ç¼–ç ï¼šä¸ºäº†èƒ½å¤Ÿé€šè¿‡æˆ‘ä»¬å‘é€pdfæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ‰“å¼€æ–‡ä»¶åä½¿ç”¨base64ç¼–ç å¯¹å…¶è¿›è¡Œç¼–ç ã€‚æ²¡æœ‰è¿™ä¸ªï¼Œæ‚¨å°†æ— æ³•çœ‹åˆ°æ˜¾ç¤ºçš„pdf â€“æ‚¨åªä¼šæ”¶åˆ°404é”™è¯¯æˆ–å…¶ä»–é”™è¯¯ã€‚ import streamlit as st import base64 # æ˜¾ç¤ºPDFæ–‡ä»¶çš„å‡½æ•° def st_display_pdf(pdf_file): with open(pdf_file, \u0026#34;rb\u0026#34;) as f: base64_pdf = base64.b64encode(f.read()).decode(\u0026#39;utf-8\u0026#39;) pdf_display = f\u0026#39;\u0026lt;embed src=\u0026#34;data:application/pdf;base64,{base64_pdf}\u0026#34; width=\u0026#34;800\u0026#34; height=\u0026#34;1000\u0026#34; type=\u0026#34;application/pdf\u0026#34;\u0026gt;\u0026#39; st.markdown(pdf_display, unsafe_allow_html=True) def main(): st.title(\u0026#34;åœ¨Streamlitä¸­åµŒå…¥PDFæ–‡ä»¶\u0026#34;) st.subheader(\u0026#34;Learn Streamlit\u0026#34;) st_display_pdf(\u0026#34;PDFembed.pdf\u0026#34;) if __name__ == \u0026#39;__main__\u0026#39;: main() ","date":"2020-12-23T20:16:15+08:00","permalink":"//localhost:1313/post/tech/python/embedpdf/","section":"post","tags":["PDF","python","streamlit"],"title":"ä½¿ç”¨Streamlitåœ¨Webä¸­åµŒå…¥æ˜¾ç¤ºPDFæ–‡ä»¶"},{"categories":["tech"],"contents":"å³å°†é¢ä¸´èŒä¸šæµ‹è¯•ï¼Œä½†æ˜¯å¤‡è€ƒèµ„æ–™å®åœ¨å¤ªå¤šï¼Œå…‰çŸ¥è¯†ç‚¹å°±447é¡µï¼ŒçœŸä¸æ„§æ˜¯ç»ä¸–æ­¦åŠŸçš„ç›®å½•å•Šã€‚ä¸è¿‡ï¼Œå¹¿è¥¿å¹²éƒ¨ç½‘ç»œå­¦é™¢ç»™å¤§å®¶æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„æ¨¡æ‹Ÿè®­ç»ƒçš„å¹³å°ï¼Œè€Œä¸”æ­£å¼æµ‹è¯•çš„é¢˜ç›®ä¹Ÿä¼šä»ä¸­é—´æŠ½å–ã€‚ç”±äºæ¨¡æ‹Ÿå¹³å°çš„è®¾è®¡æœ‰ç‚¹ä¸å‹å¥½ï¼Œæ¯”å¦‚è¦ç»ƒä¹ å•é€‰é¢˜ï¼Œä½ è¦åšå®Œå…¨éƒ¨çš„960é“é¢˜ï¼Œæ‰èƒ½æäº¤æ‰¹æ”¹ğŸ™€ã€‚è¿™ä¸ªæ—¶é—´é•¿åº¦æ˜¯ä¸ªè®©äººç–¯ç‹‚çš„çŠ¶æ€ã€‚çœ‹äº†ä¸€ä¸‹ç½‘é¡µæºç ï¼Œå±…ç„¶ç›´æ¥åµŒå…¥äº†æ­£ç¡®ç­”æ¡ˆå’Œè§£æã€‚ä¸ºäº†æ›´åŠ çµæ´»çš„å­¦ä¹ ï¼Œå¹²è„†å†™äº†ä¸€ä¸ªçˆ¬è™«ç¨‹åºï¼Œå°†é¢˜åº“çˆ¬å–ä¸‹æ¥ï¼Œæ–¹ä¾¿å¤ä¹ ğŸŒ\nä½¿ç”¨äº†BeautifulSoup4ã€‚\nBeautiful Soup is a Python package for parsing HTML and XML documents. It creates a parse tree for parsed pages that can be used to extract data from HTML, which is useful for web scraping.\n1.å‡†å¤‡ç´ æ ç™»å½•ç½‘ç«™ï¼Œç„¶åè¿›å…¥è®­ç»ƒæ¨¡å—ï¼ŒæŸ¥çœ‹ç½‘é¡µæºä»£ç ï¼Œå¹¶ä¿å­˜\u0026rsquo;.html\u0026lsquo;åˆ°æœ¬åœ°é¡¹ç›®ç›®å½•ä¸‹ã€‚å¤§æ¦‚ç»“æ„å¦‚ä¸‹ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt; \u0026lt;base href=\u0026#34;http://202.103.252.140:80/portal/\u0026#34; /\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=UTF-8\u0026#34; /\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;IE=edge,chrome=1\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;ExamStack\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body data-genuitec-lp-enabled=\u0026#34;false\u0026#34; data-genuitec-file-id=\u0026#34;wc2-12\u0026#34; data-genuitec-path=\u0026#34;/ExamStackPortal/WebRoot/WEB-INF/views/practice-improve-qh.jsp\u0026#34;\u0026gt; \u0026lt;header data-genuitec-lp-enabled=\u0026#34;false\u0026#34; data-genuitec-file-id=\u0026#34;wc2-12\u0026#34; data-genuitec-path=\u0026#34;/ExamStackPortal/WebRoot/WEB-INF/views/practice-improve-qh.jsp\u0026#34;\u0026gt; \u0026lt;/header\u0026gt; \u0026lt;div class=\u0026#34;content\u0026#34; style=\u0026#34;margin-bottom: 100px;\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;row\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;col-xs-9\u0026#34; style=\u0026#34;padding-right: 0px;min-height:800px;\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;def-bk\u0026#34; id=\u0026#34;bk-exampaper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;expand-bk-content\u0026#34; id=\u0026#34;bk-conent-exampaper\u0026#34;\u0026gt; \u0026lt;ul id=\u0026#34;exampaper-body\u0026#34;\u0026gt; \u0026lt;li class=\u0026#34;question qt-multiplechoice\u0026#34;\u0026gt; \u0026lt;form class=\u0026#34;question-body\u0026#34;\u0026gt; \u0026lt;p class=\u0026#34;question-body-text\u0026#34;\u0026gt;æ ¹æ®ã€Šè¡Œæ”¿å¤„ç½šæ³•ã€‹çš„è§„å®šï¼Œå½“äº‹äººå¯¹è¡Œæ”¿æœºå…³æ‰€ç»™äºˆçš„è¡Œæ”¿å¤„ç½šäº«æœ‰å“ªäº›æƒåˆ©ï¼Ÿï¼ˆ ï¼‰\u0026lt;/p\u0026gt; \u0026lt;ul class=\u0026#34;question-opt-list\u0026#34;\u0026gt; \u0026lt;li class=\u0026#34;question-list-item\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; value=\u0026#34;A\u0026#34; name=\u0026#34;question-radio1\u0026#34; class=\u0026#34;question-input\u0026#34; /\u0026gt;\u0026lt;span class=\u0026#34;question-li-text\u0026#34;\u0026gt;A: é™ˆè¿°æƒ\u0026lt;/span\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li class=\u0026#34;question-list-item\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; value=\u0026#34;B\u0026#34; name=\u0026#34;question-radio1\u0026#34; class=\u0026#34;question-input\u0026#34; /\u0026gt;\u0026lt;span class=\u0026#34;question-li-text\u0026#34;\u0026gt;B: ç”³è¾©æƒ\u0026lt;/span\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li class=\u0026#34;question-list-item\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; value=\u0026#34;C\u0026#34; name=\u0026#34;question-radio1\u0026#34; class=\u0026#34;question-input\u0026#34; /\u0026gt;\u0026lt;span class=\u0026#34;question-li-text\u0026#34;\u0026gt;C: ç”³è¯·è¡Œæ”¿å¤è®®\u0026lt;/span\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li class=\u0026#34;question-list-item\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; value=\u0026#34;D\u0026#34; name=\u0026#34;question-radio1\u0026#34; class=\u0026#34;question-input\u0026#34; /\u0026gt;\u0026lt;span class=\u0026#34;question-li-text\u0026#34;\u0026gt;D: æèµ·è¡Œæ”¿è¯‰è®¼\u0026lt;/span\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;div class=\u0026#34;answer-desc\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-summary\u0026#34;\u0026gt; \u0026lt;span\u0026gt;æ­£ç¡®ç­”æ¡ˆï¼š\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;answer_value\u0026#34;\u0026gt;ABCD\u0026lt;/span\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-detail\u0026#34;\u0026gt; \u0026lt;label class=\u0026#34;label label-info\u0026#34;\u0026gt;\u0026lt;i class=\u0026#34;fa fa-paw\u0026#34;\u0026gt;\u0026lt;/i\u0026gt;\u0026lt;span\u0026gt; æ¥æº\u0026lt;/span\u0026gt;\u0026lt;/label\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-content\u0026#34;\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-detail\u0026#34;\u0026gt; \u0026lt;label class=\u0026#34;label label-warning\u0026#34;\u0026gt;\u0026lt;i class=\u0026#34;fa fa-flag\u0026#34;\u0026gt;\u0026lt;/i\u0026gt;\u0026lt;span\u0026gt; è§£æ\u0026lt;/span\u0026gt;\u0026lt;/label\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-content\u0026#34;\u0026gt; \u0026lt;p\u0026gt;ã€Šè¡Œæ”¿å¤„ç½šæ³•ã€‹ç¬¬å…­æ¡ å…¬æ°‘ã€æ³•äººæˆ–è€…å…¶ä»–ç»„ç»‡å¯¹è¡Œæ”¿æœºå…³æ‰€ç»™äºˆçš„è¡Œæ”¿å¤„ç½šï¼Œäº«æœ‰é™ˆè¿°æƒã€ç”³è¾©æƒï¼›å¯¹è¡Œæ”¿å¤„ç½šä¸æœçš„ï¼Œæœ‰æƒä¾æ³•ç”³è¯·è¡Œæ”¿å¤è®®æˆ–è€…æèµ·è¡Œæ”¿è¯‰è®¼ã€‚ å…¬æ°‘ã€æ³•äººæˆ–è€…å…¶ä»–ç»„ç»‡å› è¡Œæ”¿æœºå…³è¿æ³•ç»™äºˆè¡Œæ”¿å¤„ç½šå—åˆ°æŸå®³çš„ï¼Œæœ‰æƒä¾æ³•æå‡ºèµ”å¿è¦æ±‚ã€‚\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-detail\u0026#34;\u0026gt; \u0026lt;label class=\u0026#34;label label-success\u0026#34;\u0026gt;\u0026lt;i class=\u0026#34;fa fa-bookmark\u0026#34;\u0026gt;\u0026lt;/i\u0026gt;\u0026lt;span\u0026gt; è€ƒç‚¹\u0026lt;/span\u0026gt;\u0026lt;/label\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-content\u0026#34;\u0026gt; \u0026lt;p\u0026gt;è¡Œæ”¿æ‰§æ³•ç»ƒä¹ åº“ \u0026amp;gt; å¤šé¡¹é€‰æ‹©é¢˜ \u0026amp;gt; çŸ¥è¯†å…³é”®ç‚¹ï¼š\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li class=\u0026#34;question qt-multiplechoice\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;question-title\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;question-title-icon\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;span class=\u0026#34;question-no\u0026#34;\u0026gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;question-type\u0026#34; style=\u0026#34;display: none;\u0026#34;\u0026gt;multiplechoice\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;knowledge-point-id\u0026#34; style=\u0026#34;display: none;\u0026#34;\u0026gt;17\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;question-type-id\u0026#34; style=\u0026#34;display: none;\u0026#34;\u0026gt;2\u0026lt;/span\u0026gt; \u0026lt;span\u0026gt;[å¤šé€‰é¢˜]\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;question-point-content\u0026#34;\u0026gt;\u0026lt;span\u0026gt;(\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026#34;question-point\u0026#34;\u0026gt;0\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt;åˆ†)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;question-id\u0026#34; style=\u0026#34;display:none;\u0026#34;\u0026gt;17944\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;form class=\u0026#34;question-body\u0026#34;\u0026gt; \u0026lt;p class=\u0026#34;question-body-text\u0026#34;\u0026gt;å¼ æŸæ˜¯ç”²å¿å†œè´¸å¸‚åœºçš„ä¸ªä½“å·¥å•†æˆ·ï¼Œå¿å«ç”Ÿè¡Œæ”¿ä¸»ç®¡éƒ¨é—¨å¤šæ¬¡é€šçŸ¥å¼ æŸåŠç†å¥åº·è¯å’Œå«ç”Ÿè®¸å¯è¯ï¼Œä½†å¼ æŸä¸€ç›´æœªåŠç†ã€‚å¿å«ç”Ÿè¡Œæ”¿ä¸»ç®¡éƒ¨é—¨é‚ä¾æ³•å¯¹å…¶ä½œå‡ºè¡Œæ”¿å¤„ç½šã€‚æ ¹æ®ã€Šè¡Œæ”¿å¤„ç½šæ³•ã€‹çš„è§„å®šï¼Œå¼ æŸå¯¹å¿å«ç”Ÿè¡Œæ”¿ä¸»ç®¡éƒ¨é—¨çš„å¤„ç½šå†³å®šäº«æœ‰çš„æƒåˆ©åŒ…æ‹¬å“ªäº›ï¼Ÿï¼ˆ ï¼‰\u0026lt;/p\u0026gt; \u0026lt;ul class=\u0026#34;question-opt-list\u0026#34;\u0026gt; \u0026lt;li class=\u0026#34;question-list-item\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; value=\u0026#34;A\u0026#34; name=\u0026#34;question-radio1\u0026#34; class=\u0026#34;question-input\u0026#34; /\u0026gt;\u0026lt;span class=\u0026#34;question-li-text\u0026#34;\u0026gt;A: é™ˆè¿°æƒ\u0026lt;/span\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li class=\u0026#34;question-list-item\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; value=\u0026#34;B\u0026#34; name=\u0026#34;question-radio1\u0026#34; class=\u0026#34;question-input\u0026#34; /\u0026gt;\u0026lt;span class=\u0026#34;question-li-text\u0026#34;\u0026gt;B: ç”³è¾©æƒ\u0026lt;/span\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li class=\u0026#34;question-list-item\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; value=\u0026#34;C\u0026#34; name=\u0026#34;question-radio1\u0026#34; class=\u0026#34;question-input\u0026#34; /\u0026gt;\u0026lt;span class=\u0026#34;question-li-text\u0026#34;\u0026gt;C: å¼ æŸä¸æœæ‰§æ³•æœºå…³çš„å¤„ç½šå†³å®šï¼Œå¯ä¾æ³•ç”³è¯·è¡Œæ”¿å¤è®®\u0026lt;/span\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li class=\u0026#34;question-list-item\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; value=\u0026#34;D\u0026#34; name=\u0026#34;question-radio1\u0026#34; class=\u0026#34;question-input\u0026#34; /\u0026gt;\u0026lt;span class=\u0026#34;question-li-text\u0026#34;\u0026gt;D: å¼ æŸä¸æœæ‰§æ³•æœºå…³çš„å¤„ç½šï¼Œå¯ä»¥æ‹’ç»æ‰§è¡Œè¡Œæ”¿å¤„ç½šå†³å®š\u0026lt;/span\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;div class=\u0026#34;answer-desc\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-summary\u0026#34;\u0026gt; \u0026lt;span\u0026gt;æ­£ç¡®ç­”æ¡ˆï¼š\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;answer_value\u0026#34;\u0026gt;ABC\u0026lt;/span\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-detail\u0026#34;\u0026gt; \u0026lt;label class=\u0026#34;label label-info\u0026#34;\u0026gt;\u0026lt;i class=\u0026#34;fa fa-paw\u0026#34;\u0026gt;\u0026lt;/i\u0026gt;\u0026lt;span\u0026gt; æ¥æº\u0026lt;/span\u0026gt;\u0026lt;/label\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-content\u0026#34;\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-detail\u0026#34;\u0026gt; \u0026lt;label class=\u0026#34;label label-warning\u0026#34;\u0026gt;\u0026lt;i class=\u0026#34;fa fa-flag\u0026#34;\u0026gt;\u0026lt;/i\u0026gt;\u0026lt;span\u0026gt; è§£æ\u0026lt;/span\u0026gt;\u0026lt;/label\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-content\u0026#34;\u0026gt; \u0026lt;p\u0026gt;ã€Šè¡Œæ”¿å¤„ç½šæ³•ã€‹ç¬¬å…­æ¡ å…¬æ°‘ã€æ³•äººæˆ–è€…å…¶ä»–ç»„ç»‡å¯¹è¡Œæ”¿æœºå…³æ‰€ç»™äºˆçš„è¡Œæ”¿å¤„ç½šï¼Œäº«æœ‰é™ˆè¿°æƒã€ç”³è¾©æƒï¼›å¯¹è¡Œæ”¿å¤„ç½šä¸æœçš„ï¼Œæœ‰æƒä¾æ³•ç”³è¯·è¡Œæ”¿å¤è®®æˆ–è€…æèµ·è¡Œæ”¿è¯‰è®¼ã€‚ å…¬æ°‘ã€æ³•äººæˆ–è€…å…¶ä»–ç»„ç»‡å› è¡Œæ”¿æœºå…³è¿æ³•ç»™äºˆè¡Œæ”¿å¤„ç½šå—åˆ°æŸå®³çš„ï¼Œæœ‰æƒä¾æ³•æå‡ºèµ”å¿è¦æ±‚ã€‚\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-detail\u0026#34;\u0026gt; \u0026lt;label class=\u0026#34;label label-success\u0026#34;\u0026gt;\u0026lt;i class=\u0026#34;fa fa-bookmark\u0026#34;\u0026gt;\u0026lt;/i\u0026gt;\u0026lt;span\u0026gt; è€ƒç‚¹\u0026lt;/span\u0026gt;\u0026lt;/label\u0026gt; \u0026lt;div class=\u0026#34;answer-desc-content\u0026#34;\u0026gt; \u0026lt;p\u0026gt;è¡Œæ”¿æ‰§æ³•ç»ƒä¹ åº“ \u0026amp;gt; å¤šé¡¹é€‰æ‹©é¢˜ \u0026amp;gt; çŸ¥è¯†å…³é”®ç‚¹ï¼š\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;!-- å…¶ä»–ç•¥å» --\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 2.ç¼–å†™çˆ¬è™«ä»£ç  ä»¥ä¸‹ä¸ºå¤šé€‰é¢˜çš„ä»£ç ï¼Œå…¶ä»–å•é€‰å’Œåˆ¤æ–­é¢˜çš„æ–¹æ³•å·®ä¸å¤šã€‚\nfrom bs4 import BeautifulSoup import requests # æ–¹æ³•1.ç›´æ¥åœ¨çº¿çˆ¬å– htmlfile = requests.get(\u0026#39;http://202.103.252.140/portal/student/practice-improve/6/17/2\u0026#39;).content # æ–¹æ³•2.ä»ä¿å­˜çš„æœ¬åœ°æ–‡ä»¶çˆ¬å– # htmlfile = open(\u0026#39;å¤šé€‰é¢˜.html\u0026#39;, \u0026#39;r\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) soup = BeautifulSoup(htmlfile, \u0026#39;lxml\u0026#39;, from_encoding=\u0026#39;utf-8\u0026#39;) tags = soup.find_all(\u0026#39;li\u0026#39;, class_=\u0026#34;qt-multiplechoice\u0026#34;) for tag in tags: print(tag.select(\u0026#39;.question-body-text\u0026#39;)[0].get_text()) tagsa = tag.select(\u0026#34;.question-li-text\u0026#34;) for tagc in tagsa: print(tagc.get_text()) è‡³æ­¤ï¼Œå¤§åŠŸå‘Šæˆã€‚æ€»é¢˜ç›®æ•°2000ï¼Œå¤ä¹ å»äº†ã€‚\n3. youtubeä¸Šçš„å‚è€ƒæ•™å­¦èµ„æ–™ çŸ¥ä¹ä¸ŠDwzbçš„\rBeautifulSoupå…¨é¢æ€»ç»“\rä½œä¸ºç¬”è®°æ”¶è—ä¸€ä¸‹ã€‚ æ¯”è¾ƒè¯¦ç»†çš„è§†é¢‘ä»‹ç»ï¼š\rPython Web Scraping\rï¼Œæºç ä»‹ç»\rwww.jimshapedcoding.com\r.\nfrom bs4 import BeautifulSoup import requests import time print(\u0026#39;Put some skill that you are not familiar with\u0026#39;) unfamiliar_skill = input(\u0026#39;\u0026gt;\u0026#39;) print(f\u0026#39;Filtering out {unfamiliar_skill}\u0026#39;) def find_jobs(): html_text = requests.get(\u0026#39;https://www.timesjobs.com/candidate/job-search.html?searchType=personalizedSearch\u0026amp;from=submit\u0026amp;txtKeywords=python\u0026amp;txtLocation=\u0026#39;).text soup = BeautifulSoup(html_text, \u0026#39;lxml\u0026#39;) jobs = soup.find_all(\u0026#39;li\u0026#39;, class_ = \u0026#39;clearfix job-bx wht-shd-bx\u0026#39;) for index, job in enumerate(jobs): published_date = job.find(\u0026#39;span\u0026#39;, class_=\u0026#39;sim-posted\u0026#39;).span.text if \u0026#39;few\u0026#39; in published_date: company_name = job.find(\u0026#39;h3\u0026#39;, class_ = \u0026#39;joblist-comp-name\u0026#39;).text.replace(\u0026#39; \u0026#39;,\u0026#39;\u0026#39;) skills = job.find(\u0026#39;span\u0026#39;, class_ = \u0026#39;srp-skills\u0026#39;).text.replace(\u0026#39; \u0026#39;,\u0026#39;\u0026#39;) more_info = job.header.h2.a[\u0026#39;href\u0026#39;] if unfamiliar_skill not in skills: with open(f\u0026#39;posts/{index}.txt\u0026#39;, \u0026#39;w\u0026#39;) as f: f.write(f\u0026#34;Company Name: {company_name.strip()} \\n\u0026#34;) f.write(f\u0026#34;Required Skills: {skills.strip()} \\n\u0026#34;) f.write(f\u0026#39;More Info: {more_info}\u0026#39;) print(f\u0026#39;File saved: {index}\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: while True: find_jobs() #IMPORTANT: KEEP THIS AMOUNT HIGHER AS POSSIBLE TO AVOID SCRAPING CONTINOUSLY A WEBSITE. #YOU DO NOT WANT TO BE CONSIDERED AS A BOT WHO TRIES TO ATTACK A WEBSITE BY REQUESTING FROM IT TOO MUCH time_wait = 10 print(f\u0026#39;Waiting {time_wait} minutes...\u0026#39;) time.sleep(time_wait * 60) ","date":"2020-11-30T19:24:55+08:00","permalink":"//localhost:1313/post/tech/python/crabgxela/","section":"post","tags":["scrap","python"],"title":"Pythonçˆ¬å–å¹¿è¥¿å¹²éƒ¨ç½‘ç»œå­¦é™¢çš„è®­ç»ƒé¢˜åº“"},{"categories":["tech"],"contents":"streamlitæ˜¯ä¸€ä¸ªç”¨äºæ„å»ºæœºå™¨å­¦ä¹ ã€æ•°æ®å¯è§†åŒ–çš„pythonæ¡†æ¶ã€‚å¯¹äºéœ€è¦å¿«é€Ÿéƒ¨ç½²æœºå™¨å­¦ä¹ åº”ç”¨ï¼Œæˆ–åœ¨ç½‘ä¸Šå±•ç¤ºä¸€äº›å°åº”ç”¨ï¼Œåˆä¸æƒ³å­¦ä¹ flaskæˆ–djangoç­‰çš„ï¼Œstreamlitç®€ç›´æ˜¯é»‘æš—æ›™å…‰ã€‚åªéœ€è¦ ä¸€äº›åŸºæœ¬çš„pthonçš„çŸ¥è¯†ï¼ˆå¦‚æœè¿™ä¸ªéƒ½æ²¡æœ‰ï¼Œé‚£å°±ä¸ç”¨å¾€ä¸‹çœ‹äº†ï¼‰ï¼Œç»“åˆ\rstreamlit\rçš„ç¤ºä¾‹ï¼Œå¼€å‘ä¸€ä¸ªwebappå¯ä»¥è¯´æ˜¯ååˆ†è¿…é€Ÿã€‚æœ¬æ–‡ä¸»è¦è®°å½•äº†appä¸Šçº¿è¿‡ç¨‹ä¸­çš„ç«¯å£è½¬å‘å’Œåå°è¿è¡Œé—®é¢˜ï¼Œè‡³äºç¼–å†™streamlitåº”ç”¨çš„æ–¹æ³•ï¼Œè¯·è‡ªè¡Œå­¦ä¹ ã€‚\nåœ¨çº¿å›¾ç‰‡è¯†åˆ«\r1.æœåŠ¡å™¨ç¯å¢ƒä»‹ç» Debian 10 DNSåŸŸåè§£æåˆ°æœåŠ¡å™¨IPçš„80ç«¯å£ Python3.8 Nginx1.14.2 æœåŠ¡å™¨ï¼ˆåŒ…æ‹¬VPSæ§åˆ¶å°ï¼‰çš„é˜²ç«å¢™ç¡®ä¿80ç«¯å£å¼€é€š 2. å®‰è£…streamlit pip install streamlit å®‰è£…ä¹‹ååœ¨å‘½ä»¤è¡Œè¾“å…¥æµ‹è¯•ï¼ˆè¯·å…ˆæ”¾è¡Œ8501ç«¯å£ï¼‰ï¼Œæ³¨æ„ï¼šè¦åœ¨pythonç¯å¢ƒä¸­è¿è¡Œ:\nstreamlit hello å¦‚æœèƒ½çœ‹åˆ°ï¼Œä¸‹é¢çš„é¡µé¢åˆ™è¯´æ˜è¿è¡Œæ­£å¸¸ã€‚ æ­¤æ—¶ï¼Œpythonæ­å»ºä¸€ä¸ªappç¯å¢ƒï¼Œä¸Šä¼ ä½ çš„appname.pyæ–‡ä»¶ã€‚\nåœ¨æµè§ˆå™¨è¾“å…¥ä¾‹å¦‚ï¼šhttp://35.167.158.251:8501æµ‹è¯•çœ‹æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œï¼š æ³¨æ„ï¼šå¦‚æœä½ çš„appå¼•ç”¨äº†å…¶ä»–ä¸‰æ–¹æ¨¡å—ï¼Œè¯·è®°å¾—åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…å®ƒä»¬ã€‚\nstreamlit run appname.py 3. Nginxçš„ç®€å•é…ç½® ä¿®æ”¹ /etc/nginx/sites-available/defaultæ–‡ä»¶\nserver {\rlisten 80 default_server;\rlisten [::]:80 default_server;\rroot /var/www/html;\rindex index.html index.htm index.nginx-debian.html;\rserver_name _;\rlocation / {\r# First attempt to serve request as file, then\r# as directory, then fall back to displaying a 404.\r#try_files $uri $uri/ =404;\r# new add\r#proxy_set_header Host $http_host;\r#proxy_set_header X-Real-IP $remote_addr;\r#proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r#proxy_set_header X-Scheme $scheme;\rproxy_pass http://127.0.0.1:8501;\r}\rlocation ^~ /static {\rproxy_pass http://127.0.0.1:8501/static/;\r}\rlocation ^~ /healthz {\rproxy_pass http://127.0.0.1:8501/healthz;\r}\rlocation ^~ /vendor {\rproxy_pass http://127.0.0.1:8501/vendor;\r}\rlocation /stream { # most important config\rproxy_pass http://127.0.0.1:8501/stream;\rproxy_http_version 1.1; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\rproxy_set_header Host $host;\rproxy_set_header Upgrade $http_upgrade;\rproxy_set_header Connection \u0026#34;upgrade\u0026#34;;\rproxy_read_timeout 86400;\r}\r} 4. ä¿®æ”¹streamlitçš„é…ç½®æ–‡ä»¶ ä½¿ç”¨å‘½ä»¤streamlit config show \u0026gt; ~/.streamlit/config.tomlå»ºç«‹é…ç½®æ–‡ä»¶ã€‚ ç„¶åä¿®æ”¹å…¶ä¸­çš„ï¼š\nserverAddress = \u0026#34;your domain name\u0026#34; # ä½ çš„åŸŸå\renableCORS = false 5. é…ç½®åå°è¿è¡Œ å…ˆå¯åŠ¨Nginxï¼Œsystemctl start nginxã€‚\n# å®‰è£…tmux\rapt install tmux\r# æ–°å»ºä¼šè¯\rtmux new -s StreamSession\r# åœ¨çª—å£ä¸­è¾“å…¥å‘½ä»¤\rstreamlit run appname.py\ræˆ–è€…\r/root/my_app/my_app_venv/bin/python3.8 /root/my_app/my_app_venv/bin/streamlit run /root/my_app/my_app_venv/appname.py ç„¶åï¼ŒCtrl+B and then D (Donâ€™t press Ctrl when pressing D)å¯ä»¥å…³é—­çª—å£äº†ã€‚\n# åˆ†ç¦»ä¼šè¯\rtmux attach -t StreamSession\r# æŸ¥çœ‹ä¼šè¯\rps aux | grep streamlit\r# é€šè¿‡pidä¸­æ–­ä¼šè¯\rkill -9 20947 6. streamlitä¼˜ç¼ºç‚¹ streamlitçš„ä¼˜ç‚¹å¾ˆæ˜æ˜¾ï¼š\nå¼€å‘é€Ÿåº¦å¿«ï¼Œä¿®æ”¹æ–¹ä¾¿ã€‚éå¸¸é€‚åˆä¸ªäººå¼€å‘è€…ã€‚ ä¸å¿…éœ€è¦webæ–¹é¢çŸ¥è¯†ä¹Ÿå¯ä»¥å¼€å‘å‡ºå¯ç”¨çš„web appï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸å¼•äººçš„åœ°æ–¹ã€‚ streamlitä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼š\nå‰ç«¯ç•Œé¢å›ºå®šï¼Œå¼€å‘è€…ä¸èƒ½éšæ„è°ƒæ•´æ§ä»¶ä½ç½®ã€‚ ç¤¾åŒºç°åœ¨è¿˜ä¸å¤Ÿå®Œå–„ï¼Œä¹Ÿæœ‰ä¸€äº›bugæš‚æ—¶æ²¡æœ‰è§£å†³ã€‚\næ€»çš„æ¥è¯´ï¼Œstreamlitç»å¯¹æ˜¯ä¸€æ¬¾å€¼å¾—å­¦ä¹ çš„æ¡†æ¶ï¼›ä¹Ÿè®¸ä½ çš„é¢†åŸŸå¹¶ä¸æ˜¯æœºå™¨å­¦ä¹ ã€æ•°æ®åˆ†æé¢†åŸŸï¼Œä½†æ˜¯ä»å¦ä¸€ä¸ªæ–¹é¢æƒ³ï¼Œstreamlitæä¾›äº†ä¸°å¯Œçš„æ§ä»¶ä»¥åŠç®€å•çš„å¼€å‘æµç¨‹ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨ã€‚ ","date":"2020-11-27T10:10:13+08:00","permalink":"//localhost:1313/post/tech/python/streamlitocr/streamlitocr/","section":"post","tags":["python","streamlit","ocr"],"title":"Streamlité…åˆNginxæ­å»ºåœ¨çº¿OCRè¯†åˆ«ç½‘ç«™"},{"categories":["life"],"contents":"ç”Ÿæ´»ä¸­ï¼Œæ€»æœ‰ä¸€äº›ä¸¥å³»è€ƒéªŒï¼Œæ˜¯å´©æºƒè¿˜æ˜¯èƒœåˆ©ï¼Œå°±çœ‹ä½ æ˜¯å¦æœ‰åšå¥½å‡†å¤‡ã€‚æ¯”å¦‚è¯´ï¼Œå¦»å­ä¸åœ¨å®¶ï¼Œè€Œå¥³å„¿æ€¥ç€è¦å»ç»ƒèˆè¹ˆã€‚è¿™æ—¶ï¼Œä½œä¸ºä¸€åå¥³ç”Ÿçš„å®¶é•¿ï¼Œç¼–å¤´å‘æ˜¯ä¸€ä¸ªé‡å¤§è€ƒéªŒã€‚ å¦‚æœæ­¤æ—¶æŒæ¡äº†ä¸€ç‚¹æ–¹æ³•çš„è¯ï¼Œå¯ä»¥ä»å®¹åŒ–å±ä¸ºå®‰ï¼Œèµ¢å¾—å¥³å„¿çš„èµèµã€‚ å½“ç„¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ²¡åŠæ³•åƒä¸Šé¢è¿™äº›å®¶é•¿ä¸€æ ·ç°ä»£é«˜æ•ˆè§£å†³ã€‚æˆ‘éœ€è¦çš„æ˜¯ç®€å•å®ç”¨æ–¹æ³•ï¼š\nç®€ä¾¿å¿«æ·åˆä¸å¤±å¯çˆ±çš„æ–¹æ³• è²è“¬å¤´\nåŒè²è“¬å¤´\nè·Ÿå‰é¢å·®ä¸å¤šçš„èŠ±å·\nç¨å¾®æœ‰ç‚¹æŠ€æœ¯å«é‡ï¼Œé€‚åˆæ­£å¼ä¸€ç‚¹åœºåˆ æˆç†Ÿä¸€ç‚¹åçš„å‘å‹\nå…¬ä¸»å‹\nèŒä¸šå‹ï¼Œä»¥åå†ç”¨\nä¸Šèˆè¹ˆè¯¾å‰å¿…å¤‡çš„ç›˜å‘æ”»ç•¥ å…ˆç”¨çš®ç­‹æŠŠå¤´å‘æ‰æˆé©¬å°¾ï¼Œé©¬å°¾æ˜¯å¦æ‰åœ¨å¤´å‹çœ‹ä¸Šå»æœ€å°æœ€æ¼‚äº®çš„åœ°æ–¹ï¼Œæ˜¯èŠ­è•¾ç›˜å¤´æˆåŠŸä¸å¦çš„å…³é”®ã€‚é©¬å°¾ã€ä¸‹å·´ã€è€³æœµæœ€é«˜å¤„ä¸‰ç‚¹åº”å½¢æˆä¸€æ¡ç›´çº¿ã€‚ å°†é©¬å°¾é¡ºç€ä¸€ä¸ªæ–¹å‘æ‰­è½¬è‡³å‘å°¾ã€‚ é¡ºç€é©¬å°¾æ‰­è½¬çš„æ–¹å‘å°†å¤´å‘ç›˜èµ·æ¥ï¼Œä¸è¦ç›˜å¾—å¤ªç´§ï¼Œç›˜æˆæ‰å¹³çš„åœ†å½¢ã€‚ æŠŠå‘ç½‘å¥—ä¸Šï¼Œæ³¨æ„è¦å…ˆæ¡ç´§ï¼Œä¸è¦è®©å¤´å‘æ¾äº† æŠŠç›˜å¥½çš„å¤´å‘å‹æ‰ï¼Œè¦ä½¿å¤´å‘å°½é‡è´´ç€å¤´çš®ï¼Œç”¨ U å‹å¤¹å­æŠŠå…¶å›ºå®šã€‚å‘å¡è¦ç»•ç€å‘ç½‘åˆ«ï¼Œè¦å¤¹ç´§å‘ç½‘å’Œå¤´å‘ã€‚ ","date":"2020-11-24T11:40:42+08:00","permalink":"//localhost:1313/post/life/braidmethod/","section":"post","tags":["braid","ç”Ÿå­˜"],"title":"æœ‰å¥³ç”Ÿçš„å®¶é•¿å¿…å¤‡æŠ€èƒ½ä¹‹æ‰è¾«å­"},{"categories":["life"],"contents":"$$ F=G\\frac{Mm}{r^2} $$\nä¸€ã€åŸºæœ¬æ¦‚å¿µå’Œç¬¦å·ï¼š 1ã€æ•´é™¤ï¼šå¦‚æœä¸€ä¸ªæ•´æ•°aï¼Œé™¤ä»¥ä¸€ä¸ªè‡ªç„¶æ•°bï¼Œå¾—åˆ°ä¸€ä¸ªæ•´æ•°å•†cï¼Œè€Œä¸”æ²¡æœ‰ä½™æ•°ï¼Œé‚£ä¹ˆå«åšaèƒ½è¢«bæ•´é™¤æˆ–bèƒ½æ•´é™¤aï¼Œè®°ä½œb|aã€‚\n2ã€å¸¸ç”¨ç¬¦å·ï¼šæ•´é™¤ç¬¦å·â€œ|â€ï¼Œä¸èƒ½æ•´é™¤ç¬¦å·â€œâ€;å› ä¸ºç¬¦å·â€œâˆµâ€ï¼Œæ‰€ä»¥çš„ç¬¦å·â€œâˆ´â€;\näºŒã€æ•´é™¤åˆ¤æ–­æ–¹æ³•ï¼š èƒ½è¢«2ã€5æ•´é™¤ï¼šæœ«ä½ä¸Šçš„æ•°å­—èƒ½è¢«2ã€5æ•´é™¤ã€‚\nèƒ½è¢«4ã€25æ•´é™¤ï¼šæœ«ä¸¤ä½çš„æ•°å­—æ‰€ç»„æˆçš„æ•°èƒ½è¢«4ã€25æ•´é™¤ã€‚\nèƒ½è¢«8ã€125æ•´é™¤ï¼šæœ«ä¸‰ä½çš„æ•°å­—æ‰€ç»„æˆçš„æ•°èƒ½è¢«8ã€125æ•´é™¤ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªæ•´æ•°èƒ½å¦è¢« $2^x$ æˆ–è€… $5^x$ æ•´é™¤ï¼Œå°±çœ‹è¿™ä¸ªæ•´æ•°çš„å$x$ä½èƒ½å¦è¢«2æˆ–5æ•´é™¤ã€‚\nèƒ½è¢«3ã€9æ•´é™¤ï¼šå„ä¸ªæ•°ä½ä¸Šæ•°å­—çš„å’Œèƒ½è¢«3ã€9æ•´é™¤ã€‚\nèƒ½è¢«7æ•´é™¤ï¼š\nâ‘ æœ«ä¸‰ä½ä¸Šæ•°å­—æ‰€ç»„æˆçš„æ•°ä¸æœ«ä¸‰ä½ä»¥å‰çš„æ•°å­—æ‰€ç»„æˆæ•°ä¹‹å·®èƒ½è¢«7æ•´é™¤ã€‚\nâ‘¡é€æ¬¡å»æ‰æœ€åä¸€ä½æ•°å­—å¹¶å‡å»æœ«ä½æ•°å­—çš„2å€åèƒ½è¢«7æ•´é™¤ã€‚\nèƒ½è¢«11æ•´é™¤ï¼š\nâ‘ æœ«ä¸‰ä½ä¸Šæ•°å­—æ‰€ç»„æˆçš„æ•°ä¸æœ«ä¸‰ä½ä»¥å‰çš„æ•°å­—æ‰€ç»„æˆçš„æ•°ä¹‹å·®èƒ½è¢«11æ•´é™¤ã€‚\nâ‘¡å¥‡æ•°ä½ä¸Šçš„æ•°å­—å’Œä¸å¶æ•°ä½æ•°çš„æ•°å­—å’Œçš„å·®èƒ½è¢«11æ•´é™¤ã€‚\nâ‘¢é€æ¬¡å»æ‰æœ€åä¸€ä½æ•°å­—å¹¶å‡å»æœ«ä½æ•°å­—åèƒ½è¢«11æ•´é™¤ã€‚\nèƒ½è¢«13æ•´é™¤ï¼š\nâ‘ æœ«ä¸‰ä½ä¸Šæ•°å­—æ‰€ç»„æˆçš„æ•°ä¸æœ«ä¸‰ä½ä»¥å‰çš„æ•°å­—æ‰€ç»„æˆçš„æ•°ä¹‹å·®èƒ½è¢«13æ•´é™¤ã€‚\nâ‘¡é€æ¬¡å»æ‰æœ€åä¸€ä½æ•°å­—å¹¶å‡å»æœ«ä½æ•°å­—çš„9å€åèƒ½è¢«13æ•´é™¤ã€‚\nä¸‰ã€æ•´é™¤çš„æ€§è´¨ï¼š å¦‚æœaã€bèƒ½è¢«cæ•´é™¤ï¼Œé‚£ä¹ˆ (a+b) ä¸ (a-b) ä¹Ÿèƒ½è¢«cæ•´é™¤ã€‚ å¦‚æœaèƒ½è¢«bæ•´é™¤ï¼Œcæ˜¯æ•´æ•°ï¼Œé‚£ä¹ˆaä¹˜ä»¥cä¹Ÿèƒ½è¢«bæ•´é™¤ã€‚ å¦‚æœaèƒ½è¢«bæ•´é™¤ï¼Œbåˆèƒ½è¢«cæ•´é™¤ï¼Œé‚£ä¹ˆaä¹Ÿèƒ½è¢«cæ•´é™¤ã€‚ å¦‚æœaèƒ½è¢«bã€cæ•´é™¤ï¼Œé‚£ä¹ˆaä¹Ÿèƒ½è¢«bå’Œcçš„æœ€å°å…¬å€æ•°æ•´é™¤ã€‚ å››ã€æ•°çš„æ•´é™¤æ€§ç»ƒä¹ é¢˜ A.æ•°çš„æ•´é™¤æ€§è§„å¾‹ç»ƒä¹  ã€èƒ½è¢«2æˆ–5æ•´é™¤çš„æ•°çš„ç‰¹å¾ã€‘ä¸€ä¸ªæ•°çš„æœ«ä½èƒ½è¢«2æˆ–5æ•´é™¤ï¼Œè¿™ä¸ªæ•°å°±èƒ½è¢«2æˆ–5æ•´é™¤ ã€èƒ½è¢«3æˆ–9æ•´é™¤çš„æ•°çš„ç‰¹å¾ã€‘ä¸€ä¸ªæ•°ï¼Œå½“ä¸”ä»…å½“å®ƒçš„å„ä¸ªæ•°ä½ä¸Šçš„æ•°å­—ä¹‹å’Œèƒ½è¢«3å’Œ9æ•´é™¤æ—¶ï¼Œè¿™ä¸ªæ•°ä¾¿èƒ½è¢«3æˆ–9æ•´é™¤ã€‚ ä¾‹å¦‚ï¼Œ1248621å„ä½ä¸Šçš„æ•°å­—ä¹‹å’Œæ˜¯1+2+4+8+6+2+1=24\n3|24ï¼Œåˆ™$3|1248621$ã€‚ åˆå¦‚ï¼Œ372681å„ä½ä¸Šçš„æ•°å­—ä¹‹å’Œæ˜¯3+7+2+6+8+1=27\n9|27ï¼Œåˆ™$9|372681$ã€‚ ã€èƒ½è¢«4æˆ–25æ•´é™¤çš„æ•°çš„ç‰¹å¾ã€‘ä¸€ä¸ªæ•°ï¼Œå½“ä¸”ä»…å½“å®ƒçš„æœ«ä¸¤ä½æ•°èƒ½è¢«4æˆ–25æ•´é™¤æ—¶ï¼Œè¿™ä¸ªæ•°ä¾¿èƒ½è¢«4æˆ–25æ•´é™¤ã€‚ æ•´æ•°173824çš„æœ«ä¸¤ä½æ•°ä¸º24ï¼Œ4|24ï¼Œåˆ™4|173824ã€‚ æ•´æ•°43586775çš„æœ«ä¸¤ä½æ•°ä¸º75ï¼Œ25|75ï¼Œåˆ™25|43586775ã€‚ ã€èƒ½è¢«8æˆ–125æ•´é™¤çš„æ•°çš„ç‰¹å¾ã€‘ä¸€ä¸ªæ•°ï¼Œå½“ä¸”ä»…å½“å®ƒçš„æœ«ä¸‰ä½æ•°å­—ä¸º0ï¼Œæˆ–è€…æœ«ä¸‰ä½æ•°èƒ½è¢«8æˆ–125æ•´é™¤æ—¶ï¼Œè¿™ä¸ªæ•°ä¾¿èƒ½è¢«8æˆ–125æ•´é™¤ã€‚ æ•´æ•°32178000çš„æœ«ä¸‰ä½æ•°å­—ä¸º0ï¼Œåˆ™è¿™ä¸ªæ•°èƒ½è¢«8æ•´é™¤ï¼Œä¹Ÿèƒ½å¤Ÿè¢«125æ•´é™¤ã€‚ 3569824çš„æœ«ä¸‰ä½æ•°ä¸º824ï¼Œ8|824ï¼Œåˆ™8|3569824ã€‚ 214813750çš„æœ«ä¸‰ä½æ•°ä¸º750ï¼Œ125|750ï¼Œåˆ™125|214813750ã€‚ ã€èƒ½è¢«7ã€11ã€13æ•´é™¤çš„æ•°çš„ç‰¹å¾ã€‘ä¸€ä¸ªæ•°ï¼Œå½“ä¸”ä»…å½“å®ƒçš„æœ«ä¸‰ä½æ•°å­—æ‰€è¡¨ç¤ºçš„æ•°ï¼Œä¸æœ«ä¸‰ä½ä»¥å‰çš„æ•°å­—æ‰€è¡¨ç¤ºçš„æ•°çš„å·®(å¤§å‡å°çš„å·®)èƒ½è¢«7ã€11ã€13æ•´é™¤æ—¶ï¼Œè¿™ä¸ªæ•°å°±èƒ½è¢«7ã€11ã€13æ•´é™¤ã€‚ ä¾‹å¦‚ï¼Œ75523çš„æœ«ä¸‰ä½æ•°ä¸º523ï¼Œæœ«ä¸‰ä½ä»¥å‰çš„æ•°å­—æ‰€è¡¨ç¤ºçš„æ•°æ˜¯75ï¼Œ523-75=448ï¼Œ448Ã·7=64ï¼Œå³7|448ï¼Œåˆ™7|75523ã€‚ åˆå¦‚ï¼Œ1095874çš„æœ«ä¸‰ä½æ•°ä¸º874ï¼Œæœ«ä¸‰ä½ä»¥å‰çš„æ•°å­—æ‰€è¡¨ç¤ºçš„æ•°æ˜¯1095ï¼Œ1095-874=221ï¼Œ221Ã·13=17ï¼Œå³13|221ï¼Œåˆ™13|1095874ã€‚ å†å¦‚ï¼Œ868967çš„æœ«ä¸‰ä½æ•°ä¸º967ï¼Œæœ«ä¸‰ä½ä»¥å‰çš„æ•°å­—æ‰€è¡¨ç¤ºçš„æ•°æ˜¯868ï¼Œ967-868=99ï¼Œ99Ã·11=9ï¼Œå³11|99ï¼Œåˆ™11|868967ã€‚ æ­¤å¤–ï¼Œèƒ½è¢«11æ•´é™¤çš„æ•°çš„ç‰¹å¾ï¼Œè¿˜å¯ä»¥è¿™æ ·å™è¿°ï¼šä¸€ä¸ªæ•°ï¼Œå½“ä¸”ä»…å½“å®ƒçš„å¥‡æ•°ä½ä¸Šæ•°å­—ä¹‹å’Œï¼Œä¸å¶æ•°ä½ä¸Šæ•°å­—ä¹‹å’Œçš„å·®(å¤§å‡å°)èƒ½è¢«11æ•´é™¤æ—¶ï¼Œåˆ™è¿™ä¸ªæ•°ä¾¿èƒ½è¢«11æ•´é™¤ã€‚\nä¾‹å¦‚ï¼Œ4239235çš„å¥‡æ•°ä½ä¸Šçš„æ•°å­—ä¹‹å’Œä¸º4+3+2+5=14ï¼Œå¶æ•°ä½ä¸Šæ•°å­—ä¹‹å’Œä¸º2+9+3=14ï¼ŒäºŒè€…ä¹‹å·®ä¸º14-14=0ï¼Œ0Ã·11=0ï¼Œå³11|0ï¼Œåˆ™11|4239235ã€‚ B.æ•°çš„æ•´é™¤è¿ç”¨æ–¹æ³• ä½å·®æ³•â€”â€”æŠŠä¸€ä¸ªæ•°ç”±å³è¾¹å‘å·¦è¾¹æ•°ï¼Œå°†å¥‡ä½ä¸Šçš„æ•°å­—ä¸å¶ä½ä¸Šçš„æ•°å­—åˆ†åˆ«åŠ èµ·æ¥ï¼Œå†æ±‚å®ƒä»¬çš„å·®ï¼Œå¦‚æœè¿™ä¸ªå·®æ˜¯11çš„å€æ•°(åŒ…æ‹¬0)ï¼Œé‚£ä¹ˆï¼ŒåŸæ¥è¿™ä¸ªæ•°å°±ä¸€å®šèƒ½è¢«11æ•´é™¤ã€‚\nä¾‹å¦‚:\nåˆ¤æ–­491678èƒ½ä¸èƒ½è¢«11æ•´é™¤ã€‚\nâ€”â†’å¥‡ä½æ•°å­—çš„å’Œ9+6+8=23\nâ€”â†’å¶ä½æ•°ä½çš„å’Œ4+1+7=1223-12=11\nå› æ­¤ï¼Œ491678èƒ½è¢«11æ•´é™¤ã€‚\nè¿™ç§æ–¹æ³•å«\u0026quot;å¥‡å¶ä½å·®æ³•\u0026quot;ã€‚\nå‰²å‡æ³•â€”â€”ä»ä¸€ä¸ªæ•°é‡Œå‡å»11çš„10å€ã€20å€ã€30å€â€¦â€¦åˆ°ä½™ä¸‹ä¸€ä¸ª100ä»¥å†…çš„æ•°ä¸ºæ­¢ã€‚å¦‚æœè¿™ä¸ªä½™æ•°èƒ½è¢«11æ•´é™¤ï¼Œé‚£ä¹ˆï¼ŒåŸæ¥è¿™ä¸ªæ•°å°±ä¸€å®šèƒ½è¢«11æ•´é™¤ã€‚\nä¾‹å¦‚ï¼š\nåˆ¤æ–­583èƒ½ä¸èƒ½è¢«11æ•´é™¤ã€‚\nç”¨583å‡å»11çš„50å€(583-11Ã—50=33)ä½™æ•°æ˜¯33ï¼Œ33èƒ½è¢«11æ•´é™¤ï¼Œæ‰€ä»¥583ä¹Ÿä¸€å®šèƒ½è¢«11æ•´é™¤ã€‚\n1ä¸0çš„ç‰¹æ€§ï¼š\n1æ˜¯ä»»ä½•æ•´æ•°çš„çº¦æ•°ï¼Œå³å¯¹äºä»»ä½•æ•´æ•°aï¼Œæ€»æœ‰1|a.\n0æ˜¯ä»»ä½•éé›¶æ•´æ•°çš„å€æ•°ï¼Œaâ‰ 0ï¼Œaä¸ºæ•´æ•°ï¼Œåˆ™a|0. è‹¥ä¸€ä¸ªæ•´æ•°èƒ½è¢«2å’Œ3æ•´é™¤ï¼Œåˆ™è¿™ä¸ªæ•°èƒ½è¢«6æ•´é™¤ã€‚ åŸæ–‡ç½‘å€ï¼šhttps://www.51test.net/show/9197799.html\n","date":"2020-11-24T09:14:23+08:00","permalink":"//localhost:1313/post/life/math/","section":"post","tags":["math","æ•´é™¤","å°å­¦","å¥¥æ•°"],"title":"è¾…å¯¼å°å­¦å¥¥æ•°æ—¶å¿…é¡»æŒæ¡çš„æ•´é™¤çŸ¥è¯†"},{"categories":["tech"],"contents":"pythonæœ¬èº«æ— ç–‘æ˜¯ä¸€æ¬¾éå¸¸æµè¡Œå’Œå¼ºå¤§çš„è¯­è¨€ï¼Œå¯¹äºå°ç™½æ¥è¯´æ¯”è¾ƒå®¹æ˜“ä¸Šæ‰‹å­¦ä¹ ã€‚æˆ‘ä¹Ÿåˆ©ç”¨ç½‘ç»œå­¦ä¹ äº†ä¸€äº›åŸºæœ¬çš„çŸ¥è¯†ï¼Œç‰¹åˆ«æ˜¯ç»“åˆé˜¿é‡Œäº‘ã€ç™¾åº¦ã€è…¾è®¯æˆ–è€…Azureç­‰äº‘æœåŠ¡å•†æä¾›çš„APIæ¥å£ï¼Œä¹Ÿåˆ‡å®æ„Ÿå—åˆ°äº† è¿™ä¸ªè¯­è¨€å¯¹è§£å†³å®é™…é—®é¢˜çš„å¸®åŠ©ã€‚ä¸è¿‡ï¼Œè¿™äº›projectéƒ½æ˜¯åœ¨å‘½ä»¤è¡Œç¯å¢ƒè¿è¡Œçš„å¤šï¼Œä¸ºäº†è§£å†³è½¯ä»¶çš„å‘å¸ƒé—®é¢˜ï¼Œåªå¥½åˆäº†è§£GUIæ–¹é¢çŸ¥è¯†ã€‚æ¯”è¾ƒå‡ æ¬¾ä¹‹åï¼Œå‘ç°\rpysimplegui\réå¸¸é€‚åˆä¸Šæ‰‹ã€‚\n1.ä¸»ç¨‹åºä»£ç å¦‚ä¸‹ import baiduOCR as ocr import PySimpleGUI as sg layout = [[sg.Text(\u0026#39;è¯·é€‰æ‹©è¦è¯†åˆ«çš„å›¾ç‰‡\u0026#39;), sg.Text(size=(15, 1), key=\u0026#39;-OUTPUT-\u0026#39;)], [sg.Input(size=(100, 1), key=\u0026#39;-IN-\u0026#39;, readonly=True), sg.FileBrowse(\u0026#39;é€‰æ‹©æ–‡ä»¶\u0026#39;, file_types=((\u0026#34;jpg\u0026#34;, \u0026#34;*.jpg\u0026#34;), \\ (\u0026#34;gif files\u0026#34;, \u0026#34;*.gif\u0026#34;), (\u0026#34;png\u0026#34;, \u0026#34;*.png\u0026#34;), (\u0026#34;bmp\u0026#34;, \u0026#34;*.bmp\u0026#34;)), key=\u0026#39;-FILE-\u0026#39;, size=(10, 1))], [sg.Button(\u0026#39;Ok\u0026#39;, size=(10, 1), tooltip=\u0026#39;ç‚¹å‡»å¼€å§‹å¤§æ•°æ®è¯†åˆ«å›¾ç‰‡ä¸­çš„æ–‡å­—\u0026#39;), sg.Button(\u0026#39;Exit\u0026#39;, size=(10, 1), pad=(0, 10))], [sg.Output(size=(120, 30), key=\u0026#39;-OCROUT-\u0026#39;, font=(\u0026#39;æ–°å®‹ä½“, 10\u0026#39;))], [sg.FileSaveAs(\u0026#39;å¦å­˜ä¸ºï¼š\u0026#39;, \\ size=(15, 1), pad=(0, 20),\\ file_types=((\u0026#34;Text Files\u0026#34;, \u0026#34;*.txt\u0026#34;),),\\ default_extension=\u0026#39;.txt\u0026#39;)]] window = sg.Window(\u0026#39;OCR Tool by \u0026#39;, layout) while True: event, values = window.read() filename = values[\u0026#39;-FILE-\u0026#39;] if event in (None, \u0026#39;Exit\u0026#39;): break if event == \u0026#39;Ok\u0026#39;: values[\u0026#39;-OCROUT-\u0026#39;] = ocr.ocrlocal(filename) sg.popup_ok(\u0026#34;å®Œæˆè¯†åˆ«\u0026#34;) window.close() 2.baiduOCRæ¨¡å—ä»£ç å¦‚ä¸‹ # encoding:utf-8 import requests import base64 APP_ID = \u0026#39;\u0026lt;- your APPID -\u0026gt;\u0026#39; API_KEY = \u0026#39;\u0026lt;- your API_KEY -\u0026gt;\u0026#39; SECRET_KEY = \u0026#39;\u0026lt;- your SECRET_KEY-\u0026gt;\u0026#39; # request_url = \u0026#34;https://aip.baidubce.com/rest/2.0/ocr/v1/general_basic\u0026#34; #æ–‡å­—è¯†åˆ«ï¼ˆé«˜ç²¾åº¦ç‰ˆï¼‰500æ¬¡/å¤© request_url = \u0026#34;https://aip.baidubce.com/rest/2.0/ocr/v1/accurate_basic\u0026#34; #æ–‡å­—è¯†åˆ«ï¼ˆæ ‡å‡†ç‰ˆï¼‰50000æ¬¡/å¤© host = \u0026#39;https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials\u0026amp;client_id=\u0026#39; \\ + API_KEY + \u0026#39;\u0026amp;client_secret=\u0026#39; + SECRET_KEY def ocrlocal(src): # äºŒè¿›åˆ¶æ–¹å¼æ‰“å¼€å›¾ç‰‡æ–‡ä»¶ f = open(src, \u0026#39;rb\u0026#39;) img = base64.b64encode(f.read()) global request_url, host response = requests.get(host) params = {\u0026#34;image\u0026#34;:img} access_token = response.json()[\u0026#39;access_token\u0026#39;] request_url = request_url + \u0026#34;?access_token=\u0026#34; + access_token headers = {\u0026#39;content-type\u0026#39;: \u0026#39;application/x-www-form-urlencoded\u0026#39;} response = requests.post(request_url, data=params, headers=headers) result = response.json()[\u0026#39;words_result\u0026#39;] for i in result: print(i[\u0026#34;words\u0026#34;]) 3.ç¨‹åºå®Œå·¥ç•™å¿µ é€šè¿‡pyinstallerç¼–è¯‘æ‰“åŒ…\npyinstaller -F -w sgTest.py æ¯”è¾ƒéº»çƒ¦çš„æ˜¯ï¼Œæœ€åä¿å­˜è¯†åˆ«ç»“æœçš„åŠŸèƒ½è¿˜æœªæ‘¸ç´¢å‡ºæ¥ğŸ˜Œ\n11.23æ›´æ–° å®Œå–„ä¿å­˜æ–‡ä»¶çš„æ–¹æ³•ï¼š\n# pathlibçš„æ–¹æ³•ä¿å­˜è¯†åˆ«ç»“æœä¸ºtxtæ–‡ä»¶ def save_file_as(): filename = sg.popup_get_file(\u0026#39;Save As\u0026#39;, modal=True, keep_on_top=True, save_as=True, no_window=True, file_types=((\u0026#34;Text Files\u0026#34;, \u0026#34;*.txt\u0026#34;),), default_extension=\u0026#39;.txt\u0026#39;) if filename: file = pathlib.Path(filename) file.write_text(values.get(\u0026#39;-BODY-\u0026#39;)) window[\u0026#39;_INFO_\u0026#39;].update(value=file.absolute()) sg.popup_ok(\u0026#39;Save Done\u0026#39;) return file ...... if (event == \u0026#39;Save\u0026#39;) and (values.get(\u0026#39;-BODY-\u0026#39;) != \u0026#34;\\n\u0026#34; ): save_file_as() if (event == \u0026#39;_INFO_\u0026#39;): os.system(window[\u0026#39;_INFO_\u0026#39;].get()) ","date":"2020-11-19T18:50:46+08:00","permalink":"//localhost:1313/post/tech/python/pysimpleguidemo/","section":"post","tags":["Python","OCR","Baidu","API","PySimpleGUI"],"title":"PySimpleGUIåˆ¶ä½œç™¾åº¦äº‘å›¾ç‰‡æ–‡å­—è¯†åˆ«è½¯ä»¶"},{"categories":["VPS"],"contents":"æ¬ç“¦å·¥åŒåä¸€ğŸ§§ä¼˜æƒ ç \nBWH20201111ï¼ˆä¼˜æƒ  11%ï¼‰\næœ€ä¾¿å®œçš„ä¸€æ¬¾ä¹Ÿè¦å¹´ä»˜ $49.99 USDï¼ŒåŸºæœ¬å°±æ˜¯50ç¾é‡‘ SPECIAL 20G KVM PROMO V3 - LOS ANGELES - CN2 SSD: 20 GB RAID-10 RAM: 1024 MB CPU: 1x Intel Xeon Transfer: 1000 GB/mo Link speed: 1 Gigabit Location: Los Angeles Direct route via CN2 and China Unicom Free automatic backups Free snapshots VPS technology: KVM/KiwiVM OS: 32 or 64 bit Centos, Debian, Ubuntu Instant OS reload IPv4: 1 dedicated address IPv6 support: **No** Full root access Instant RDNS update from control panel Automatic migration between datacenters No contract, anytime cancellation Strictly self-managed, no support 99.9% uptime guarantee ä¸è¿‡ç›®å‰ä¼¼ä¹æœ‰æ›´çœå¿ƒç»æµçš„æ–¹æ¡ˆï¼Œæœˆä»˜9.9å…ƒï¼Œæ™šé«˜å³°æ²¹ç®¡4Kè§†é¢‘ç¨³å®šåœ¨40000+ ğŸ¥°ï¼š æ™šé«˜å³°ç¨³å®šåœ¨40000\u0026#43;\næä¾›ä¸€ä¸ªä¸‹è½½æ ·å¼æŒ‰é’®ï¼š download\r","date":"2020-11-15T19:12:02+08:00","permalink":"//localhost:1313/post/tech/vps/2020-11/","section":"post","tags":["vps","youtube","4K","video"],"title":"æ™šé«˜å³°çš„4Kæ²¹ç®¡è§†é¢‘æ•ˆç‡"},{"categories":["tech"],"contents":"æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨Slimbox 2ã€‚ Slimbox 2æ˜¯ä¸€ä¸ªJavaScriptåº“ï¼Œå®ƒåœ¨çª—å£ä¸­è€Œä¸æ˜¯åœ¨å•ç‹¬çš„çª—å£ï¼ˆå¼¹å‡ºçª—å£ï¼‰ä¸­å°†å›¾åƒå’Œç…§ç‰‡æ˜¾ç¤ºä¸ºæ¨¡å¼çª—å£ã€‚\nå®˜æ–¹ç½‘ç«™\ræ­¤åº“éœ€è¦å•ç‹¬ä½¿ç”¨jQuery\n1.ä¸‹è½½å¹¶å®‰è£… ä»\rè¿™é‡Œ\rä¸‹è½½å¹¶è§£å‹ç¼©ã€‚ è§£å‹ç¼©åï¼Œå°†csså’Œjsç›®å½•æ”¾ç½®åœ¨ä»»ä½•ä½ç½®ã€‚\n2.åŠ è½½CSSå’ŒJS å°†ä»¥ä¸‹å†…å®¹å†™åœ¨htmlæ–‡ä»¶çš„ \u0026lt;head\u0026gt; ä¸­ï¼Œè¯·æ ¹æ®æ‚¨è‡ªå·±ç½‘ç«™çš„ç¯å¢ƒæ›´æ”¹è·¯å¾„ã€‚\n\u0026lt;link href=\u0026#34;css/slimbox2.css\u0026#34; type=\u0026#34;text/css\u0026#34; rel=\u0026#34;stylesheet\u0026#34; media=\u0026#34;screen\u0026#34; /\u0026gt; \u0026lt;script src=\u0026#34;js/jquery.js\u0026#34; type=\u0026#34;text/javascript\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;js/slimbox2.js\u0026#34; type=\u0026#34;text/javascript\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; $(document).ready(function() { $(\u0026#39;a[rel*=lightbox]\u0026#39;).slimbox(); }); \u0026lt;/script\u0026gt; 3.ä½¿ç”¨æ–¹æ³• åªéœ€å°† rel =â€œ lightboxâ€ å±æ€§æ·»åŠ åˆ°åŸå§‹å›¾ç‰‡aå…ƒç´ é“¾æ¥ä¸­ã€‚\n\u0026lt;a href=\u0026#34;images/sample1.jpg\u0026#34; rel=\u0026#34;lightbox\u0026#34;\u0026gt;ç”»åƒ1\u0026lt;/a\u0026gt; å¯¹äºè¦åˆ†ç»„å¹¶ä½¿å…¶å¯å¯¼èˆªçš„ç›¸å…³å›¾åƒé›†ï¼Œéœ€è¦å‘å±æ€§relçš„åç§°lightboxåæ·»åŠ ä¸€ä¸ªç»„åï¼Œä¾‹å¦‚ï¼š\n\u0026lt;a href=\u0026#34;images/image-1.jpg\u0026#34; rel=\u0026#34;lightbox-cats\u0026#34;\u0026gt;image #1\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026#34;images/image-2.jpg\u0026#34; rel=\u0026#34;lightbox-cats\u0026#34;\u0026gt;image #2\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026#34;images/image-3.jpg\u0026#34; rel=\u0026#34;lightbox-cats\u0026#34;\u0026gt;image #3\u0026lt;/a\u0026gt; å¦‚æœåœ¨åŒä¸€é¡µé¢ä¸Šæœ‰å¤šä¸ªå°†ç¯ç®±åº”ç”¨åˆ°çš„é“¾æ¥ï¼Œåˆ™å½“é¼ æ ‡æ‚¬åœåœ¨ä¸Šæ–¹æ—¶ï¼Œå°†å§‹ç»ˆæ˜¾ç¤ºâ€œ PREVâ€å’Œâ€œ NEXTâ€æŒ‰é’®ã€‚\n4.æ˜¾ç¤ºå›¾ç‰‡æ ‡é¢˜ å¦‚æœè¦åœ¨å·¦ä¸‹è§’æ˜¾ç¤ºå›¾åƒçš„æ ‡é¢˜ï¼Œè¯·å°†titleå±æ€§æ·»åŠ åˆ°aå…ƒç´ ã€‚\nå¦‚æœéœ€è¦ï¼Œæ‚¨ç”šè‡³å¯ä»¥åœ¨æ ‡é¢˜ä¸­ä½¿ç”¨HTMLã€‚æ‚¨å¿…é¡»ç”¨HTMLå®ä½“æ›¿æ¢ \u0026lt; å’Œ \u0026gt; å­—ç¬¦ï¼Œå¹¶ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·ã€‚\n\u0026lt;a href=\u0026#34;images/sample1.jpg\u0026#34; rel=\u0026#34;lightbox\u0026#34; title=\u0026#34;sample\u0026#34;\u0026gt;ç”»åƒ1\u0026lt;/a\u0026gt; 5.å…¶ä»–åŠŸèƒ½é€‰é¡¹ é€‰é¡¹ä»¥ä»¥ä¸‹å½¢å¼è®¾ç½®ï¼š\n$(document).ready(function() { $(\u0026#39;a[rel*=lightbox]\u0026#39;).slimbox({ resizeDurationÂ : 200, imageFadeDuration : 200 }); }); é€‰é¡¹ åˆå§‹å€¼ è¯´æ˜ loop false ç¬¬ä¸€æ¬¡æˆ–æœ€åä¸€æ¬¡åˆ°è¾¾æ—¶æ˜¯â€‹â€‹å¦å­˜åœ¨å¾ªç¯ overlayOpacity 0.8 å åŠ é€æ˜åº¦ overlayFadeDuration 400 å åŠ é€Ÿåº¦ resizeDuration 400 åŠ è½½å›¾åƒæ—¶è°ƒæ•´å¤§å°çš„é€Ÿåº¦ resizeEasing swing ç¼“å’Œ initialWidth 250 åˆå§‹ç›’å®½ initialHeight 250 åˆå§‹ç›’å­é«˜åº¦ imageFadeDuration 400 å›¾åƒæ·¡å…¥é€Ÿåº¦ captionAnimationDuration 400 å­—å¹•çš„å‡ºç°é€Ÿåº¦ counterText Image {x} sur {y} å·¦ä¸‹è§’æ˜¾ç¤ºçš„å›¾åƒçš„ç´¢å¼•æ–‡æœ¬ closeKeys [27ï¼Œ88ï¼Œ67] â€œ CLOSEâ€é”®ç›˜æŒ‰é”®ä»£ç åˆ†é… previousKeys [37ï¼Œ80] â€œ PREVâ€é”®ç›˜çš„é”®ä»£ç åˆ†é… nextKeys [39ï¼Œ78] â€œ NEXTâ€é”®ç›˜çš„é”®ä»£ç åˆ†é… ","date":"2020-11-13T09:03:21+08:00","permalink":"//localhost:1313/post/tech/slim2/","section":"post","tags":["slimbox2","lightbox","image"],"title":"å¦‚ä½•ä½¿ç”¨Slimbox2æ˜¾ç¤ºå›¾ç‰‡ç¯ç®±"},{"categories":["game"],"contents":"ç›®å‰æš—é»‘3çš„2.6.10æ›´æ–°æª”å·²ç¶“ä¸Šç¶«ï¼æš´é›ªå°ç£ç¶²æ”¾å‡ºæ¶ˆæ¯ï¼ŒğŸ“£ 22è³½å­£é è¨ˆæœƒåœ¨ 11æœˆ10æ—¥æ¨å‡ºã€‚å¯å¯¦éš›ä¸Šä»Šå¤©é‚„å¹¶æœªå‡ºç¾ ğŸ˜‚ åªèƒ½é †æ‰‹åˆ·äº†å…©éå®å‰ç§˜å¢ƒã€‚ æˆ°å¤§ä½¬\nä¸éå€¼å¾—ä¸€æçš„æ˜¯é€šé1Mçš„é¦™æ¸¯VPSï¼ˆé˜¿é‡Œé›²åœ‹éš›å…è²»è©¦ç”¨ä¸€å¹´ï¼‰æ­å»ºåŠ é€Ÿæœå‹™å™¨ä¼¼ä¹æ•ˆæœä¸éŒ¯ï¼Œæ™šé«˜å³°çš„ç¶²çµ¡å»¶æ™‚ä¹Ÿä¸æœƒå¤ªé«˜ï¼Œå…å»äº†å®˜æ–¹åŠ é€Ÿå™¨çš„é«˜æ˜‚æˆæœ¬ã€‚\nåŸºæœ¬åœ¨200msä»¥å†…\n22è³½å­£\næœ¬æ¬¡å‡ç´šæ–°è®ŠåŒ– ä¸€æ˜¯åŠ å…¥æš—å½±åˆ†èº«\näºŒæ˜¯å¡å¥ˆé­”ç›’å¢åŠ ä¸€å€‹æ¬„ä½ è³½å­£æ—…ç¨‹çå‹µ å¦‚æœä½ ä»¥å‰æœ‰å‹¤å¥®åœ°æŠŠæƒ¡é­”é€šé€šæ®ºå…‰ï¼Œä¹Ÿæœ‰åœ¨æ¯æ¬¡çš„è³½å­£æ—…ç¨‹ä¸­å–å¾—å¾æœè€…ç¨±è™Ÿï¼Œä½ æ‡‰è©²å·²ç¶“æ‹¿åˆ°äº†å¹¾å€‹é¡å¤–çš„å„²ç‰©ç®±æ¬„é ã€‚åœ¨æ¯å€‹è³½å­£è£¡å®Œæˆå¾æœè€…å±¤ç´šçš„æŒ‘æˆ°ï¼Œé‚„å¯ä»¥å†ç²å¾—ä¸€å€‹é¡å¤–æ¬„é ï¼Œæœ€å¤šå¯ä»¥ç²å¾—å…±äº”å€‹ï¼š\nè–ä¼‘äºç‘å®ˆè­·è€…ï¼šåœ¨äº”åˆ†é˜å…§å®Œæˆè‹¦é›£ XIII é›£åº¦çš„ç­‰ç´š 70 æ¶…æ³•é›·å§†ç§˜å¢ƒã€‚ å—œå¯¶å¦‚å‘½ï¼šå°‡ä¸‰é¡†å‚³å¥‡å¯¶çŸ³å‡è‡³ 55 ç­‰ä»¥ä¸Šã€‚ æˆ‘å°±æ˜¯ä¾†è´çš„ï¼šåœ¨é€™å€‹è³½å­£ä¸­å®Œæˆå…©å€‹æˆ°å‹›ã€‚ æ—¥å­é‚„æ˜¯è¦éï¼šåœ¨ 15 ç§’å…§æ®ºæ­»è‹¦ç—› XIII é›£åº¦ä¸‹ç­‰ç´š 70 çš„ç‘ªæ ¼å¦²ã€‚ éŒ¢ä¸æ˜¯å•é¡Œï¼šåœ¨è‹¦ç—› XIII é›£åº¦ä¸‹æ®ºæ­»è²ªå©ªå¥³ç‹ã€‚æ¶…æ³•é›·å§†ç§˜å¢ƒä»¥å¤–çš„ç›œå¯¶å“¥å¸ƒæ—æœ‰æ™‚å€™æœƒé–‹å•Ÿé€šå¾€è—å¯¶ç§˜çªŸçš„å‚³é€é–€ï¼Œè®“ç©å®¶é€²å…¥è²ªå©ªå¥³ç‹çš„é ˜åœ°ã€‚ æ·±å…¥ç§˜å¢ƒï¼šç¨è‡ªä¸€äººé”åˆ°å®å‰ç§˜å¢ƒç­‰ç´š 60ã€‚å®å‰ç§˜å¢ƒä¹‹çŸ³å¯å¾å„ç¨®é›£åº¦çš„ç§˜å¢ƒå®ˆè­·è€…èº«ä¸Šå–å¾—ã€‚ èƒ½åŠ›å¼·åŒ–ï¼šé€éå¡å¥ˆé­”æ–¹ä½¿ç”¨ 50 ç´šä»¥ä¸Šçš„å¯¶çŸ³å¼·åŒ–é å¤å‚³å¥‡ç‰©å“ã€‚ æ–¹å¡Šé‡é‘„ï¼šä½¿ç”¨å¡å¥ˆé­”æ–¹é‡é‘„å‚³å¥‡ç‰©å“ã€‚ æµ·å¾·æ ¼çš„è´ˆç¦® æœ€å¾Œè¦èªªçš„æ˜¯ï¼Œå®Œæˆè³½å­£æ—…ç¨‹ç‰¹å®šç« ç¯€æ‰€èƒ½ç²å¾—çš„æµ·å¾·æ ¼çš„è´ˆç¦®å·²ç¶“å†æ¬¡è¼ªæ›¿ã€‚ä»¥ä¸‹ç‚ºæµ·å¾·æ ¼çš„è´ˆç¦®å¥—è£ï¼šå„ä½è³½å­£æ–°ç©å®¶ï¼Œæµ·å¾·æ ¼çš„è´ˆç¦®å–å¾—æ–¹å¼å¦‚ä¸‹ï¼š\nå®Œæˆç¬¬äºŒã€ä¸‰ã€å››ç« çš„è³½å­£æ—…ç¨‹ï¼Œä½ å°‡æœƒç²å¾—ä¸‰è¢‹æµ·å¾·æ ¼çš„è´ˆç¦®ã€‚é€™äº›è´ˆç¦®å…§æœ‰è§’è‰²è·æ¥­å¥—è£çš„å¹¾å€‹éƒ¨ä½ã€‚æ‰€æœ‰ç©å®¶æ¯å€‹è³½å­£åƒ…èƒ½ä»¥æ­¤æ–¹å¼ç²å¾—ä¸€å¥—å®Œæ•´å¥—è£ï¼Œå°ˆå®¶èˆ‡éå°ˆå®¶ç´šè§’è‰²äº¦ç„¶ï¼Œæ‰€ä»¥è«‹å‹™å¿…è¬¹æ…é¸æ“‡ï¼\nä½ æ‰€ç²å¾—çš„å¥—è£æœƒæ ¹æ“šç©å®¶é–‹å•Ÿæµ·å¾·æ ¼çš„è´ˆç¦®æ™‚æ‰€ä½¿ç”¨çš„è§’è‰²è·æ¥­è€Œå®šã€‚å¦‚æ¬²æ”¶é›†å®Œæ•´çš„è·æ¥­å¥—è£ï¼Œä½ å¿…é ˆä½¿ç”¨ç›¸åŒè§’è‰²é–‹å•Ÿæ‰€æœ‰ä¸‰è¢‹è´ˆç¦®ã€‚ç¬¬ 22 è³½å­£é¦–é–‹å…ˆä¾‹ï¼Œæµ·å¾·æ ¼çš„è´ˆç¦®å°‡æœƒæä¾›å‰ä¸‰å€‹è³½å­£çš„å…¨æ–°è·æ¥­å¥—è£ï¼š\nç¬¬22è³½å­£æµ·å¾·æ ¼çš„è´ˆç¦®å¥—è£å¦‚ä¸‹ï¼š\né‡è »äºº - ä¹åè »å¤· è–æ•™è» - è‹±å‹‡è–ç¦¦ æƒ¡é­”çµäºº - ææ‡¼ä¹‹åœ°æ©Ÿé§ æ­¦åƒ§ - æ­£ç¾©æ¥·æ¨¡ å·«é†« - è’™æœå¥´å¤æˆ°è£ ç§˜è¡“å¸« - å ¤è±ç½©è¡£ æ­»éˆæ³•å¸« - ç‡ƒç‡’ç‹‚æ­¡ç¯€èˆæœƒè£æŸ ","date":"2020-11-12T22:08:44+08:00","permalink":"//localhost:1313/post/game/2020-11/","section":"post","tags":["Diablo"],"title":"DiabloIII 2.6.10ä¸Šçº¿è¯•ç©"},{"categories":["tech"],"contents":" pvere.net\rè¯·å…ˆå‡†å¤‡åŸŸåå¹¶è§£æIP\nå®‰è£…æœåŠ¡å™¨å’Œè®¾ç½®é˜²ç«å¢™ $ sudo apt install nginx ufw $ sudo ufw allow 22 $ sudo ufw reload $ sudo ufw allow \u0026#39;Nginx Full\u0026#39; $ sudo ufw reload æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€\n$ sudo ufw status é…ç½® Nginx server $ sudo systemctl start nginx é»˜è®¤ç½‘é¡µæ ¹ç›®å½•åœ¨ /var/www/. åˆ›å»ºæ–°ç«™ç‚¹æ–‡ä»¶ /etc/nginx/sites-available ä½¿ç”¨ example.com:\n$ sudo emacs /etc/nginx/sites-available/example.com ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼š\nserver { listen 80; # Configure the server for HTTP on port 80 server_name example.com; # Your domain name root /var/www; # The files for your server index index.html; # You will create this file shortly } ä¿®æ”¹æ–‡ä»¶å¤¹æƒé™\n$ sudo chmod 0755 /your/path/to/www æ–°å»º index.html æµ‹è¯•Nginxæ˜¯å¦æ­£å¸¸è¿è¡Œ:\n$ sudo emacs /var/www/index.html $ sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/ $ sudo systemctl restart nginx è®¾ç½® SSL (HTTPS) $ sudo apt install python-certbot-nginx $ sudo certbot --nginx $ sudo systemctl restart nginx è®¾ç½®è‡ªåŠ¨æ›´æ–°è¯ä¹¦ $ sudo crontab -e è®¾ç½®ä¸ºæ¯å¤© 09:00 è¿è¡Œï¼Œåœ¨æœ€åä¸€è¡Œæ·»åŠ å¦‚ä¸‹ï¼š\n0 9 * * * certbot renew --post-hook \u0026#34;systemctl reload nginx\u0026#34; æ›´æ–°çš„æ—¶é—´å¯ä»¥çµæ´»è®¾ç½®ã€‚First column specifies the minutes and the second specifies the hour (24h clock).\nNote: ç”±äºä½¿ç”¨SSL, å¼€å¯ gzip å¯èƒ½ä¼šå½±å“å®‰å…¨. æ­¤å¤„è·³è¿‡ã€‚\nå…¶ä»–åŠŸèƒ½é…ç½® å¯ç”¨ HTTPS/2 $ sudo emacs /etc/nginx/sites-available/example.com å°†\nlisten 443 ssl; # managed by Certbot æ›¿æ¢æˆ\nlisten 443 ssl http2; # managed by Certbot é‡å¯Nginx serverã€‚\nå¯ç”¨å®¢æˆ·ç«¯ç¼“å­˜ $ sudo emacs /etc/nginx/sites-available/example.com å°†ä¸‹æ–¹ä»£ç æ’å…¥ç¬¬ä¸€ä¸ªåŸŸåè§£æå—æœ«å°¾ï¼š\nserver{\r# ...\r# Stuff\r# ...\r# Media\rlocation ~* \\.(?:jpg|jpeg|gif|png|ico|cur|gz|svg|mp4|ogg|ogv|webm|htc)$ {\rexpires 30d;\r}\r# CSS and Js\rlocation ~* \\.(css|js)$ {\rexpires 7d;\r} è®¾ç½® Hugo ç«™ç‚¹ å®‰è£…Hugoè½¯ä»¶\n$ sudo apt install hugo åˆ›å»ºæ–°ç«™ç‚¹\n$ hugo newsite sitename\nä¸‹è½½ä¸»é¢˜åŒ…\n$ git clone https://github.com/Track3/hermit.git themes/hermit\nä¿®æ”¹ç«™ç‚¹æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶config.tomlï¼Œä»¥å¯ç”¨æ–°ä¸»é¢˜\ntheme = 'hermit'\nå»ºç«‹æ–°æ–‡ç« \n$ hugo new posts/some-post.md\næµ‹è¯•ç«™ç‚¹è¿è¡Œï¼Œåœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹è¿è¡Œå¦‚ä¸‹\n$ hugo server -D\nä½¿ç”¨ -D é€‰é¡¹ä»¥æ˜¾ç¤ºè‰ç¨¿æ–‡ç« ã€‚\nç¼–è¯‘ç”Ÿæˆç«™ç‚¹æ–‡ä»¶ $ hugo å°†ä¼šåœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªpublicæ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…æ‹¬ç½‘ç«™çš„å‘å¸ƒåˆ°å¤–éƒ¨æœåŠ¡å™¨çš„æ‰€æœ‰å†…å®¹ã€‚\nå¦‚æœwebæœåŠ¡å™¨æ˜¯è¿œç¨‹æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨rsyncè½¯ä»¶å°†ç½‘é¡µå†…å®¹åŒæ­¥è¿‡å»ï¼š\n$ rsync -aAXv /path/to/sitename/public/ user@example.com:/var/www/ --delete ä¸Šé¢çš„å‘½ä»¤éœ€è¦ç¡®ä¿userç”¨æˆ·å¯¹è¿œç¨‹æœåŠ¡å™¨çš„wwwæ–‡ä»¶å¤¹æœ‰å†™å…¥æƒé™ï¼Œå¹¶ä¸”SSHç«¯å£å¤„äºå¼€å¯çŠ¶æ€ã€‚\nä½¿ç”¨è‡ªå®šä¹‰çš„404é¡µé¢éœ€è¦åœ¨Nginxä¸­è®¾ç½® /etc/nginx/sites-available/yoursite.com:\nerror_page 404 /404.html; ","date":"2020-11-11T15:28:15+08:00","permalink":"//localhost:1313/post/tech/delplyhugowithnginx/","section":"post","tags":["Hugo","Nginx"],"title":"ä½¿ç”¨Nginxå’ŒHugoå»ºç«‹é™æ€ç½‘ç«™"},{"categories":["tech"],"contents":"\ræ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ video æ ‡ç­¾ã€‚\rå¤©ç¿¼äº‘å¯¹è±¡å­˜å‚¨ æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ video æ ‡ç­¾ã€‚\r{{\\\u0026lt; param date \u0026gt;}}\n","date":"2020-11-10T17:07:10+08:00","permalink":"//localhost:1313/post/tech/videojs/","section":"post","tags":["video","4K","video"],"title":"Magical Europe - 4K Timelapse æ­æ´²30åœ‹ç¸®æ™‚æ”å½±"},{"categories":["tech"],"contents":"SSHèƒŒæ™¯ ç¬”è€…ä¹‹å‰å¯¹äºSSH(Secure Shell, å®‰å…¨å¤–å£³åè®®)çš„äº†è§£ä»…ä»…çŸ¥é“ä¸€èˆ¬ç”¨æ¥è¿›è¡Œè®¿é—®è¿œç¨‹ä¸»æœºã€æ˜¯ç”¨æ¥æ›¿ä»£telnetçš„ä¸å®‰å…¨é“¾æ¥è€Œå‘å±•çš„ã€‚å¸¸ç”¨çš„ä¹Ÿåªæœ‰sshå’Œscpï¼Œåæ¥å‘ç°è¿˜æœ‰sftpï¼Œç»è¿‡äº†è§£çŸ¥é“å„ä¸ªçš„ä½œç”¨ã€‚æ¥ä¸‹æ¥è®²å™è¿°åœ¨å­¦ä¹ å’Œå¼€å‘çš„è¿‡ç¨‹ä¸­è¯¥å¦‚ä½•ä½¿ç”¨ä»–ä»¬ã€‚\nssh $ ssh # out: usage: ssh [-46AaCfGgKkMNnqsTtVvXxYy] [-B bind_interface] [-b bind_address] [-c cipher_spec] [-D [bind_address:]port] [-E log_file] [-e escape_char] [-F configfile] [-I pkcs11] [-i identity_file] [-J [user@]host[:port]] [-L address] [-l login_name] [-m mac_spec] [-O ctl_cmd] [-o option] [-p port] [-Q query_option] [-R address] [-S ctl_path] [-W host:port] [-w local_tun[:remote_tun]] destination [command] # egï¼š $ ssh -p 50000 root@192.168.10.10 # è¿™ä¸ªåº”è¯¥æ˜¯ç”¨çš„æœ€å¤šçš„å‘½ä»¤äº†ï¼Œç”±äºSSHçš„é»˜è®¤ç«¯å£ä¸º22ï¼Œ # é€šå¸¸æƒ…å†µä¸‹å¯¹äºæ²¡æœ‰ç‹¬ç«‹ipçš„æƒ…å†µä¸‹ï¼Œæœ‰æ—¶å€™ä¼šä½¿ç”¨NATæŠ€æœ¯ä¼šå°†22ç«¯å£æ˜ å°„å‡ºæ¥ï¼Œè¿™æ—¶å€™å°±éœ€è¦åŠ ä¸Š-pæŒ‡å®šç«¯å£ scp scpå’Œcpå‘½ä»¤ç›¸ä¼¼ï¼Œéƒ½æ˜¯æ–‡ä»¶æ‹·è´çš„å‘½ä»¤ï¼Œå¯ä»¥å°†æœ¬åœ°æ–‡ä»¶æ‹·è´åˆ°è¿œç¨‹ä¸»æœºçš„ç›®å½•ä¸‹ï¼Œä¹Ÿå¯ä»¥å°†è¿œç¨‹ä¸»æœºæ–‡ä»¶æ‹·è´åˆ°æœ¬åœ°ç›®å½•æ¥ã€‚ä½†æ˜¯scpæ˜¯å®‰å…¨çš„æ–‡ä»¶æ‹·è´\n$ scp # out: usage: scp [-346BCpqrv] [-c cipher] [-F ssh_config] [-i identity_file] [-l limit] [-o ssh_option] [-P port] [-S program] source ... target # eg: $ scp -P 50000 /tmp/test.txt root@192.168.10.10:/tmp # å°†æœ¬åœ°/tmp/test.txtä¸Šä¼ åˆ°192.168.10.10è¿™ä¸ªipåœ°å€å¯¹åº”çš„ä¸»æœºçš„/tmpç›®å½•ä¸‹ sftp è¿™ä¸ªå‘½ä»¤æˆ‘ç”¨çš„æå°‘ï¼Œç»äº†è§£å…¶å®sftpå’Œftpç›¸ä¼¼ï¼Œç”±äºftpæ˜¯ä¸å®‰å…¨çš„çš„åè®®ï¼Œåœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ftpçš„å®ç°è½¯ä»¶å«åšvsftpï¼Œè€Œsftpæ˜¯åŸºäºSSHåè®®åŸºç¡€ä¸Šï¼Œå¸¦æœ‰å®‰å…¨çš„æ–‡ä»¶ä¼ è¾“ã€‚ä»–çš„ç”¨æ³•ä¹Ÿæä¸ºç®€å•\n$ sftp # out: usage: sftp [-46aCfpqrv] [-B buffer_size] [-b batchfile] [-c cipher] [-D sftp_server_path] [-F ssh_config] [-i identity_file] [-l limit] [-o ssh_option] [-P port] [-R num_requests] [-S program] [-s subsystem | sftp_server] destination # eg: $ sftp -P 50000 root@192.168.10.10 # out: # sftp\u0026gt; ------------------------------------------------------------------------------------- sftp\u0026gt; help # out: Available commands: bye Quit sftp cd path Change remote directory to \u0026#39;path\u0026#39; chgrp grp path Change group of file \u0026#39;path\u0026#39; to \u0026#39;grp\u0026#39; chmod mode path Change permissions of file \u0026#39;path\u0026#39; to \u0026#39;mode\u0026#39; chown own path Change owner of file \u0026#39;path\u0026#39; to \u0026#39;own\u0026#39; df [-hi] [path] Display statistics for current directory or filesystem containing \u0026#39;path\u0026#39; exit Quit sftp get [-afPpRr] remote [local] Download file reget [-fPpRr] remote [local] Resume download file reput [-fPpRr] [local] remote Resume upload file help Display this help text lcd path Change local directory to \u0026#39;path\u0026#39; lls [ls-options [path]] Display local directory listing lmkdir path Create local directory ln [-s] oldpath newpath Link remote file (-s for symlink) lpwd Print local working directory ls [-1afhlnrSt] [path] Display remote directory listing lumask umask Set local umask to \u0026#39;umask\u0026#39; mkdir path Create remote directory progress Toggle display of progress meter put [-afPpRr] local [remote] Upload file pwd Display remote working directory quit Quit sftp rename oldpath newpath Rename remote file rm path Delete remote file rmdir path Remove remote directory symlink oldpath newpath Symlink remote file version Show SFTP version !command Execute \u0026#39;command\u0026#39; in local shell ! Escape to local shell ? Synonym for help æ³¨æ„ï¼š sshä¸­çš„-pä¸ scpå’Œsftpä¸­çš„-Pä¸ä¸€æ ·ï¼Œåœ¨å®é™…æ“ä½œçš„è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°é”™è¯¯ã€‚è¦å¤šåŠ æ³¨æ„ã€‚\nQ\u0026amp;A å…¶å®å…³äºSSHçš„åªæ˜¯è¿˜æœ‰å¾ˆå¤šæ¯”å¦‚å…å¯†è¿æ¥ï¼Œä½¿ç”¨ssh-keygenç”Ÿæˆå…¬é’¥å’Œç§é’¥ï¼Œåœ¨ä»¥åè¿æ¥ä¹‹åå°±ä¸éœ€è¦åœ¨è¾“å…¥å¯†ç ç­‰ã€‚\næ–‡ç« è½¬è‡ª å…‰æ˜æºå¸¦è€…çš„åšå®¢\r","date":"2020-11-10T10:32:02+08:00","permalink":"//localhost:1313/post/tech/scpssh/","section":"post","tags":["SSH","SCP","FTP"],"title":"SSHã€SCPã€SFTPä½¿ç”¨"},{"categories":["tech"],"contents":"ä¸ºäº†æœ€å¤§èŠ‚çº¦å¸¦å®½å’ŒæœåŠ¡å™¨èµ„æºï¼Œé™¤äº†å°è¯•åœ¨CDNä¸­ç¼“å­˜CSSã€jsæ–‡ä»¶ä¹‹å¤–ï¼Œæˆ‘æƒ³åˆ°å°½é‡è®¾ç½®ç½‘é¡µä¸ä¸»åŠ¨åŠ è½½ä¸€äº›ä¸å¿…è¦çš„å¤–éƒ¨åº“ã€‚ ä¾‹å¦‚ï¼Œä¸€äº›çº¯æ–‡å­—çš„é¡µé¢å°±ä¸éœ€è¦jqueryåº“çš„æ”¯æŒï¼Œè€Œä½¿ç”¨å›¾ç‰‡ç¯ç®±çš„é¡µé¢åˆ™è‡ªåŠ¨åŠ è½½fancyboxçš„èµ„æºåº“ã€‚ å› æ­¤ï¼Œå¯¹äºä¸€äº›éœ€è¦å±•ç¤ºå›¾ç‰‡çš„ç½‘é¡µï¼Œæˆ‘å°±åŠ¨æ€å¯ç”¨å¤–éƒ¨è„šæœ¬é“¾æ¥ã€‚\nå®ç°çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œç›®å‰æ¥çœ‹å·²ç»èƒ½æ»¡è¶³æˆ‘çš„è¦æ±‚ï¼Œè‡³äºæ•ˆæœå¾…ä»¥åå†è¯„ä¼°ï¼š\nä¿®æ”¹single.html å…·ä½“å°±æ˜¯ä¿®æ”¹themeæ–‡ä»¶ä¸­çš„themes\\hello-friend\\layouts_default\\single.htmlï¼Œ\nåœ¨å€’æ•°ç¬¬äºŒè¡Œæ’å…¥å¦‚ä¸‹ä»£ç ï¼š\n{{ if (findRE \u0026#34;div class=.?fancybox.?\u0026#34; .Content 1) }} \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;link href=\u0026#34;https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; {{ end }} div class=.?fancybox.? ä¸ºæˆ‘çš„shortcodesä¸­çš„ä»£ç ï¼š\n\u0026lt;div class=\u0026#34;fancybox\u0026#34; align=\u0026#34;center\u0026#34;\u0026gt; \u0026lt;a data-fancybox=\u0026#34;{{ $gallery }}\u0026#34; href=\u0026#34;{{ $path }}/{{ $file }}\u0026#34; data-caption=\u0026#34;{{ $caption }}\u0026#34;\u0026gt;\u0026lt;img src=\u0026#34;{{ $path }}/{{ $file }}\u0026#34;\u0026gt;\u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; ","date":"2020-11-09T20:08:25+08:00","permalink":"//localhost:1313/post/tech/dynamicusejs/","section":"post","tags":["Hugo","JS","CSS"],"title":"åœ¨Hugoç½‘é¡µä¸­åŠ¨æ€å¼•ç”¨JSä¸CSSæ–‡ä»¶"},{"categories":["other"],"contents":"1.ä»¥ä¸‹å†…ç½®å•å¼ å›¾ç‰‡æ˜¾ç¤º 2.HTML5æ–¹å¼æ’­æ”¾4Kè§†é¢‘ å¦‚æœä¸å¯ç”¨confing.tomlåˆ™æ— æ³•ä½¿ç”¨\n3.å†…ç½®æ’­æ”¾youtubeè§†é¢‘åŠŸèƒ½ ä½¿ç”¨æ–¹æ³•ï¼š{{\u0026lt; youtube IdejM6wCkxA \u0026gt;}}\næ³¨æ„ï¼šéœ€è¦å¤–ç½‘è¿æ¥æ‰èƒ½æ­£å¸¸æ’­æ”¾\n4..fancyboxæ’­æ”¾è§†é¢‘ æµ‹è¯•çŸ­ç‰‡ Asteroid City - Official Trailer ï¼š æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ video æ ‡ç­¾ã€‚\rä½¿ç”¨æ–¹æ³•ï¼š{{\u0026lt; fancyvideo src=\u0026ldquo;path\u0026rdquo; \u0026gt;}}\n5.ä»¥ä¸‹é€šè¿‡fancyboxå®ç°å›¾ç‰‡ç¯ç®±å¹¶æ»šåŠ¨æ˜¾ç¤º esmeralda\ncolorful lights\nPope Edouard de Beaumont-1844\nVictor Hugo Hunchback\n","date":"2020-10-31T23:06:48+08:00","permalink":"//localhost:1313/post/tech/videotest/","section":"post","tags":["video","4K","lightbox"],"title":"LightBox and HTML5 Video"},{"categories":["tech"],"contents":"ä½¿ç”¨å†…åµŒHTMLè¯­è¨€ï¼Œéœ€è¦åœ¨config.tomlä¸­åŠ å…¥å¦‚ä¸‹ï¼š\n[markup.goldmark.renderer]\runsafe=true å‚è€ƒå¼ å‚è€ƒå¼è¶…é“¾æ¥ä¸€èˆ¬ç”¨åœ¨å­¦æœ¯è®ºæ–‡ä¸Šé¢ï¼Œæˆ–è€…å¦ä¸€ç§æƒ…å†µï¼Œå¦‚æœæŸä¸€ä¸ªé“¾æ¥åœ¨æ–‡ç« ä¸­å¤šå¤„ä½¿ç”¨ï¼Œé‚£ä¹ˆä½¿ç”¨å¼•ç”¨ çš„æ–¹å¼åˆ›å»ºé“¾æ¥å°†éå¸¸å¥½ï¼Œå®ƒå¯ä»¥è®©ä½ å¯¹é“¾æ¥è¿›è¡Œç»Ÿä¸€çš„ç®¡ç†ã€‚ è¯­æ³•è¯´æ˜ï¼š å‚è€ƒå¼é“¾æ¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œæ–‡ä¸­çš„å†™æ³• [é“¾æ¥æ–‡å­—][é“¾æ¥æ ‡è®°]ï¼Œåœ¨æ–‡æœ¬çš„ä»»æ„ä½ç½®æ·»åŠ [é“¾æ¥æ ‡è®°]:é“¾æ¥åœ°å€ â€œé“¾æ¥æ ‡é¢˜â€ï¼Œé“¾æ¥åœ°å€ä¸é“¾æ¥æ ‡é¢˜å‰æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚ å¦‚æœé“¾æ¥æ–‡å­—æœ¬èº«å¯ä»¥åšä¸ºé“¾æ¥æ ‡è®°ï¼Œä½ ä¹Ÿå¯ä»¥å†™æˆ[é“¾æ¥æ–‡å­—][] [é“¾æ¥æ–‡å­—]ï¼šé“¾æ¥åœ°å€çš„å½¢å¼ï¼Œè§ä»£ç çš„æœ€åä¸€è¡Œã€‚\næˆ‘ç»å¸¸å»çš„å‡ ä¸ªç½‘ç«™[Google][1],[Demiçš„éšç¬”å’ŒæŠ€æœ¯ç©ºé—´][2],[Demiçš„éšç¬”å’ŒæŠ€æœ¯ç©ºé—´][]ã€‚ [1]:http://www.google.com [2]:https://yuhongjun.github.io/ \u0026#34;Demiçš„éšç¬”å’ŒæŠ€æœ¯ç©ºé—´\u0026#34; [Demiçš„éšç¬”å’ŒæŠ€æœ¯ç©ºé—´]:https://yuhongjun.github.io/ æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š æˆ‘ç»å¸¸å»çš„å‡ ä¸ªç½‘ç«™\rGoogle\r,\rDemiçš„éšç¬”å’ŒæŠ€æœ¯ç©ºé—´\r,\rDemiçš„éšç¬”å’ŒæŠ€æœ¯ç©ºé—´\rã€‚\né”šç‚¹ ç½‘é¡µä¸­ï¼Œé”šç‚¹å…¶å®å°±æ˜¯é¡µå†…è¶…é“¾æ¥ï¼Œä¹Ÿå°±æ˜¯é“¾æ¥æœ¬æ–‡æ¡£å†…éƒ¨çš„æŸäº›å…ƒç´ ï¼Œå®ç°å½“å‰é¡µé¢ä¸­çš„è·³è½¬ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œå†™ä¸‹ä¸€ä¸ªé”šç‚¹ï¼Œç‚¹å‡»å›åˆ°ç›®å½•ï¼Œå°±èƒ½è·³è½¬åˆ°ç›®å½•ã€‚ åœ¨ç›®å½•ä¸­ç‚¹å‡»è¿™ä¸€èŠ‚ï¼Œå°±èƒ½è·³è¿‡æ¥ã€‚è¿˜æœ‰ä¸‹ä¸€èŠ‚çš„æ³¨è„šã€‚è¿™äº›æ ¹æœ¬ä¸Šéƒ½æ˜¯ç”¨é”šç‚¹æ¥å®ç°çš„ã€‚\næ³¨æ„ï¼š Markdown Extra åªæ”¯æŒåœ¨æ ‡é¢˜åæ’å…¥é”šç‚¹ï¼Œå…¶å®ƒåœ°æ–¹æ— æ•ˆã€‚ Leanote ç¼–è¾‘å™¨å³ä¾§æ˜¾ç¤ºæ•ˆæœåŒºåŸŸæš‚æ—¶ä¸æ”¯æŒé”šç‚¹è·³è½¬ï¼Œæ‰€ä»¥ç‚¹æ¥ç‚¹å»å‘ç°æ²¡æœ‰è·³è½¬ä¸å¿…æƒŠæ…Œï¼Œä½†æ˜¯ä½ å‘å¸ƒæˆç¬”è®°æˆ–åšæ–‡åæ˜¯æ”¯æŒè·³è½¬çš„ã€‚\n## 0. è·³è½¬æµ‹è¯•{#index}\r....................\rã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\r...........\rè·³è½¬åˆ°[è·³è½¬æµ‹è¯•](#index) æ³¨è„š è¯­æ³•è¯´æ˜ï¼š åœ¨éœ€è¦æ·»åŠ æ³¨è„šçš„æ–‡å­—ååŠ ä¸Šè„šæ³¨åå­—[^æ³¨è„šåå­—],ç§°ä¸ºåŠ æ³¨ã€‚ ç„¶ååœ¨æ–‡æœ¬çš„ä»»æ„ä½ç½®(ä¸€èˆ¬åœ¨æœ€å)æ·»åŠ è„šæ³¨ï¼Œè„šæ³¨å‰å¿…é¡»æœ‰å¯¹åº”çš„è„šæ³¨åå­—ã€‚ æ³¨æ„ï¼šç»æµ‹è¯•æ³¨è„šä¸æ³¨è„šä¹‹é—´å¿…é¡»ç©ºä¸€è¡Œï¼Œä¸ç„¶ä¼šå¤±æ•ˆã€‚æˆåŠŸåä¼šå‘ç°ï¼Œå³ä½¿ä½ æ²¡æœ‰æŠŠæ³¨è„šå†™åœ¨æ–‡æœ«ï¼Œç»Markdownè½¬æ¢åï¼Œä¹Ÿä¼šè‡ªåŠ¨å½’ç±»åˆ°æ–‡ç« çš„æœ€åã€‚\nä½¿ç”¨ Markdown[^1]å¯ä»¥æ•ˆç‡çš„ä¹¦å†™æ–‡æ¡£, ç›´æ¥è½¬æ¢æˆ HTML[^2], ä½ å¯ä»¥ä½¿ç”¨ Leanote[^Le] ç¼–è¾‘å™¨è¿›è¡Œä¹¦å†™ã€‚\r[^1]:Markdownæ˜¯ä¸€ç§çº¯æ–‡æœ¬æ ‡è®°è¯­è¨€\r[^2]:HyperText Markup Language è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€\r[^Le]:å¼€æºç¬”è®°å¹³å°ï¼Œæ”¯æŒMarkdownå’Œç¬”è®°ç›´æ¥å‘ä¸ºåšæ–‡ æ•ˆæœå¦‚ä¸‹ï¼š ä½¿ç”¨ Markdown1å¯ä»¥æ•ˆç‡çš„ä¹¦å†™æ–‡æ¡£, ç›´æ¥è½¬æ¢æˆ HTML2, ä½ å¯ä»¥ä½¿ç”¨ Leanote3 ç¼–è¾‘å™¨è¿›è¡Œä¹¦å†™ã€‚\nç²˜è´´ HTML åŸå§‹ç  åœ¨ä»£ç åŒºå—é‡Œé¢ï¼Œ \u0026amp; ã€ \u0026lt; å’Œ \u0026gt; ä¼šè‡ªåŠ¨è½¬æˆ HTML å®ä½“ï¼Œè¿™æ ·çš„æ–¹å¼è®©ä½ éå¸¸å®¹æ˜“ä½¿ç”¨ Markdown æ’å…¥èŒƒä¾‹ç”¨çš„ HTML åŸå§‹ç ï¼Œåªéœ€è¦å¤åˆ¶è´´ä¸Šï¼Œå‰©ä¸‹çš„ Markdown éƒ½ä¼šå¸®ä½ å¤„ç†ï¼Œä¾‹å¦‚ï¼š\n\u0026lt;div class=\u0026#34;footer\u0026#34;\u0026gt; Â© 2016 *** \u0026lt;/div\u0026gt; æ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼š\n** å±…ä¸­åŠ ç²— **\n\u0026lt;center\u0026gt;å±…ä¸­\u0026lt;/center\u0026gt; **\u0026lt;center\u0026gt; å±…ä¸­åŠ ç²—\u0026lt;/center\u0026gt;** æ²¡æœ‰ç©ºæ ¼\nåŠè§’ç©ºæ ¼\nåŠè§’ç©ºæ ¼ä¸¤ä¸ª\nå…¨è§’ç©ºæ ¼\nå…¨è§’ç©ºæ ¼ä¸¤ä¸ªï¼Œä»¥åå°±æ˜¯ç”¨è¿™ä¸ªåšä¸ºç¼©è¿›\næ²¡æœ‰ç©ºæ ¼ \u0026amp;ensp;åŠè§’ç©ºæ ¼ \u0026amp;ensp;\u0026amp;ensp;åŠè§’ç©ºæ ¼ä¸¤ä¸ª \u0026amp;emsp;å…¨è§’ç©ºæ ¼ \u0026amp;emsp;\u0026amp;emsp;å…¨è§’ç©ºæ ¼ä¸¤ä¸ªï¼Œä»¥åå°±æ˜¯ç”¨è¿™ä¸ªåšä¸ºç¼©è¿› `\u0026lt;font face=\u0026#34;åæ–‡è¡Œæ¥·\u0026#34;\u0026gt;åæ–‡è¡Œæ¥·\u0026lt;/font\u0026gt; ` \u0026lt;font face=\u0026#34;åæ–‡è¡Œæ¥·\u0026#34;\u0026gt;åæ–‡è¡Œæ¥·\u0026lt;/font\u0026gt;\r`\u0026lt;center\u0026gt;\u0026lt;font face=\u0026#34;åæ–‡è¡Œæ¥·\u0026#34; size=100px color=\u0026#34;red\u0026#34;\u0026gt;åæ–‡è¡Œæ¥·å±…ä¸­\u0026lt;/font\u0026gt;\u0026lt;/center\u0026gt; `\r\u0026lt;center\u0026gt;\u0026lt;font face=\u0026#34;åæ–‡è¡Œæ¥·\u0026#34; size=100px color=\u0026#34;red\u0026#34;\u0026gt;åæ–‡è¡Œæ¥·å±…ä¸­\u0026lt;/font\u0026gt;\u0026lt;/center\u0026gt; ```html\r\u0026lt;font Size=1\u0026gt;æˆ‘æ˜¯å‡ å·å­—æ¥ç€1\u0026lt;/font\u0026gt; \u0026lt;font Size=2\u0026gt;æˆ‘æ˜¯å‡ å·å­—æ¥ç€ --\u0026gt; 2å·\u0026lt;/font\u0026gt; \u0026lt;font Size=3\u0026gt;æˆ‘æ˜¯å‡ å·å­—æ¥ç€ --\u0026gt; 3å·\u0026lt;/font\u0026gt; \u0026lt;font Size=4\u0026gt;æˆ‘æ˜¯å‡ å·å­—æ¥ç€ --\u0026gt; 4å·\u0026lt;/font\u0026gt; \u0026lt;font Size=5\u0026gt;æˆ‘æ˜¯å‡ å·å­—æ¥ç€ --\u0026gt; 5å·\u0026lt;/font\u0026gt; \u0026lt;font Size=6\u0026gt;æˆ‘æ˜¯å‡ å·å­—æ¥ç€ --\u0026gt; 6å·\u0026lt;/font\u0026gt; \u0026lt;font Size=7\u0026gt;æˆ‘æ˜¯å‡ å·å­—æ¥ç€ --\u0026gt; 7å·\u0026lt;/font\u0026gt; \u0026lt;center\u0026gt;\u0026lt;font Size=5\u0026gt;å±…ä¸­åŠ å…¥5å·å­—\u0026lt;/font\u0026gt;\u0026lt;/center\u0026gt; \u0026lt;center\u0026gt;\u0026lt;font size=5 face=\u0026#34;åæ–‡è¡Œæ¥·\u0026#34;\u0026gt;åæ–‡è¡Œæ¥·å±…ä¸­5å·å­—\u0026lt;/font\u0026gt;\u0026lt;/center\u0026gt; æˆ‘æ˜¯å‡ å·å­—æ¥ç€1\næˆ‘æ˜¯å‡ å·å­—æ¥ç€ \u0026ndash;\u0026gt; 2å·\næˆ‘æ˜¯å‡ å·å­—æ¥ç€ \u0026ndash;\u0026gt; 3å·\næˆ‘æ˜¯å‡ å·å­—æ¥ç€ \u0026ndash;\u0026gt; 4å·\næˆ‘æ˜¯å‡ å·å­—æ¥ç€ \u0026ndash;\u0026gt; 5å·\næˆ‘æ˜¯å‡ å·å­—æ¥ç€ \u0026ndash;\u0026gt; 6å·\næˆ‘æ˜¯å‡ å·å­—æ¥ç€ \u0026ndash;\u0026gt; 7å·\nMarkdownæ˜¯ä¸€ç§çº¯æ–‡æœ¬æ ‡è®°è¯­è¨€\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nHyperText Markup Language è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå¼€æºç¬”è®°å¹³å°ï¼Œæ”¯æŒMarkdownå’Œç¬”è®°ç›´æ¥å‘ä¸ºåšæ–‡\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2020-10-31T16:20:56+08:00","permalink":"//localhost:1313/post/tech/markdownextend/","section":"post","tags":["markdown"],"title":"MarkDownTips"},{"categories":["tech"],"contents":"è®°å½•ä¸€ä¸‹MDæ–‡æ¡£çš„å¸¸ç”¨æ–¹æ³•\n# Markdown Cheat Sheet Thanks for visiting [The Markdown Guide](https://www.markdownguide.org)! This Markdown cheat sheet provides a quick overview of all the Markdown syntax elements. It canâ€™t cover every edge case, so if you need more information about any of these elements, refer to the reference guides for [basic syntax](https://www.markdownguide.org/basic-syntax) and [extended syntax](https://www.markdownguide.org/extended-syntax). ## Basic Syntax These are the elements outlined in John Gruberâ€™s original design document. All Markdown applications support these elements. ### Heading # H1 ## H2 ### H3 ### Bold **bold text** ### Italic *italicized text* ### Blockquote \u0026gt; blockquote ### Ordered List 1. First item 2. Second item 3. Third item ### Unordered List - First item - Second item - Third item ### Code `code` ### Horizontal Rule --- ### Link [title](https://www.example.com) ### Image ![alt text](image.jpg) ## Extended Syntax These elements extend the basic syntax by adding additional features. Not all Markdown applications support these elements. ### Table | Syntax | Description | | ----------- | ----------- | | Header | Title | | Paragraph | Text | ### Fenced Code Block \\``` { \u0026#34;firstName\u0026#34;: \u0026#34;John\u0026#34;, \u0026#34;lastName\u0026#34;: \u0026#34;Smith\u0026#34;, \u0026#34;age\u0026#34;: 25 } \\``` ### Footnote Here\u0026#39;s a sentence with a footnote. [^1] [^1]: This is the footnote. ### Heading ID ### My Great Heading {#custom-id} ### Definition List term : definition ### Strikethrough ~~The world is flat.~~ ### Task List - [x] Write the press release - [ ] Update the website - [ ] Contact the media ","date":"2020-10-30T16:20:56+08:00","permalink":"//localhost:1313/post/tech/markdown-cheat-sheet/","section":"post","tags":["markdown"],"title":"Markdown Cheat Sheet"},{"categories":["tech"],"contents":" å…¨ä¸–ç•Œæ˜¯ä¸€ä¸ªå·¨å¤§çš„èˆå°ï¼Œæ‰€æœ‰çº¢å°˜ç”·å¥³å‡åªæ˜¯æ¼”å‘˜ç½¢äº†ã€‚ä¸Šåœºä¸‹åœºå„æœ‰å…¶æ—¶ã€‚æ¯ä¸ªäººä¸€ç”Ÿéƒ½æ‰®æ¼”ç€è®¸å¤šè§’è‰²ï¼Œä»å‡ºç”Ÿåˆ°æ­»äº¡æœ‰ä¸ƒç§é˜¶æ®µã€‚\nâ€”â€”â€”èå£«æ¯”äºš\nä¸€æ¬¾ä¼˜é›…çš„å­—ä½“èƒ½ä¸ºç½‘é¡µå¢è‰²ä¸å°‘ï¼Œæ­£å¦‚çº¤çº¤ç»†æ‰‹ä¸Šçš„ä¸€æšæˆ’æŒ‡ã€‚ é€šè¿‡ç½‘é¡µå¼•ç”¨é“¾æ¥ï¼Œåœ¨cssä¸­å®šä¹‰ï¼Œæ˜¯è°ƒç”¨å­—ä½“çš„ä¾¿æ·é€”å¾„ã€‚ ä¸€èˆ¬æ˜¯è‹±æ–‡å­—ä½“ â‡¨ è‹¹æœå­—ä½“ â‡¨ ä¸­æ–‡å­—ä½“ï¼Œæœ€åå†åŠ sans-serifã€‚ å¦‚ä¸‹ï¼š\nMulish\u0026rsquo;, -apple-system, \u0026lsquo;Noto Serif SC\u0026rsquo;, \u0026ldquo;PingFang SC\u0026rdquo;, \u0026ldquo;Microsoft Yahei UI\u0026rdquo;, \u0026ldquo;Microsoft Yahei\u0026rdquo;, sans-serif;\n1.ç½‘ç»œç›´æ¥å¼•ç”¨ \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=zh-cn\u0026gt; \u0026lt;head\u0026gt; \u0026lt;link href=\u0026#34;https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300\u0026amp;display=swap\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div\u0026gt; \u0026lt;p style=\u0026#34;font-family: Inter,-apple-system,BlinkMacSystemFont,Roboto,\u0026#39;Noto Serif SC\u0026#39;,Segoe UI,Helvetica,Arial,sans-serif; font-size:1rem\u0026#34;\u0026gt; å› ä¸ºå¥½å¥‡å¿ƒï¼Œæƒ³çœ‹çœ‹é»‘æš—ä¸­æœ‰ä»€ä¹ˆã€‚ 12344567890 ABCDEFGHIJKLMNOPQ \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 2.æœ¬åœ°åŒ–å¼•ç”¨ 1.åœ¨ google-webfonts-helper(\rhttps://google-webfonts-helper.herokuapp.com/fonts\r) ä¸­é€‰æ‹©æƒ³è¦çš„å­—ä½“ search font\n2.å·¦ä¾§è¾“å…¥å¦‚Noto Serif SCï¼Œå³ä¾§å‹¾chinese-simplified latiné€‰400ã€900 select the font size\n3.è¿›è¡Œä¸‹è½½å¹¶è§£å‹åˆ°ç½‘ç«™èµ„æºç›®å½•ä¸­\ndownload the zip package\n4.æ–°å»ºä¸€ä¸ªcsså­—ä½“æ–‡ä»¶googlefonts.cssï¼Œè´´å…¥ä¸‹åˆ—å†…å®¹\npaste the css script\n/* noto-serif-sc-regular - latin_chinese-simplified */ @font-face { font-family: \u0026#39;Noto Serif SC\u0026#39;; font-style: normal; font-weight: 400; src: url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-regular.eot\u0026#39;); /* IE9 Compat Modes */ src: local(\u0026#39;Noto Serif SC\u0026#39;), local(\u0026#39;NotoSerifSC-Regular\u0026#39;), url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-regular.eot?#iefix\u0026#39;) format(\u0026#39;embedded-opentype\u0026#39;), /* IE6-IE8 */ url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-regular.woff2\u0026#39;) format(\u0026#39;woff2\u0026#39;), /* Super Modern Browsers */ url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-regular.woff\u0026#39;) format(\u0026#39;woff\u0026#39;), /* Modern Browsers */ url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-regular.ttf\u0026#39;) format(\u0026#39;truetype\u0026#39;), /* Safari, Android, iOS */ url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-regular.svg#NotoSerifSC\u0026#39;) format(\u0026#39;svg\u0026#39;); /* Legacy iOS */ } /* noto-serif-sc-900 - latin_chinese-simplified */ @font-face { font-family: \u0026#39;Noto Serif SC\u0026#39;; font-style: normal; font-weight: 900; src: url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-900.eot\u0026#39;); /* IE9 Compat Modes */ src: local(\u0026#39;Noto Serif SC Black\u0026#39;), local(\u0026#39;NotoSerifSC-Black\u0026#39;), url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-900.eot?#iefix\u0026#39;) format(\u0026#39;embedded-opentype\u0026#39;), /* IE6-IE8 */ url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-900.woff2\u0026#39;) format(\u0026#39;woff2\u0026#39;), /* Super Modern Browsers */ url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-900.woff\u0026#39;) format(\u0026#39;woff\u0026#39;), /* Modern Browsers */ url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-900.ttf\u0026#39;) format(\u0026#39;truetype\u0026#39;), /* Safari, Android, iOS */ url(\u0026#39;../fonts/noto-serif-sc-v7-latin_chinese-simplified-900.svg#NotoSerifSC\u0026#39;) format(\u0026#39;svg\u0026#39;); /* Legacy iOS */ } 5.åœ¨ç½‘é¡µhead.htmlä¸­åŠ å…¥è¿æ¥\n\u0026lt;link href=\u0026#34;/css/googlefonts.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; ğŸ˜œ","date":"2020-10-29T19:18:06+08:00","permalink":"//localhost:1313/post/tech/web-font/","section":"post","tags":["other","googlefont"],"title":"ç½‘é¡µä¸­å¼•ç”¨GoogleFontçš„æ–¹æ³•"},{"categories":["tech"],"contents":"1.æŸ¥è¯¢æœåŠ¡å™¨ç™»å½•å¤±è´¥çš„ä¿¡æ¯ sudo grep \u0026#34;Failed password for root\u0026#34; /var/log/auth.log | awk \u0026#39;{print $11}\u0026#39; | sort | uniq -c | sort -nr | more sudo grep \u0026#34;Failed password for invalid user\u0026#34; /var/log/auth.log | awk \u0026#39;{print $13}\u0026#39; | sort | uniq -c | sort -nr | more 2.åº”å¯¹ç­–ç•¥ 2.1 SSHç›¸å…³ 2.1.1 ä¸ä½¿ç”¨é»˜è®¤çš„22ç«¯å£ sshç™»é™†é»˜è®¤çš„ç«¯å£æ˜¯22ï¼Œè€Œæ¬ç“¦å·¥ä¸€èˆ¬éƒ½é»˜è®¤æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„éšæœºç«¯å£ï¼Œä¸è¦ä¸ºäº†æ–¹ä¾¿ï¼Œæ”¹å›22ã€‚ ä¿®æ”¹ /etc/ssh/sshd_configæ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„Port 22æ”¹ä¸ºéšæ„çš„ç«¯å£æ¯”å¦‚Port 47832ï¼Œportçš„å–å€¼èŒƒå›´æ˜¯ 0 â€“ 65535(å³2çš„16æ¬¡æ–¹)ï¼Œ0åˆ°1024æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ç«¯å£ï¼ˆçŸ¥åç«¯å£ï¼Œå¸¸ç”¨äºç³»ç»ŸæœåŠ¡ç­‰ï¼Œä¾‹å¦‚httpæœåŠ¡çš„ç«¯å£å·æ˜¯80)ã€‚\n2.1.2 ä¸è¦ä½¿ç”¨ç®€å•å¯†ç  é»˜è®¤ç”Ÿæˆçš„rootå¯†ç æ˜¯éšæœºçš„ï¼Œä½†æ˜¯ä¸è¦æ”¹æˆä½ è‡ªå·±çš„å¯†ç ï¼Œä½ å¯ä»¥å°†å¯†ç è®°åœ¨æ‰‹æœºä¸Šï¼Œä½†æ˜¯ä¸€å®šä¸è¦æ”¹æˆä½ è‡ªå·±çš„æœ‰è§„å¾‹çš„å¯†ç ã€‚\n2.1.3 ç¦æ­¢ä½¿ç”¨å¯†ç ç™»é™†ï¼Œä½¿ç”¨RSAç§é’¥ç™»é™† è·Ÿä¹‹å‰å†™çš„debian ssh è¿æ¥android é€šè¿‡termuxé‡Œç™»é™†éƒ¨åˆ†æ˜¯ä¸€æ ·çš„ã€‚rsaçš„åŸç†ä¹Ÿä¸å†èµ˜è¿°ï¼Œwikiä¸Šçš„æ¡ç›®æè¿°çš„å¾ˆæ¸…æ¥šã€‚ å…ˆé€šè¿‡ssh-keygen -t rsaç”Ÿæˆä½ çš„å®¢æˆ·ç«¯çš„å¯†é’¥ï¼ŒåŒ…æ‹¬ä¸€ä¸ªç§é’¥å’Œå…¬é’¥ï¼Œç”¨scp id_rsa.pub root@XX.XX.XX.XX:~/æŠŠå…¬é’¥æ‹·è´åˆ°æœåŠ¡å™¨ä¸Šï¼Œæ³¨æ„ï¼Œç”Ÿæˆç§é’¥çš„æ—¶å€™ï¼Œæ–‡ä»¶åæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œä¸”å¯ä»¥å†åŠ ä¸€å±‚å¯†ç ï¼Œæ‰€ä»¥å»ºè®®æ–‡ä»¶åå–è‡ªå·±èƒ½è¯†åˆ«å‡ºå“ªå°æœºå™¨çš„åå­—ã€‚ç„¶ååœ¨æœåŠ¡å™¨ä¸Šï¼Œä½ çš„ç”¨æˆ·ç›®å½•ä¸‹ï¼Œæ–°å»º.sshæ–‡ä»¶å¤¹ï¼Œå¹¶å°†è¯¥æ–‡ä»¶å¤¹çš„æƒé™è®¾ä¸º700ï¼Œchmod 700 .sshï¼Œå¹¶æ–°å»ºä¸€ä¸ªauthorized_keysï¼Œè¿™æ˜¯é»˜è®¤å…è®¸çš„keyå­˜å‚¨çš„æ–‡ä»¶ã€‚å¦‚æœå·²ç»å­˜åœ¨ï¼Œåˆ™åªéœ€è¦å°†ä¸Šä¼ çš„id_rsa.pubæ–‡ä»¶å†…å®¹è¿½åŠ è¿›å»å³å¯ï¼šcat id_rsa.pub \u0026gt;\u0026gt; authorized_keysï¼Œå¦‚æœä¸å­˜åœ¨åˆ™æ–°å»ºå¹¶æ”¹æƒé™ä¸º400å³å¯ã€‚ ç„¶åç¼–è¾‘sshçš„é…ç½®æ–‡ä»¶ï¼š\nvi /etc/ssh/sshd_config RSAAuthentication yes #RSAè®¤è¯ PubkeyAuthentication yes #å¼€å¯å…¬é’¥éªŒè¯ AuthorizedKeysFile .ssh/authorized_keys #éªŒè¯æ–‡ä»¶è·¯å¾„ PasswordAuthentication no #ç¦æ­¢å¯†ç è®¤è¯ PermitEmptyPasswords no #ç¦æ­¢ç©ºå¯†ç \næœ€åä¿å­˜ï¼Œé‡å¯sshdæœåŠ¡\nsudo service sshd restart 2.1.4 ç¦æ­¢rootç”¨æˆ·ç™»å½• ä½ å¯ä»¥æ–°å»ºä¸€ä¸ªç”¨æˆ·æ¥ç®¡ç†ï¼Œè€Œéç›´æ¥ä½¿ç”¨rootç”¨æˆ·ï¼Œé˜²æ­¢å¯†ç è¢«ç ´è§£ã€‚ è¿˜æ˜¯ä¿®æ”¹ /etc/ssh/sshd_config\nPermitRootLogin no\n2.2 ä½¿ç”¨Fail2ban æ­¤éƒ¨åˆ†åŸæ¥ç”¨çš„æ˜¯denyhostsï¼Œä½†æ˜¯å®ƒå‡ ä¹ä¸æ›´æ–°äº†ï¼Œç°åœ¨ç”¨\rFail2ban\rä¸€èˆ¬è½¯ä»¶æºé‡Œéƒ½å·²ç»æ”¶å½•äº†å®ƒã€‚\n2.2.1 é…ç½®æ–‡ä»¶ é»˜è®¤é…ç½®æ–‡ä»¶ä¸€èˆ¬åœ¨ /etc/fail2ban/jail.confã€‚ç°åœ¨ä½ å·²ç»å‡†å¤‡å¥½äº†é€šè¿‡é…ç½® fail2ban æ¥åŠ å¼ºä½ çš„SSHæœåŠ¡å™¨ã€‚ä½ éœ€è¦ç¼–è¾‘å…¶é…ç½®æ–‡ä»¶ /etc/fail2ban/jail.confã€‚ åœ¨é…ç½®æ–‡ä»¶çš„â€œ [DEFAULT]â€åŒºï¼Œä½ å¯ä»¥åœ¨æ­¤å®šä¹‰æ‰€æœ‰å—ç›‘æ§çš„æœåŠ¡çš„é»˜è®¤å‚æ•°ï¼Œå¦å¤–åœ¨ç‰¹å®šæœåŠ¡çš„é…ç½®éƒ¨åˆ†ï¼Œä½ å¯ä»¥ä¸ºæ¯ä¸ªæœåŠ¡ï¼ˆä¾‹å¦‚SSHï¼ŒApacheç­‰ï¼‰è®¾ç½®ç‰¹å®šçš„é…ç½®æ¥è¦†ç›–é»˜è®¤çš„å‚æ•°é…ç½®ã€‚ åœ¨é’ˆå¯¹æœåŠ¡çš„ç›‘ç‹±åŒºï¼ˆåœ¨[DEFAULT]åŒºåé¢çš„åœ°æ–¹ï¼‰ï¼Œä½ éœ€è¦å®šä¹‰ä¸€ä¸ª[ssh-iptables]åŒºï¼Œè¿™é‡Œç”¨æ¥å®šä¹‰SSHç›¸å…³çš„ç›‘ç‹±é…ç½®ã€‚çœŸæ­£çš„ç¦æ­¢IPåœ°å€çš„æ“ä½œæ˜¯é€šè¿‡iptableså®Œæˆçš„ã€‚\n[DEFAULT] # ä»¥ç©ºæ ¼åˆ†éš”çš„åˆ—è¡¨ï¼Œå¯ä»¥æ˜¯ IP åœ°å€ã€CIDR å‰ç¼€æˆ–è€… DNS ä¸»æœºå # ç”¨äºæŒ‡å®šå“ªäº›åœ°å€å¯ä»¥å¿½ç•¥ fail2ban é˜²å¾¡ ignoreip = 127.0.0.1 172.31.0.0/24 10.10.0.0/24 192.168.0.0/24 # å®¢æˆ·ç«¯ä¸»æœºè¢«ç¦æ­¢çš„æ—¶é•¿ï¼ˆç§’ï¼‰ bantime = 86400 # å®¢æˆ·ç«¯ä¸»æœºè¢«ç¦æ­¢å‰å…è®¸å¤±è´¥çš„æ¬¡æ•° maxretry = 5 # æŸ¥æ‰¾å¤±è´¥æ¬¡æ•°çš„æ—¶é•¿ï¼ˆç§’ï¼‰ findtime = 600 mta = sendmail [ssh-iptables] enabled = true filter = sshd action = iptables[name=SSH, port=ssh, protocol=tcp] sendmail-whois[name=SSH, dest=your@email.com, sender=fail2ban@email.com] # Debian ç³»çš„å‘è¡Œç‰ˆ logpath = /var/log/auth.log # Red Hat ç³»çš„å‘è¡Œç‰ˆ logpath = /var/log/secure # ssh æœåŠ¡çš„æœ€å¤§å°è¯•æ¬¡æ•° maxretry = 3 ï¼ˆå…¶å®é»˜è®¤é…ç½®å³å¯ï¼‰ æ ¹æ®ä¸Šè¿°é…ç½®ï¼Œfail2banä¼šè‡ªåŠ¨ç¦æ­¢åœ¨æœ€è¿‘10åˆ†é’Ÿå†…æœ‰è¶…è¿‡3æ¬¡è®¿é—®å°è¯•å¤±è´¥çš„ä»»æ„IPåœ°å€ã€‚ä¸€æ—¦è¢«ç¦ï¼Œè¿™ä¸ªIPåœ°å€å°†ä¼šåœ¨24å°æ—¶å†…ä¸€ç›´è¢«ç¦æ­¢è®¿é—® SSH æœåŠ¡ã€‚\n2.2.2è¿è¡Œ ä¸€æ—¦é…ç½®æ–‡ä»¶å‡†å¤‡å°±ç»ªï¼ŒæŒ‰ç…§ä»¥ä¸‹æ–¹å¼é‡å¯fail2banæœåŠ¡ã€‚\n$ sudo service fail2ban restart æˆ–è€…\n$ sudo systemctl restart fail2ban ä¸ºäº†éªŒè¯fail2banæˆåŠŸè¿è¡Œï¼Œä½¿ç”¨å‚æ•°\u0026rsquo;ping\u0026lsquo;æ¥è¿è¡Œfail2ban-client å‘½ä»¤ã€‚ å¦‚æœfail2banæœåŠ¡æ­£å¸¸è¿è¡Œï¼Œä½ å¯ä»¥çœ‹åˆ°â€œpongï¼ˆå˜­ï¼‰â€ä½œä¸ºå“åº”ã€‚ $ sudo fail2ban-client pingServer replied: pong\n2.2.3 è§£é”ç‰¹å®šip æ£€éªŒfail2bançŠ¶æ€ï¼ˆä¼šæ˜¾ç¤ºå‡ºå½“å‰æ´»åŠ¨çš„ç›‘ç‹±åˆ—è¡¨ï¼‰ï¼š $ sudo fail2ban-client status\nä¸ºäº†æ£€éªŒä¸€ä¸ªç‰¹å®šç›‘ç‹±çš„çŠ¶æ€ï¼ˆä¾‹å¦‚ssh-iptables): $ sudo fail2ban-client status ssh-iptables\nä¸Šé¢çš„å‘½ä»¤ä¼šæ˜¾ç¤ºå‡ºè¢«ç¦æ­¢IPåœ°å€åˆ—è¡¨ã€‚\nä¸ºäº†è§£é”ç‰¹å®šçš„IPåœ°å€ï¼š $ sudo fail2ban-client set ssh-iptables unbanip 192.168.1.8\næ³¨æ„ï¼Œå¦‚æœä½ åœæ­¢äº†Fail2ban æœåŠ¡ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„IPåœ°å€éƒ½ä¼šè¢«è§£é”ã€‚å½“ä½ é‡å¯ Fail2banï¼Œå®ƒä¼šä»/etc/log/secure(æˆ–/var/log/auth.log)ä¸­æ‰¾åˆ°å¼‚å¸¸çš„IPåœ°å€åˆ—è¡¨ï¼Œå¦‚æœè¿™äº›å¼‚å¸¸åœ°å€çš„å‘ç”Ÿæ—¶é—´ä»ç„¶åœ¨ç¦æ­¢æ—¶é—´å†…ï¼Œé‚£ä¹ˆFail2banä¼šé‡æ–°å°†è¿™äº›IPåœ°å€ç¦æ­¢ã€‚\n2.2.4 è®¾ç½® Fail2ban è‡ªåŠ¨å¯åŠ¨ ä¸€æ—¦ä½ æˆåŠŸåœ°æµ‹è¯•äº†fail2banä¹‹åï¼Œæœ€åä¸€ä¸ªæ­¥éª¤å°±æ˜¯åœ¨ä½ çš„æœåŠ¡å™¨ä¸Šè®©å…¶åœ¨å¼€æœºæ—¶è‡ªåŠ¨å¯åŠ¨ã€‚åœ¨åŸºäºDebiançš„å‘è¡Œç‰ˆä¸­ï¼Œfail2banå·²ç»é»˜è®¤è®©è‡ªåŠ¨å¯åŠ¨ç”Ÿæ•ˆã€‚åœ¨åŸºäºRed-Hatçš„å‘è¡Œç‰ˆä¸­ï¼ŒæŒ‰ç…§ä¸‹é¢çš„æ–¹å¼è®©è‡ªåŠ¨å¯åŠ¨ç”Ÿæ•ˆã€‚ åœ¨ CentOS/RHEL 6ä¸­: $ sudo chkconfig fail2ban on\nåœ¨ Fedora æˆ– CentOS/RHEL 7: $ sudo systemctl enable fail2ban\n2.3 ç»ˆææ€æ‰‹é” iptables iptablesï¼Œä¸€ä¸ªè¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´çš„åº”ç”¨è½¯ä»¶ï¼Œé€šè¿‡æ§åˆ¶Linuxå†…æ ¸netfilteræ¨¡å—ï¼Œæ¥ç®¡ç†ç½‘ç»œæ•°æ®åŒ…çš„æµåŠ¨ä¸è½¬é€ã€‚åœ¨å¤§éƒ¨åˆ†çš„Linuxç³»ç»Ÿä¸Šé¢ï¼Œiptablesæ˜¯ä½¿ç”¨/usr/sbin/iptablesæ¥æ“ä½œï¼Œæ–‡ä»¶åˆ™æ”¾ç½®åœ¨æ‰‹å†Œé¡µï¼ˆMan page[2]ï¼‰åº•ä¸‹ï¼Œå¯ä»¥é€šè¿‡ man iptables æŒ‡ä»¤è·å–ã€‚é€šå¸¸iptableséƒ½éœ€è¦å†…æ ¸å±‚çº§çš„æ¨¡å—æ¥é…åˆè¿ä½œï¼ŒXtablesæ˜¯ä¸»è¦åœ¨å†…æ ¸å±‚çº§é‡Œé¢iptables APIè¿ä½œåŠŸèƒ½çš„æ¨¡å—ã€‚å› ç›¸å…³åŠ¨ä½œä¸Šçš„éœ€è¦ï¼Œiptablesçš„æ“ä½œéœ€è¦ç”¨åˆ°è¶…çº§ç”¨æˆ·çš„æƒé™ã€‚\n# æ¸…é™¤å·²æœ‰iptablesè§„åˆ™ iptables -F # å…è®¸æœ¬åœ°å›ç¯æ¥å£(å³è¿è¡Œæœ¬æœºè®¿é—®æœ¬æœº) iptables -A INPUT -i lo -j ACCEPT # å…è®¸å·²å»ºç«‹çš„æˆ–ç›¸å…³è¿çš„é€šè¡Œ iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT #å…è®¸æ‰€æœ‰æœ¬æœºå‘å¤–çš„è®¿é—® iptables -A OUTPUT -j ACCEPT # å…è®¸è®¿é—®22ç«¯å£ï¼Œä»¥ä¸‹å‡ æ¡ç›¸åŒï¼Œåˆ†åˆ«æ˜¯22,80,443ç«¯å£çš„è®¿é—® iptables -A INPUT -p tcp --dport 22 -j ACCEPT iptables -A INPUT -p tcp --dport 80 -j ACCEPT iptables -A INPUT -p tcp --dport 443 -j ACCEPT #å¦‚æœæœ‰å…¶ä»–ç«¯å£çš„è¯ï¼Œè§„åˆ™ä¹Ÿç±»ä¼¼ï¼Œç¨å¾®ä¿®æ”¹ä¸Šè¿°è¯­å¥å°±è¡Œ #å…è®¸ping iptables -A INPUT -p icmp -m icmp --icmp-type 8 -j ACCEPT #ç¦æ­¢å…¶ä»–æœªå…è®¸çš„è§„åˆ™è®¿é—®ï¼ˆæ³¨æ„ï¼šå¦‚æœ22ç«¯å£æœªåŠ å…¥å…è®¸è§„åˆ™ï¼ŒSSHé“¾æ¥ä¼šç›´æ¥æ–­å¼€ã€‚ï¼‰ iptables -A INPUT -j REJECT iptables -A FORWARD -j REJECT å¼€æœºå¯åŠ¨é¡¹çš„è®¾ç½®å¯ä»¥å‚è€ƒReferenceé‡Œå…³äºiptablesçš„æ¡ç›®\n","date":"2020-10-29T14:50:51+08:00","permalink":"//localhost:1313/post/tech/vps-secur/","section":"post","tags":["vps","ssh","security"],"title":"Vps å®‰å…¨è®¾ç½®å‡ ä¸ªæ–¹æ³•"},{"categories":["tech"],"contents":" https://github.com\rå®˜ç½‘ç™»å½• ä¸‹è½½gitå®¢æˆ·ç«¯ 1.ç”Ÿæˆç§˜é’¥ğŸ“œ æ‰“å¼€gitå®¢æˆ·ç«¯ï¼Œæ‰§è¡Œå‘½ä»¤ ssh-keygen -t rsa -C \u0026#34;githubçš„é‚®ç®±è´¦å·\u0026#34; æ³¨æ„ï¼Œéœ€è¦ç»™.sshçš„7000æƒé™\nsudo chmod -R 700 ~/.ssh å»è¿™ä¸ªç›®å½•ï¼Œå¯»æ‰¾id_rsa.pubæ–‡ä»¶ï¼ŒæŠŠæ–‡ä»¶çš„å­—ç¬¦ä¸²å¤åˆ¶ã€‚ ç™»å½•å®˜ç½‘github.comå³ä¸Šè§’äººå¤´åƒğŸ¤µâœsetting a ssh and gpg keys a new ssh keyâœåˆ¶çš„å†…å®¹âœadd ssh keys\n2. éªŒè¯ç§˜é’¥ gitå®¢æˆ·ç«¯è¾“å…¥ssh -T git@github.com ,æŒ‰æç¤ºè¾“å…¥ yes æç¤ºsuccessfullyå³å¯\n3. åœ¨æœåŠ¡å™¨æ·»åŠ å®Œå…¬é’¥ä¹‹åï¼ŒsshæœåŠ¡å™¨ç„¶åæŠ¥äº†è¿™ä¸ªé”™è¯¯ sign_and_send_pubkey: signing failed: agent refused operation ç„¶åæ‰§è¡Œäº†ä»¥ä¸‹å‘½ä»¤æ‰å¥½ã€‚ã€‚\neval \u0026#34;$(ssh-agent -s)\u0026#34;\rssh-add 4.å»ºç«‹èº«ä»½æ ‡è¯† git config --global user.name \u0026#39;githubé‚®ç®±ç”¨æˆ·â€™\rgit config --global user.email githubé‚®ç®±ç”¨æˆ· æ¡ˆä¾‹1ï¼šæŠŠé¡¹ç›®æäº¤åˆ°githubä»“åº“ è¿›å…¥dç›˜ï¼Œä½ çš„é¡¹ç›®åœ°å€\næ³¨æ„ï¼Œæœ‰æ—¶å€™ä¸€äº›æ–‡ä»¶éšè—äº†.gitignore,å‡¡æ˜¯åœ¨ç›®å½•ä¸­åŒ…å«è¿™ä¸ªæ–‡ä»¶ï¼Œå°†è¢«å¿½ç•¥æäº¤åˆ°github\ncd /d mkdir www cd www åˆ›å»ºä¸€ä¸ªæ–‡ä»¶éšä¾¿è¾“å…¥å­—ç¬¦ä¿å­˜é€€å‡º.è®¾ç½®å…¨å±€ç¼–ç ï¼Œé˜²æ­¢ä»£ç ä¹±ç \ngit config --global gui.encoding utf-8 æŠŠé¡¹ç›®ç¼“å­˜æœ¬åœ°ä»“åº“\ngit add * æäº¤åˆ°æœ¬åœ°ä»“åº“å¹¶å¤‡æ³¨\ngit commit â€“m â€œä¿®æ”¹äº†æ–‡ä»¶â€ æ¨é€åˆ°githubçš„ä»“åº“\nå¦‚ä½•åˆ›å»ºgithubä»“åº“ï¼Œç™»å½•å®˜ç½‘ï¼Œäººå¤´åƒæ—æœ‰ä¸ª+å· new repository åˆ›å»ºå®Œæ¯•æœ‰æœ‰ä¸€ä¸ªé¡¹ç›®åœ°å€https://xxx.com/unrelaxs/test.git åˆ›å»ºå®Œä»“åº“åï¼Œæäº¤åˆ°githubä»“åº“\né…ç½®ä¸€ä¸‹é¡¹ç›®çš„åœ°å€ git remote add origin https://xxx.com/unrelaxs/test.git æŠŠæœ¬åœ°åˆ†æ”¯æ¨é€åˆ°æœåŠ¡å™¨åˆ†æ”¯ä¸Šâ€“uè¡¨ç¤ºå¦‚æœä»“åº“æ²¡æœ‰åˆ™æ–°å»ºä¸€ä¸ª git push â€“u origin master[é»˜è®¤æ˜¯masterï¼Œå¦‚æœæœ‰ç‰ˆæœ¬å·åˆ™å¡«å†™ç‰ˆæœ¬å·]\næ¥ç€åˆ·æ–°\rhttps://xxx.com/unrelaxs/test.git\rè¿™ä¸ªç½‘å€ï¼Œå°±èƒ½åˆ°ä½ ä¿®æ”¹çš„å†…å®¹äº†\næ¡ˆä¾‹2ï¼šä¿®æ”¹äº†æ–‡ä»¶ï¼Œå´æ²¡æœ‰ä»»ä½•çš„æ“ä½œï¼Œæƒ³æ¢å¤åˆ°ä¹‹å‰çš„ä»£ç  .ä»£è¡¨æ‰€æœ‰æ–‡ä»¶ æˆ–è€…ä¹Ÿå¯ä»¥æŒ‡å®šå…·ä½“è·¯å¾„ä¸‹çš„æ–‡ä»¶ git checkout -- .\næ¡ˆä¾‹3ï¼š ä¿®æ”¹äº†æ–‡ä»¶ï¼Œcommitåˆ°ç¼“å†²åŒºäº†ï¼ˆç»è¿‡äº†add å’Œ commitï¼‰ï¼Œä½†æ˜¯æ²¡æœ‰æäº¤åˆ°github git reset HEAD .\næ¡ˆä¾‹4ï¼šåˆ é™¤äº†æ–‡ä»¶å¦‚ä½•æ¢å¤ï¼Ÿï¼Ÿ git log ä¼šå¼¹å‡ºä¸€ä¸ªä¿®æ”¹çš„åˆ—è¡¨ï¼šå¦‚\ncommit c2d7f0dc6196c87e636d121bf7f163ad31d8915d commit åçš„å°±æ˜¯idäº† æ¢å¤54:35æ—¶é—´çš„ä¸œè¥¿\ngit checkout id . æ¡ˆä¾‹5ï¼šå¦‚ä½•æŠŠå¯¹åº”ç‰ˆæœ¬ä»£ç å…‹éš†åˆ°æœ¬åœ° git clone â€“b ç‰ˆæœ¬å· ä»£ç é“¾æ¥ æ¡ˆä¾‹6ï¼šåœ¨ä¿®æ”¹ä»£ç å‰ï¼Œå¿…é¡»è¦åšçš„äº‹ åœ¨ä¿®æ”¹å‰ï¼Œå¿…é¡»æ˜¯git pull æ›´æ–°æœ¬åœ°ä»£ç \næ¡ˆä¾‹7ï¼šä¿®æ”¹æœ¬åœ°ä»£ç å¦‚ä½•æäº¤åˆ°æœåŠ¡å™¨ï¼Ÿï¼Ÿ git pull origin 1.0(æŒ‡å®š1.0ç‰ˆæœ¬)æˆ–è€… git pull git add . git commit â€“m â€œä¿®æ”¹äº†testæ–‡ä»¶â€ ***git push åçš„origin1.0 æ˜¯æŒ‡å®šç‰ˆæœ¬ï¼Œå¯ä¸å¡«å†™*** git push origin 1.0 æ¡ˆä¾‹8ï¼šä»gitä¸Šè·å–é¡¹ç›®ï¼Ÿï¼Ÿ git init åˆå§‹åŒ–ä¸€ä¸ªä»“åº“ git remote add origin ç½‘å€ git pull origin åˆ†æ”¯ git checkout -b xxåˆ†æ”¯ #å¦‚æœæ²¡æœ‰è¯¥åˆ†æ”¯åˆ™å°è¯•ä¼šåˆ›å»ºè¿™ä¸ªåˆ†æ”¯ æ¡ˆä¾‹9ï¼šä»gitä¸Šé¢ cloneä¸‹æ¥çš„é¡¹ç›®åï¼Œå¦‚ä½•æ‹‰å–æ¬¡åˆ†æ”¯ä»¥åŠåˆå¹¶ä¸»åˆ†æ”¯çš„ä»£ç å‘¢ï¼Ÿ git init\rgit clone http://xxxx\rgit branch -r æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„åˆ†æ”¯ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¯·é‡æ–°æ“ä½œï¼Œè¿˜æ˜¯ä¸è¡Œï¼Œåªèƒ½ç™¾åº¦äº†\rgit pull origin åˆ†æ”¯å æ³¨æ„äº† originæ˜¯ä»“åº“ååï¼Œï¼Œå¦‚æœ git branch -r æŸ¥çœ‹åˆ° xx/origin/mobile åˆ™ç¬¬ä¸€ä¸ªæ–œæ åï¼Œå³originä¸ºä»“åº“åï¼Œmobileä¸ºåˆ†æ”¯å æ¡ˆä¾‹10ï¼šä»gitä¸Šé¢ cloneä¸‹æ¥åˆ«äººçš„é¡¹ç›®åï¼Œå¦‚ä½•æäº¤åˆ°è‡ªå·±é¡¹ç›®ä¸Šï¼Ÿ git init\rgit clone http://xxx\rgit remote add origin http://ä½ è‡ªå·±çš„é¡¹ç›®åœ°å€\rgit pull origin master --allow-unrelated-histories\rgit add .\rgit commit -m \u0026#34;ç‰ˆæœ¬åˆå¹¶\u0026#34;\rgit push origin master æ¡ˆä¾‹11ï¼šå±è”½æŸä¸ªç›®å½•ï¼ŒæŸä¸ªæ–‡ä»¶ä¸æäº¤åˆ°git .gitignoreæ–‡ä»¶è¯­æ³•å¦‚ä¸‹:\n# æ­¤ä¸ºæ³¨é‡Š â€“ å°†è¢« Git å¿½ç•¥ *.a # å¿½ç•¥æ‰€æœ‰ .a ç»“å°¾çš„æ–‡ä»¶ !lib.a # ä½† lib.a é™¤å¤– /TODO # ä»…ä»…å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ TODO æ–‡ä»¶ï¼Œä¸åŒ…æ‹¬ subdir/TODO build/ # å¿½ç•¥ build/ ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ doc/*.txt # ä¼šå¿½ç•¥ doc/notes.txt ä½†ä¸åŒ…æ‹¬ doc/server/arch.txt åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .gitignore\næ¡ˆä¾‹12ï¼šæ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œæ‹‰å–å¦å¤–ä¸€ä¸ªåˆ†æ”¯ä»£ç , å¹¶æŠŠæ–°çš„åˆ†æ”¯åˆå¹¶åˆ°å¦å¤–ä¸€ä¸ªåˆ†æ”¯ git checkout -b feature_line git pull origin develop //æ‹‰å–developä»£ç  git add . git commit -m \u0026#34;åˆ›å»ºäº†ä¸ªåˆ†æ”¯\u0026#34; git push origin feature_line git checkout -b develop //åˆ‡æ¢developåˆ†æ”¯ git pull origin develop git merge feature_line //åˆå¹¶åˆ†æ”¯ git push origin develop //æ¨é€åˆå¹¶åçš„ç»“æœ æ¡ˆä¾‹13ï¼šåŒä¸ªç”µè„‘ç”¨ä¸åŒçš„è´¦å·ï¼Œè´¦å·å¯¹åº”ä¸åŒçš„ githubå¹³å° ç”Ÿæˆsshkey ssh-keygen -t rsa -C \u0026ldquo;é‚®ç®±è´¦å·\u0026rdquo; æ³¨æ„ä¸è¦å…¨éƒ¨å›è½¦é”® è¿™é‡Œè¦å†™å­˜å‚¨çš„è·¯å¾„å¦‚ $ ssh-keygen -t rsa -C \u0026#34;gg\u0026#34; Generating public/private rsa key pair. Enter file in which to save the key (/c/Users/Administrator/.ssh/id_rsa): è¿™é‡Œå¡«å†™ç»å¯¹è·¯å¾„ æˆ–è€…ç›¸å¯¹è·¯å¾„ å‘½åä¸¤ä¸ªè´¦å·éƒ½ä¸åŒå¦‚ï¼š/C/Users/Administrator/.ssh/id_rsa_one\næ¥ç€å…¨éƒ¨å›è½¦é”®ï¼Œé»˜è®¤\n$ ssh-keygen -t rsa -C \u0026#34;gg\u0026#34; Generating public/private rsa key pair. Enter file in which to save the key (/c/Users/Administrator/.ssh/id_rsa): è¿™é‡Œå¡«å†™ç»å¯¹è·¯å¾„ æˆ–è€…ç›¸å¯¹è·¯å¾„ å‘½åä¸¤ä¸ªè´¦å·éƒ½ä¸åŒå¦‚ï¼š/c/Users/Administrator/.ssh/id_rsa_two\nè¿›å»/c/Users/Administrator/.ssh/ è¿™ä¸ªç›®å½• æŠŠ id_rsa_one.pub è·Ÿtwo.pub çš„ç§˜é’¥ åˆ†åˆ«ç²˜è´´åˆ°ä¸åŒçš„å¹³å°\nåœ¨è¿™ä¸ªç›®å½• /c/Users/Administrator/.ssh/ åˆ›å»ºä¸€ä¸ªconfigæ–‡ä»¶ï¼Œæ³¨æ„æ²¡æœ‰åç¼€ configæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\nHost github.com\rHostName github.com\rIdentityFile ~/.ssh/id_rsa_two\rHost github_1033\rHostName gitee.com\rIdentityFile ~/.ssh/id_rsa_one æ³¨æ„äº†ï¼Œä¸Šé¢æˆ‘åˆ†åˆ«æ˜¯ github.com åˆ†åˆ«å¯¹åº”çš„æ˜¯ github.comçš„å¹³å°ï¼Œç§˜é’¥æ˜¯id_rsa_two ï¼Œåœ¨githubåå°åˆ«ç²˜è´´é”™ç§˜é’¥ï¼ï¼\nè€Œ github_1033 å¯¹åº”æ˜¯ gitee.comçš„å¹³å°ï¼ˆç äº‘ï¼‰ï¼Œç§˜é’¥æ˜¯ id_rsa_one\nåœ¨æ·»åŠ æºçš„æ—¶å€™ git remote add origin git@github_1033:unrelaxs/object-design.git ç äº‘æ˜å¤©çš„sshé¡¹ç›®åœ°å€æ˜¯ï¼š\rgit@gitee.com\r:unrelaxs/object-design.git å› æ­¤æˆ‘æŠŠgitee.comæ”¹ä¸ºgithub_1033å°±è¡Œäº†\n4.1å¯¹æ¯”ä¸¤ä¸ªcommitï¼Œå¹¶å¯¼å‡ºæ‰€æœ‰çš„æ–‡ä»¶\ngit archive -o ./export.zip 39e4d8cc9744877999b3f0554b48afe01ae83114 $(git diff --diff-filter=ACMR --name-only 25a0a906f4eb11d1da9654048c3af95ac50a8dac 39e4d8cc9744877999b3f0554b48afe01ae83114) a0ca27310aab94205d18c3415bd40b9821de2650 å¼€å§‹ commitId 7b9cead0f411ce42637f7633cfbb7c9078d3202e ç»“æŸ commitId\nå¿½ç•¥æŸæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„å†…å®¹æäº¤ï¼Œä½†ä¿å­˜è¯¥æ–‡ä»¶å¤¹ åœ¨æ–‡ä»¶å¤¹ä¸‹ åˆ›å»ºä¸€ä¸ª.gitignoreï¼Œå†…å®¹å¦‚ä¸‹ # ignore all except .gitignore file\r*\r!.gitignore ğŸ˜œ\n","date":"2020-10-27T18:34:17+08:00","permalink":"//localhost:1313/post/tech/github-version/","section":"post","tags":["github"],"title":"Githubç‰ˆæœ¬æ§åˆ¶çš„æ–¹æ³•"},{"categories":["tech"],"contents":" from jlelse\u0026rsquo;s Blog\rHugo themes have the option to override the default rendering of Markdown images by using â€œMarkdown Render Hooksâ€ since version 0.62.0. By creating a file in layouts/_default/_markup named render-image.html it is possible to use a custom template for rendered images. This gives a lot of flexibility. I just used that flexibility to create a lightbox with pure CSS (without using JavaScript, like many lightbox implementations do). After clicking (or tapping) on an content image, you will see it filling the browser view. Another click brings you back to the content.\nI already used the render-image.html file to display the alternative text as a caption below the image, but now I added the lightbox. My current image template looks like this: html\rrender-image.html\r\u0026lt;figure\u0026gt;\r\u0026lt;a href=\u0026#34;#{{ .Destination | md5 }}-lightbox\u0026#34;\u0026gt;\u0026lt;img src=\u0026#34;{{ .Destination | safeURL }}\u0026#34; alt=\u0026#34;{{ .PlainText }}\u0026#34;\u0026gt;\u0026lt;/a\u0026gt;\r\u0026lt;figcaption\u0026gt;\r{{ if .Title }}\r\u0026lt;p\u0026gt;{{ .Title | markdownify }}\u0026lt;/p\u0026gt;\r{{ else if .Text }}\r\u0026lt;p\u0026gt;{{ .Text | markdownify }}\u0026lt;/p\u0026gt;\r{{ end }}\r\u0026lt;/figcaption\u0026gt;\r\u0026lt;/figure\u0026gt;\r\u0026lt;a href=\u0026#34;#_\u0026#34; class=\u0026#34;lightbox\u0026#34; id=\u0026#34;{{ .Destination | md5 }}-lightbox\u0026#34;\u0026gt;\r\u0026lt;img src=\u0026#34;{{ .Destination | safeURL }}\u0026#34; alt=\u0026#34;{{ .PlainText }}\u0026#34;\u0026gt;\r\u0026lt;/a\u0026gt;\rThe img element inside the figure element is wrapped by an anchor element linking to another hidden (and wrapped) img by itâ€™s id. The id is generated using the md5 hash of the image source location.\nThe stylesheet (in SCSS) for the lightbox looks like this:\n.lightbox { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 999; width: 100vw; height: 100vh; background: rgba(0,0,0,0.8); img { position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto; max-width: 100%; max-height: 100%; } \u0026amp;:target { outline: none; display: block; } } The lightbox has a fixed position and covers the whole viewport by setting width and height to 100% of the viewport (100vw and 100vh). Inside that container the image is centered by using an absolute positition, setting the top, left, right and bottom positions to zero and setting automatic margin spacing.\n","date":"2020-10-27T16:20:56+08:00","permalink":"//localhost:1313/post/tech/tech01/","section":"post","tags":["hugo","CSS","lightbox"],"title":"Pure CSS Lightbox in Hugo theme"},{"categories":null,"contents":" Whatâ€™s in a name? That which we call a rose by any other word would smell as sweet. (Romeo and Juliet 2.2)\nè®°å½•ä¸‹æˆ‘å®¹æ˜“é—å¤±çš„ï¼Œå“ªæ€•æœ‰ä¸€å¤©æˆ‘å¿˜äº†å®ƒåœ¨ä½•å¤„ã€‚\næœ¬ç«™ä½¿ç”¨ Hugo\rå¼€å‘ï¼Œç½‘ç«™ä¸»é¢˜ä½¿ç”¨äº† hello friend\rã€‚ Maybe you have a great idear, please let me know. âœ‰6666kw@gmail.com Hope you enojy it ğŸ˜œ!\n","date":"2020-10-27T00:00:00Z","permalink":"//localhost:1313/about/","section":"","tags":null,"title":"About"},{"categories":["tech"],"contents":" æœ¬æ–‡æ¥æºäº\rXEON CHOW\råšå®¢ï¼Œå¹¶è¿›è¡Œä¿®æ”¹ã€‚\nåŸºæœ¬æ€è·¯ Blog ç½‘ç«™æ•´ä¸ªçš„æ­å»ºæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š Windows æœ¬åœ°ç”¨ Hugo è¿›è¡Œç½‘ç«™çš„é…ç½®å’Œç¼–è¾‘è°ƒè¯•ï¼› ä½¿ç”¨ Git å·¥å…·å°† Windows æœ¬åœ°ç”Ÿæˆçš„ç½‘ç«™æ–‡ä»¶å¤¹è¿œç¨‹éƒ¨ç½²åˆ° VPS æœåŠ¡å™¨ä¸Šï¼› VPSä¸Šé€šè¿‡Git Hookè‡ªåŠ¨ç¼–è¯‘å‘å¸ƒç½‘é¡µæ–‡ä»¶ VPS ä¸Šä½¿ç”¨ Nginx ä½œä¸º Web ç½‘é¡µæœåŠ¡å™¨ã€‚ ç½‘é¡µç”³è¯· SSL è¯ä¹¦å¹¶å¼ºåˆ¶å¼€å¯ HTTPS\nä¸€ã€VPSç«¯é…ç½®æƒ…å†µ 1.å®‰è£…Hugoå®¢æˆ·ç«¯ä»¥åŠrsync æ–¹å¼ä¸€\nsudo apt-get install hugo hugo version æ–¹å¼äºŒ\nwget https://github.com/gohugoio/hugo/releases/download/v0.76.5/hugo_0.76.5_Linux-64bit.tar.gz tar -xzvf hugo_0.76.5_Linux-64bit.tar.gz sudo mv hugo /usr/local/bin/hugo # éšä¾¿æ‚¨æƒ³æ”¾ç½®çš„ç›®å½•å³å¯ hugo version apt install rsync 2.å®‰è£…Gitä»“åº“ï¼Œå¹¶é…ç½®æƒé™ apt-get update apt-get install git-core æ·»åŠ  git ç”¨æˆ·\nuseradd git vi /etc/sudoers 1.åœ¨ User privilege specification é…ç½®å­—æ®µä¸‹æ·»åŠ  git\tALL=(ALL:ALL) ALL ä»è€Œä½¿å¾— git ç”¨æˆ·æ‹¥æœ‰ sudo æƒé™\n2.ç»™ sudoer æ–‡ä»¶æ·»åŠ æƒé™ chmod 740 /etc/sudoers\n3.ç¼–è¾‘ /etc/passwd æ–‡ä»¶ vi /etc/passwd å°†æœ€åä¸€è¡Œ git ç”¨æˆ·çš„ /bin/sh æ”¹ä¸º /bin/bashï¼Œæ˜¯ git ç”¨æˆ·ä¹Ÿæ‹¥æœ‰ bash è„šæœ¬è§£é‡Šå™¨ã€‚\n4.åˆ›å»º git ç”¨æˆ·å¯†ç ï¼Œå¹¶å»ºç«‹ç”¨æˆ·ç›®å½•ã€é…ç½®æƒé™ passwd git mkdir /home/git chown -R git:git /home/git æ–°å»º VPS ç«¯çš„ git ä»“åº“ 1.åœ¨ VPS ä¸Šæ–°å»ºä¸€ä¸ª git ä»“åº“ä½œä¸ºè¿œç¨‹ä»“åº“ã€‚åˆ‡æ¢åˆ° git ç”¨æˆ·å¹¶è½¬åˆ° git ç”¨æˆ·æ–‡ä»¶å¤¹ su git cd /home/git mkdir blog.git cd blog.git 2.åˆå§‹åŒ–ä»“åº“ git init --bare\n3.åœ¨ /home/git è·¯å¾„ä¸‹åˆ›å»ºå­˜æ”¾ SSH å…¬é’¥çš„æ–‡ä»¶å¤¹ .ssh å¹¶è¿›å…¥ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹æ–°å»ºå…¬é’¥æ–‡ä»¶å¹¶ç¼–è¾‘ cd /home/git mkdir .ssh cd .ssh vi authorized_keys å°†å‰æ–‡ Windows æœ¬åœ° /c/Users/Xeon/.ssh/ ä½ç½®ç”Ÿæˆçš„ SSH å…¬é’¥æ–‡ä»¶ id_rsa.pub å†…å®¹å¤åˆ¶ç²˜è´´åˆ° authorized_keys æ–‡ä»¶ä¸­å¹¶ ï¼šwq ä¿å­˜ã€‚\n4.æ–°å»ºç½‘é¡µæ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œé€šè¿‡rootç”¨æˆ·æ–°å»º /var/www è·¯å¾„ï¼Œå¹¶è½¬åˆ° /var/www æ–‡ä»¶å¤¹ exit mkdir -p /var/www cd /var/www mkdir blog 5.ä¿®æ”¹ /var/www/blog æ–‡ä»¶å¤¹æƒé™ï¼Œç»™ç”¨æˆ·Gitèµ‹äºˆ/tmpçš„æ“ä½œæƒé™ï¼Œæç¤ºåè¾“å…¥rootå¯†ç ï¼š chown -R git:git /var/www/blog/ sudo chmod -R 777 /tmp è®¾ç½® git é’©å­è„šæœ¬ åˆ›å»ºä¸€ä¸ª git é’©å­è„šæœ¬ï¼Œä¸»è¦ç›®çš„æ˜¯å½“ Windows æœ¬åœ°çš„æ–‡ä»¶è¢«è¿œç¨‹æ¨é€åˆ° VPS çš„ blog.git ä»“åº“æ—¶ï¼Œè§¦å‘è„šæœ¬è‡ªåŠ¨å°† blog.git é‡Œçš„å†…å®¹ã€‚\n1.åˆ‡æ¢ä¸º git ç”¨æˆ·å’Œæ–‡ä»¶å¤¹ï¼Œæ–°å»º post-receive è„šæœ¬æ–‡ä»¶ su git cd cd blog.git/hooks/ vi post-receive post-receiveå†…å®¹å¦‚ä¸‹ï¼š\n#!/bin/bash -e # A place to clone the remote repo so Hugo can build from it WORKING_DIRECTORY=/home/git/clone # Backup folder in case something goes wrong during this script BACKUP_WWW=/home/git/backup_html # Domain name so Hugo can generate links correctly MY_DOMAIN=blog.chihuashi.xyz GIT_REPO=/home/git/blog.git #TMP_DIR_CLONE=/tmp/blog PUBLIC_WWW=/var/www/blog # If something goes wrong, put the previous version back in place function cleanup { echo \u0026#34;A problem occurred. Reverting to backup.\u0026#34; rsync -aqz --del $BACKUP_WWW/ $PUBLIC_WWW rm -rf $WORKING_DIRECTORY } trap cleanup EXIT # Clear out the working directory rm -rf $WORKING_DIRECTORY # Make a backup copy of current website version rsync -aqz $PUBLIC_WWW/ $BACKUP_WWW # Clone the new version from GitHub git clone $GIT_REPO $WORKING_DIRECTORY # Delete old version rm -rf $PUBLIC_WWW/* # Have Hugo generate the new static HTML directly into the public WWW folder /usr/bin/hugo -s $WORKING_DIRECTORY -d $PUBLIC_WWW -b \u0026#34;https://${MY_DOMAIN}\u0026#34; # Clear out working directory # cp -rf $TMP_DIR_CLONE/* $PUBLIC_WWW rm -rf $WORKING_DIRECTORY # Exit without trapping, since everything went well trap - EXIT 2.ç»™ post-receive è„šæœ¬æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæƒé™\nchmod +x post-receive äºŒã€Windows æœ¬åœ° Git è®¾ç½® åœ¨ Windows æœ¬åœ°å®‰è£… Git çš„æ–¹æ³•å‚è€ƒå…¶ä»–ã€‚\nå®‰è£…åéœ€è¦åœ¨æœ¬åœ°æ–°å»ºä¸€ä¸ª git ç”¨æˆ·ï¼Œè®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±ï¼ˆä»…ä½œç”¨æˆ·è¯†åˆ«ä½¿ç”¨ï¼Œå¯å¡«å†™ä»»æ„é‚®ç®±åœ°å€ï¼‰ã€‚åœ¨ä»»æ„è·¯å¾„ä¸‹æ‰“å¼€ Git Bash å‘½ä»¤çª—å£ï¼Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š\ngit config --global user.name \u0026#34;name\u0026#34;\rgit config --global user.email \u0026#34;emailaddress\u0026#34; å…¶ä¸­ \u0026ldquo;name\u0026rdquo; å’Œ \u0026ldquo;emailaddress\u0026rdquo; å­—æ®µå¡«å…¥è‡ªå·±çš„ç”¨æˆ·åå’Œé‚®ä»¶åœ°å€ï¼ˆå‡å¯ä»»æ„å¡«å†™ï¼‰ã€‚\nä¸ºäº†åç»­è¿œç¨‹æ¨é€æ–‡ä»¶æ–¹ä¾¿ï¼Œåœ¨æœ¬åœ°ç”Ÿæˆ ssh å¯†é’¥å¤‡ç”¨ï¼š ssh-keygen -t rsa -C \u0026quot;emailaddress\u0026quot; bash ä¼šè¦æ±‚è¾“å…¥ Windows ç”¨æˆ·çš„å¯†ç ï¼Œæ— å¯†ç ç›´æ¥ enterã€‚ä»è€Œåœ¨ c/Users/Xeon/.ssh/ è·¯å¾„ä¸‹ä¼šç”Ÿäº§ ssh å¯†é’¥ï¼Œæœ‰å…¬é’¥ id_rsa.pub å’Œå¯†é’¥ id_rsa ä¸¤ä¸ªæ–‡ä»¶ã€‚\nåœ¨ Hugo ç”Ÿæˆçš„é™æ€ç½‘é¡µæ–‡ä»¶å¤¹ï¼Œå³ D:\\Hugo\\Sites\\blog\\public æ–‡ä»¶å¤¹ä¸­æ‰“å¼€ Git Bash çª—å£ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\ngit init\rgit add --all\rgit commit -m \u0026#34;Description\u0026#34; ä¸Šé¢ä¸‰ä¸ªå‘½ä»¤çš„æ„æ€åˆ†åˆ«æ˜¯ï¼š åˆ›å»º git ä»“åº“ï¼› æ·»åŠ å…¨éƒ¨æ–‡ä»¶ï¼› æäº¤æ–‡ä»¶ï¼Œå…¶ä¸­ -m è¡¨ç¤ºæœ¬æ¬¡æ›´æ–°çš„æè¿°ï¼Œæè¿°å†…å®¹ä¸º \u0026ldquo;Description\u0026rdquo; ä¸­çš„å†…å®¹ï¼ŒæŒ‰æƒ…å†µè‡ªè¡Œå¡«å†™ã€‚ ä»è€Œæœ¬åœ°çš„ Git ä»“åº“æ­å»ºå®Œæˆï¼Œè¿œç¨‹æäº¤é™æ€ç½‘é¡µæ–‡ä»¶ä¹‹å‰éœ€è¦ç°åœ¨ VPS ä¸Šè¿›è¡Œè®¾ç½®ã€‚\nä¸‰ã€Windows æœ¬åœ°æ¨é€ é¦–å…ˆåœ¨ Windows æœ¬åœ°æµ‹è¯•ä¸€ä¸‹èƒ½å¦ä»¥ git ç”¨æˆ· ssh ç™»é™†åˆ° VPS ssh -p \u0026quot;22\u0026quot; git@VPS_ip è‹¥æç¤º WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!ï¼Œå¯å°† Windows æœ¬åœ° /c/Users/Xeon/.ssh/ ä¸‹çš„ known_hosts æ–‡ä»¶åˆ é™¤ã€‚\næœ¬åœ°æ¨é€\nå›åˆ°å·²ç»åˆ›å»ºä¸ºæœ¬åœ°ä»“åº“çš„ D:\\Hugo\\Sites\\blog\\public æ–‡ä»¶å¤¹ä¸­æ‰“å¼€ Git Bash çª—å£ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤æ·»åŠ è¿œç¨‹ä»“åº“ï¼š\ngit remote add origin git@your_VPS_IP:/home/git/blog.git\rgit remote set-url origin ssh://git@your_VPS_IP:SSH_Port/home/git/blog.git ä»¥ä¸Šå‘½ä»¤ä¸­çš„ your_VPS_IP ä¸ºä½  VPS çš„ IPï¼ŒSSH_Port ä¸ºä½ çš„ VPS SSH ç™»é™†ç«¯å£ï¼ˆä¸€èˆ¬é»˜è®¤ä¸º22ï¼‰ã€‚ ä»¥ä¸Šå‘½ä»¤ä»…åœ¨åˆæ¬¡æ¨é€å‰è®¾ç½®ï¼Œä»¥åæ— éœ€è®¾ç½®ã€‚\næ¨é€æœ¬åœ°ä»“åº“åˆ° VPSï¼š git push origin master\næ­¤æ—¶ç”¨æµè§ˆå™¨è®¿é—®åŸŸå your_domain.comï¼Œå³å¯æ‰“å¼€è‡ªå·±çš„ blog ç«™ç‚¹ï¼Œå¹¶ä¸”è‡ªåŠ¨å¼€å¯äº† HTTPS åŠ å¯†ã€‚\nä»¥å Windows æœ¬åœ°æ›´æ–°å†…å®¹åï¼Œåªéœ€åœ¨ D:\\Hugo\\Sites\\blog\\public è·¯å¾„ä¸‹æ‰“å¼€ Git Bash è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\ngit init git add --all git commit -m \u0026#34;description\u0026#34; git push origin master å³å¯å°†æ›´æ–°å†…å®¹æ¨é€åˆ° VPSã€‚\nè‡ªå®šä¹‰æ˜ å°„è¿œç¨‹æœåŠ¡å™¨IPåœ°å€çš„åŸŸå æ¯æ¬¡è¿œç¨‹ç™»å½•éƒ½è¦è¿™æ ·ssh root@114.xxx.xxx.xxx\rï¼Œå¾ˆéº»çƒ¦æœ‰æ²¡æœ‰ï¼Ÿï¼æ²¡æœ‰é…åŸŸåçš„è€Œä¸”IPåœ°å€å¤æ‚åæ›´åŠ æ¶å¿ƒæœ‰æ²¡æœ‰ï¼Ÿï¼æ¥ä¸€èµ·é…ç½®ä¸€ä¸‹å¯¹äºæœ¬åœ°çš„æœåŠ¡å™¨çš„åŸŸåï¼ç¼–è¾‘/c/windows/system32/drivers/etcç›®å½•ä¸‹çš„hostsæ–‡ä»¶ï¼Œç”¨editplusæ‰“å¼€å³å¯ï¼Œå¦‚ä¸‹æ·»åŠ ä¸€è¡Œï¼š 114.xxx.xxx.xxx (ç©ºæ ¼) ts.aliyun.com (å›è½¦æ¢è¡Œ)\nå››ã€æœ‰å…³è¯ä¹¦ç”³è¯·å’Œé…ç½® ä½¿ç”¨ acme ç”³è¯· SSL è¯ä¹¦ï¼Œåœ¨æ­¤ä¹‹å‰å…ˆè¦åšå¥½åŸŸåçš„è§£æã€‚æˆ‘ä½¿ç”¨ CloudFlare è¿›è¡ŒåŸŸåè§£æï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨ CloudFlare çš„ API è¿›è¡Œç”³è¯·ï¼Œæ¯”è¾ƒæ–¹ä¾¿ï¼Œè‹¥ä½¿ç”¨å…¶ä»–è§£ææœåŠ¡ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ä¸¤æ¡ txt è§£æï¼Œå¯è‡ªè¡Œæœç´¢æ•™ç¨‹ã€‚ä»¥ä¸‹æ­¥éª¤å‡åœ¨ root ç”¨æˆ·ä¸‹ã€‚\n1.å®‰è£… acme æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ /home/tls å­˜æ”¾è¯ä¹¦å’Œå¯†é’¥\nrm -rf /home/tls \u0026amp;\u0026amp; mkdir -p /home/tls curl https://get.acme.sh | sh source ~/.bashrc 2.å¯¼å…¥ CloudFlare çš„ API åœ¨ CloudFlare çš„ä¸ªäººè´¦æˆ·é¡µé¢ï¼Œæ‰¾åˆ° API Tokens-Global API Keyï¼Œç‚¹å‡» view æŸ¥çœ‹ï¼Œå°† API Key å¤åˆ¶ä¿å­˜ä¸‹æ¥ã€‚åœ¨ VPS ä¸Šè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\nexport CF_Key=\u0026#34;Your_API_Key\u0026#34; export CF_Email=\u0026#34;Your_CloudFlare_Email\u0026#34; å…¶ä¸­ CF_Key å’Œ CF_Email å¡«å…¥è‡ªå·±çš„ API Key å’Œ CloudFlare è´¦æˆ·é‚®ç®±ã€‚\n3.ç”³è¯·è¯ä¹¦ ~/.acme.sh/acme.sh --issue --dns dns_cf -d your_domain.com -d *.your_domain.com -k ec-256 ä»¥ä¸Šå‘½ä»¤ä¸­çš„ your_domain.com æ›¿æ¢ä¸ºè‡ªå·±çš„åŸŸåï¼Œè¿™ä¸ªå‘½ä»¤ä¼šç”Ÿæˆ *.your_domain.com æ³›åŸŸåçš„ SSL è¯ä¹¦ï¼Œå³ your_domain.com ä¸‹æ‰€æœ‰çš„äºŒçº§ã€ä¸‰çº§åŸŸåéƒ½ä¼šå—åˆ°è¯ä¹¦ä¿æŠ¤ã€‚æ‰€ç”³è¯·åˆ°çš„è¯ä¹¦æ–‡ä»¶å­˜æ”¾åœ¨ ~/.acme.sh/your_domain.com_ecc æ–‡ä»¶å¤¹ä¸‹ï¼Œ~ ä»£è¡¨å½“å‰ç”¨æˆ·ç›®å½•ï¼Œè‹¥å½“å‰æ˜¯ root ç”¨æˆ·ï¼Œåˆ™ ~ ä»£è¡¨ /rootã€‚\n4.å®‰è£…è¯ä¹¦å¹¶å¯ç”¨è‡ªåŠ¨æ›´æ–° å°†è¯ä¹¦å®‰è£…åˆ° /home/tls è·¯å¾„ä¸‹\n~/.acme.sh/acme.sh --installcert -d your_domain.com -d *.your_domain.com --fullchainpath /home/tls/your_domain.com.crt --keypath /home/tls/your_domain.com.key --ecc\racme.sh --upgrade --auto-upgrade åŒæ ·å°†ä»¥ä¸Šå‘½ä»¤ä¸­çš„ your_domain.com æ›¿æ¢ä¸ºè‡ªå·±çš„åŸŸåï¼Œæ­¤æ—¶åœ¨ /home/tls è·¯å¾„ä¸‹ä¼šç”Ÿæˆè¯ä¹¦æ–‡ä»¶ your_domain.com.crt å’Œå¯†é’¥æ–‡ä»¶ your_domain.com.keyã€‚ç¬¬äºŒè¡Œå‘½ä»¤è®¾ç½®è¯ä¹¦åˆ°æœŸè‡ªåŠ¨æ›´æ–°ã€‚\n5.VPS ä¸Š Nginx è®¾ç½® å®‰è£… Nginx\napt-get install nginx -y vi /etc/nginx/sites-enabled/default ç”¨ä»¥ä¸‹å†…å®¹è¦†ç›–åŸé…ç½®defaultï¼š\nserver { # å½“ http åè®®è¢«è¯·æ±‚æ—¶ï¼Œç»Ÿä¸€è½¬å‘åˆ° https åè®®ä¸Š listen 80; listen [::]:80; # IPV6 åè®® server_name your_domain.com; rewrite ^(.*)$ https://$host$1 permanent; } server { listen 443 ssl; listen [::]:443 ssl; ssl_certificate /home/tls/your_domain.com.crt; # è¯ä¹¦çš„ç»å¯¹è·¯å¾„ ssl_certificate_key /home/tls/your_domain.com.key; # è¯ä¹¦å¯†é’¥çš„ç»å¯¹è·¯å¾„ server_name your_domain.com; location / { root /var/www/blog/; #ç«™ç‚¹æ–‡ä»¶çš„è·¯å¾„ index index.html; } # è¯ä¹¦éªŒè¯ location location /.well-known/acme-challenge/ { root /home/tls/; # è¯ä¹¦æ–‡ä»¶å¤¹çš„è·¯å¾„ log_not_found off; } } åŒæ ·ï¼Œå°† your_domain.com æ›¿æ¢ä¸ºè‡ªå·±çš„åŸŸåã€‚ä»¥ä¸Š Nginx é…ç½®æ–‡ä»¶çš„å¤§æ¦‚å«ä¹‰è§æ³¨é‡Šï¼Œè¯¦ç»†å«ä¹‰è§ Nginx å®˜æ–¹æ–‡æ¡£ã€‚\nä¿®æ”¹é…ç½®æ–‡ä»¶åéœ€è¦é‡å¯ Nginx systemctl restart nginx ","date":"2020-10-26T21:01:00+08:00","permalink":"//localhost:1313/post/tech/use-git-deploy-hugo/","section":"post","tags":["Hugo","Github","vps"],"title":"ç”¨Hugoåˆ›å»ºBlogç«™ç‚¹å¹¶éƒ¨ç½²åˆ°VPS"},{"categories":["tech"],"contents":"Hugo Package wget https://github.com/gohugoio/hugo/releases/download/v0.76.5/hugo_0.76.5_Linux-64bit.tar.gz\rtar -xzvf hugo_0.76.5_Linux-64bit.tar.gz\rsudo mv hugo /usr/local/bin/hugo\rhugo version åˆ›å»ºä»“åº“hug0 æœ¬åœ°æ–°å»ºç›®å½• g:\\hugo\\hugo\\\næ–°å»ºä¸€ä¸ªæµ‹é€Ÿç½‘é¡µæ–‡ä»¶index.html\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;æˆ‘çš„ç¬¬ä¸€ä¸ª HTML é¡µé¢\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;body å…ƒç´ çš„å†…å®¹ä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸­ã€‚\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;title å…ƒç´ çš„å†…å®¹ä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„æ ‡é¢˜æ ä¸­ã€‚\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; git init\recho ^\u0026lt;h1^\u0026gt; Test Caddy Working^\u0026lt;/h1^\u0026gt;\rgit add .\rgit commit -m \u0026#34;first Test\u0026#34;\rgit remote add origin https://github.com/hsuzo1/hug0\rgit push -u origin master pushååœ¨ä»“åº“çš„masterä¸‹å¯è§äº† åˆ›å»ºvpsä¸Šçš„ç½‘é¡µç›®å½•\nmkdir /var/www\rmkdir /var/www/hugo\rcd /var/www echo \u0026#34;deb [trusted=yes] https://apt.fury.io/caddy/ /\u0026#34; | sudo tee -a /etc/apt/sources.list.d/caddy-fury.list\rsudo apt update\rsudo apt install caddy ä¿®æ”¹caddyé…ç½®æ–‡ä»¶ä»¥é€šè¿‡åŸŸåè®¿é—® blog.hsuzo.cn\rroot * /var/www/hugo\rfile_server å†ç¼–è¾‘Caddyfile\nhttp://blog.hsuzo.cn\rgit github.com/hsuzo1/hug0 .\rroot /var/www/hugo\rsudo setcap \u0026#39;cap_net_bind_service=+ep\u0026#39; /usr/bin/caddy\rcurl https://getcaddy.com | bash -s personal http.git,http.hugo ","date":"2020-10-25T21:34:23+08:00","permalink":"//localhost:1313/post/tech/noteforgit/","section":"post","tags":["Hugo","Git"],"title":"GITå‘½ä»¤çš„å¸¸ç”¨æ–¹æ³•"},{"categories":["tech"],"contents":"æ¥ä¸‹æ¥åˆ°å½“å‰Repositoryæ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸­ï¼Œå¦‚æœæ²¡æœ‰åˆå§‹åŒ–è¿‡ï¼Œå®‰è£…æ–‡ç« å¼€å§‹åˆå§‹åŒ–çš„æ–¹æ³•ï¼Œè¿›è¡Œåˆå§‹åŒ–ã€‚ ç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤\ngit remote add origin https://github.com/xuanhun/vscode.git git pull origin master ç°åœ¨æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹.gitæ–‡ä»¶å¤¹ä¸‹çš„configæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°æ·»åŠ äº†è¿œç¨‹Repsåœ°å€ã€‚ å†æ¬¡ä¿®æ”¹MDï¼Œpush\n","date":"2020-10-22T09:42:40+08:00","permalink":"//localhost:1313/post/tech/vs/","section":"post","tags":["git","vs code"],"title":"GITæ·»åŠ è¿œç¨‹ä»“åº“"},{"categories":["Hugo"],"contents":"\rä¸€å®¤ä¸€å…ç”µçº¿ç”¨é‡ ç”µçº¿BV1.5å¹³æ–¹å•è‰²çº¿2å·ï¼ˆå³ï¼Œé›¶çº¿ã€ç«çº¿å„100ç±³ï¼‰\nç”µçº¿BV2.5å¹³æ–¹æ·¡è‰²çº¿3å·ï¼ˆå³ï¼Œé›¶çº¿ã€ç«çº¿ã€åœ°çº¿å„100ç±³ï¼‰\n4èŠ¯ç”µè¯çº¿30ç±³ï¼Œé«˜æ¸…ç”µè§†çº¿30ç±³ï¼Œç”µè„‘çº¿30ç±³\näºŒå®¤ä¸€å…ç”µçº¿ç”¨é‡ ç”µçº¿BV1.5å¹³æ–¹å•è‰²çº¿100ç±³2å·ï¼Œ50ç±³2å·ï¼ˆå³ï¼Œé›¶çº¿ã€ç«çº¿å„150ç±³ï¼‰\nç”µçº¿BV2.5å¹³æ–¹æ·¡è‰²çº¿100ç±³3å·ï¼Œ50ç±³3å·ï¼ˆå³ï¼Œé›¶çº¿ã€ç«çº¿ã€åœ°çº¿å„150ç±³ï¼‰\n4èŠ¯ç”µè¯çº¿50ç±³ï¼Œé«˜æ¸…ç”µè§†çº¿50ç±³ï¼Œç”µè„‘çº¿50ç±³\nä¸‰å®¤ä¸€å…ç”µçº¿ç”¨é‡ ç”µçº¿BV1.5å¹³æ–¹å•è‰²çº¿100ç±³4å·ï¼ˆå³ï¼Œé›¶çº¿ã€ç«çº¿å„200ç±³ï¼‰\nç”µçº¿BV2.5å¹³æ–¹æ·¡è‰²çº¿100ç±³6å·ï¼ˆå³ï¼Œé›¶çº¿ã€ç«çº¿ã€åœ°çº¿å„200ç±³ï¼‰ 4èŠ¯ç”µè¯çº¿50ç±³ï¼Œé«˜æ¸…ç”µè§†çº¿50ç±³ï¼Œç”µè„‘çº¿50ç±³\n","date":"2020-10-20T16:24:37+08:00","permalink":"//localhost:1313/post/life/zh/001/","section":"post","tags":null,"title":"Hugoçš„ä¸­æ–‡åšæ–‡æµ‹è¯•"},{"categories":null,"contents":"Getting started Installation Create a new Hugo site:\n$ hugo new site [path] Clone this repository into themes/ directory:\n$ cd [path]\r$ git clone https://github.com/vaga/hugo-theme-m10c.git themes/m10c Add this line in the config.toml file:\ntheme = \u0026#34;m10c\u0026#34; Configuration In your config.toml file, define the following variables in params:\nauthor: Name of the author description: Short description of the author avatar: Path of file containing the author avatar image menu_item_separator: Separator between each menu item. HTML allowed (default: \u0026quot; - â€œ) To add a menu item, add the following lines in menu:\n[[menu.main]] identifier = \u0026ldquo;tags\u0026rdquo; name = \u0026ldquo;Tags\u0026rdquo; url = \u0026ldquo;/tags/\u0026rdquo; Read Hugo documentations for more informations about menu\nTo add a social link, add the following lines in params:\n[[params.social]] name = \u0026ldquo;github\u0026rdquo; url = \u0026ldquo;\rhttps://github.com/vaga\"\rTo change theme colors, add the following lines in params:\n[params.style] darkestColor = \u0026ldquo;#d35050\u0026rdquo; darkColor = \u0026ldquo;#212121\u0026rdquo; lightColor = \u0026ldquo;#f5e3e0\u0026rdquo; lightestColor = \u0026ldquo;#f5f5f5\u0026rdquo; primaryColor = \u0026ldquo;#fff\u0026rdquo; If you want the above theme colors, you can see the exampleSite/config.toml file.\nStyling To override styles using scss, add a file called _extra.scss to {your site directory}/assets/css/\nNote: Hugo releases come in two versions, hugo and hugo_extended. You need hugo_extended to automatically compile your scss.\nLicense This theme is released under the MIT License.\nAcknowledgements feather - MIT\n","date":"2020-10-20T10:10:55+08:00","permalink":"//localhost:1313/post/abc/","section":"post","tags":null,"title":"ç¬¬ä¸€ä¸ªåšå®¢å†…å®¹"}]